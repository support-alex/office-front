(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-90568412"],{"0d53":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card card-custom gutter-b card-stretch card-shadowless"},[e("div",{staticClass:"card-body p-0 d-flex"},[e("div",{staticClass:"d-flex align-items-start justify-content-start flex-grow-1 bg-light-warning p-8 card-rounded flex-grow-1 position-relative"},[e("div",{staticClass:"d-flex flex-column align-items-start flex-grow-1 h-100"},[t._m(0),e("a",{staticClass:"btn btn-link btn-link-warning font-weight-bold",attrs:{href:"#"}},[t._v("Create Report "),e("span",{staticClass:"svg-icon svg-icon-lg svg-icon-warning"},[e("inline-svg",{attrs:{src:"media/svg/icons/Navigation/Arrow-right.svg"}})],1)])]),t._m(1)])])])},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"p-1 flex-grow-1"},[e("h4",{staticClass:"text-warning font-weight-bolder"},[t._v("30 Days Free Trial")]),e("p",{staticClass:"text-dark-50 font-weight-bold mt-3"},[t._v(" Pay 0$ for the First Month ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"position-absolute right-0 bottom-0 mr-5 overflow-hidden"},[e("img",{staticClass:"max-h-200px max-h-xl-275px mb-n20",attrs:{src:"media/svg/humans/custom-13.svg",alt:""}})])}],o={name:"widget-1"},i=o,r=e("2877"),l=Object(r["a"])(i,s,n,!1,null,null,null);l.exports},5373:function(t,a,e){},"85ad":function(t,a,e){"use strict";e("5373")},9520:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card card-custom p-10 d-flex justify-content-center"},[e("div",{staticClass:"blockui"}),t._m(0),t._v(" "),e("div",{staticClass:"d-flex align-items-center justify-content-center mb-7"},[e("div",{staticClass:"d-flex align-items-center flex-shrink-0 mr-4",staticStyle:{height:"75px"}},[e("div",{staticClass:"d-flex align-items-center symbol-lg-75 "},[e("img",{staticStyle:{width:"120px"},attrs:{src:t.getImage(t.shopInfo.shop.shopInfoId,t.shopInfo.shop.logo),alt:"image"}})])]),e("div",{staticClass:"d-flex flex-column"},[e("div",{staticClass:"text-dark font-weight-bold text-hover-primary font-size-h4 mb-0"},[t._v(t._s(t.shopInfo.shop.name))]),e("span",{staticClass:"text-muted font-weight-bold"},[t._v("---------")]),e("span",{staticClass:"font-weight-bold"},[t._v("สถานะ : "+t._s(t.shopInfo.shop.statusInfo))]),e("span",{staticClass:"text-muted font-weight-bold"},[t._v(t._s(t.systemDesc1))]),e("span",{staticClass:"text-muted font-weight-bold"},[t._v(t._s(t.systemDesc2))])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-9",staticStyle:{"margin-left":"auto","margin-right":"auto"}},[e("div",{staticClass:"row pt-10 pb-10"},[e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v("ทดลอง/หยุดทดลอง")]),e("b-form-select",{staticClass:"form-control form-control-solid form-control-lg",attrs:{name:"shopStatusInfo",state:t.shopStatusInfoState},model:{value:t.shopStatusInfo,callback:function(a){t.shopStatusInfo=a},expression:"shopStatusInfo"}},[e("option",{attrs:{value:"",selected:""}},[t._v("-- เลือกว่าทดลองก่อน/ใช้จริง --")]),e("option",{attrs:{value:"trial"}},[t._v("ทดลองก่อน")]),e("option",{attrs:{value:"onHold"}},[t._v("หยุด trial ไว้ก่อน")])])],1)]),t._v(" "),e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Package Size")]),e("b-form-select",{staticClass:"form-control form-control-solid form-control-lg",attrs:{name:"Package",state:t.shopPackageState},model:{value:t.shopPackage,callback:function(a){t.shopPackage=a},expression:"shopPackage"}},[e("option",{attrs:{value:"",selected:""}},[t._v("-- เลือก package ไซส์ S,M,L --")]),e("option",{attrs:{value:"s"}},[t._v("ธุรกิจเริ่มต้น (S)")]),e("option",{attrs:{value:"m"}},[t._v("ธุรกิจขนาดกลาง (M)")]),e("option",{attrs:{value:"l"}},[t._v("ธุรกิจกำลังเติบโต (L)")])])],1)])]),t._v(" "),e("div",{staticClass:"row d-flex"},[e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v("เริ่มทดลอง")]),e("b-form-datepicker",{staticClass:"form-control form-control-solid form-control-lg",attrs:{id:"datepicker-trial-start","today-button":"","reset-button":"","close-button":"",locale:"th",state:t.trialStartState},model:{value:t.trialStart,callback:function(a){t.trialStart=a},expression:"trialStart"}})],1)]),t._v(" "),e("div",{staticClass:"col-xl-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v("สิ้นสุด")]),e("b-form-datepicker",{staticClass:"form-control form-control-solid form-control-lg",attrs:{id:"datepicker-trial-end","today-button":"","reset-button":"","close-button":"",locale:"th",state:t.trialEndState},model:{value:t.trialEnd,callback:function(a){t.trialEnd=a},expression:"trialEnd"}})],1)])]),t._v(" "),e("div",{staticClass:"d-flex justify-content-between pt-10"},[e("div",{staticClass:"btn btn-light-primary font-weight-bold text-uppercase px-9 py-4",on:{click:function(a){return t.backToList()}}},[t._v(" Previous ")]),e("div",[e("button",{staticClass:"btn btn-success font-weight-bold text-uppercase px-9 py-4",attrs:{"data-wizard-type":"action-submit"},on:{click:t.submit}},[t._v(" Submit ")])])])])])])},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row pb-8"},[e("div",{staticClass:"col-xl-9",staticStyle:{"margin-left":"auto","margin-right":"auto"}},[e("h2",{staticClass:"text-dark font-weight-bold mt-2 mb-2 mr-5 font-weight-bolder"},[t._v("Update Trial")])])])}],o=e("1da1"),i=(e("96cf"),e("0bce"),e("0d53"),e("d6e8"),e("3d20")),r=e.n(i),l=e("bc3a"),c=e.n(l),u=e("52ff"),h={name:"update-package",mixins:[u["a"]],data:function(){return{shopInfo:{},shopName:"",shopNameState:null,shopDescription:"",shopPackage:"",shopPackageState:null,packageStart:null,packageStartState:null,packageEnd:null,packageEndState:null,trialStart:null,trialStartState:null,trialEnd:null,trialEndState:null,shopCategory:"",shopCategoryState:null,shopPhone:"",shopPhoneState:null,shopLine:"",shopLineState:null,paid:!1,shopStatusInfo:"",shopStatusInfoState:null,disableBtn:!1,systemDesc1:"",systemDesc2:""}},computed:{},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.currentShopCode=t.$route.params.shopCode,a.next=3,t.init();case 3:case"end":return a.stop()}}),a)})))()},mounted:function(){},methods:{init:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e,s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t.$store.state.common.baseUrl+"/office-api/shop/get-one-shop/"+t.currentShopCode,s=null,a.prev=2,a.next=5,c.a.get(e,t.$store.state.auth.apiHeader);case 5:s=a.sent,t.shopInfo=s.data,t.shopPackage=t.shopInfo.trial.package,t.shopStatusInfo=t.shopInfo.shop.statusInfo,t.trialStart=t.shopInfo.trial.startDateTime,t.trialEnd=t.shopInfo.trial.endDateTime,n=null===t.shopInfo.trial.startDateTime||null===t.shopInfo.trial.endDateTime?"ไม่ได้กำหนด":"ตั้งแต่ "+t.format_ddmmyyy(t.shopInfo.trial.startDateTime)+" ถึง "+t.format_ddmmyyy(t.shopInfo.trial.endDateTime),t.systemDesc1="ระยะเวลา "+n+"\n",t.systemDesc2="Packge size : "+t.shopInfo.shop.package,a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](2),r.a.fire({title:"",text:"ดึงข้อมูลไม่สำเร็จ",icon:"warning",confirmButtonClass:"btn btn-warning"});case 19:case"end":return a.stop()}}),a,null,[[2,16]])})))()},checkAllRequired:function(){this.shopPackageStateCheck(),this.shopStatusInfoStateCheck(),this.trialStartCheck(),this.trialEndCheck()},shopPackageStateCheck:function(){this.shopPackageState=this.validate_select(this.shopPackage)},shopStatusInfoStateCheck:function(){this.shopStatusInfoState=this.validate_select(this.shopStatusInfo)},trialStartCheck:function(){this.trialStartState=this.validate_date(this.trialStart)},trialEndCheck:function(){this.trialEndState=this.validate_date(this.trialEnd)},validate_date:function(t){return null!==t&&void 0!==t&&""!==t},validate_text_required:function(t,a){return a.length>=t&&a.length>0&&null!==a.length},validate_select:function(t){return null!==t&&""!==t&&void 0!==t},submit:function(t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var s,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=!1,a.checkAllRequired(),a.shopPackageState&&a.shopStatusInfoState&&a.trialStartState&&a.trialEndState&&(s=!0),!1!==s){e.next=7;break}return a.disableBtn=!1,r.a.fire({title:"",text:"ยังใส่ข้อมูลไม่ครบถ้วน",icon:"warning",confirmButtonClass:"btn btn-secondary"}),e.abrupt("return");case 7:return a.disableBtn=!0,n={shopCode:a.shopInfo.shop.shopInfoId,shopPackage:a.shopPackage,shopStatusInfo:a.shopStatusInfo,trialStart:a.formatDate(a.trialStart),trialEnd:a.formatDate(a.trialEnd)},null,o=a.$store.state.common.baseUrl+"/office-api/shop/update-trial",e.prev=11,e.next=14,c.a.post(o,n,a.$store.state.auth.apiHeader);case 14:e.sent,e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](11),r.a.fire({title:"",text:"อัพเดตข้อมูลไม่สำเร็จ",icon:"warning",confirmButtonClass:"btn btn-warning"});case 20:r.a.fire({title:"",text:"อัพเดตข้อมูล trial ร้อยแล้ว",icon:"success",confirmButtonClass:"btn btn-secondary"}).then((function(t){a.$router.push("/shop-list")})),t.preventDefault();case 23:case"end":return e.stop()}}),e,null,[[11,17]])})))()},backToList:function(){this.$router.push("/shop-list")}},watch:{shopStatusInfo:function(){this.shopStatusInfoStateCheck()},shopPackage:function(){this.shopPackageStateCheck()},trialStart:function(){this.trialStartCheck()},trialEnd:function(){this.trialEndCheck()}}},d=h,p=(e("85ad"),e("fd55"),e("2877")),f=Object(p["a"])(d,s,n,!1,null,null,null);a["default"]=f.exports},adcf:function(t,a,e){},fd55:function(t,a,e){"use strict";e("adcf")}}]);
//# sourceMappingURL=chunk-90568412.d1818316.js.map