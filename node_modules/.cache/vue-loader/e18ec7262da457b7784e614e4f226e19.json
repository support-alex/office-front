{"remainingRequest":"/Users/belliecee/Documents/00_Bisinnoco/Bisinnoco/office-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/belliecee/Documents/00_Bisinnoco/Bisinnoco/office-front/src/view/pages/profile/profile-comp/PersonalInformation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/belliecee/Documents/00_Bisinnoco/Bisinnoco/office-front/src/view/pages/profile/profile-comp/PersonalInformation.vue","mtime":1607442706000},{"path":"/Users/belliecee/Documents/00_Bisinnoco/Bisinnoco/office-front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/belliecee/Documents/00_Bisinnoco/Bisinnoco/office-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/belliecee/Documents/00_Bisinnoco/Bisinnoco/office-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7DQppbXBvcnQgeyBVUERBVEVfUEVSU09OQUxfSU5GTyB9IGZyb20gIkAvY29yZS9zZXJ2aWNlcy9zdG9yZS9wcm9maWxlLm1vZHVsZSI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIlBlcnNvbmFsSW5mb3JtYXRpb24iLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBkZWZhdWx0X3Bob3RvOiAibWVkaWEvdXNlcnMvYmxhbmsucG5nIiwNCiAgICAgIGN1cnJlbnRfcGhvdG86IG51bGwNCiAgICB9Ow0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuY3VycmVudF9waG90byA9IHRoaXMuY3VycmVudFVzZXJQZXJzb25hbEluZm8ucGhvdG87DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBzYXZlKCkgew0KICAgICAgdmFyIG5hbWUgPSB0aGlzLiRyZWZzLm5hbWUudmFsdWU7DQogICAgICB2YXIgc3VybmFtZSA9IHRoaXMuJHJlZnMuc3VybmFtZS52YWx1ZTsNCiAgICAgIHZhciBjb21wYW55X25hbWUgPSB0aGlzLiRyZWZzLmNvbXBhbnlfbmFtZS52YWx1ZTsNCiAgICAgIHZhciBwaG9uZSA9IHRoaXMuJHJlZnMucGhvbmUudmFsdWU7DQogICAgICB2YXIgZW1haWwgPSB0aGlzLiRyZWZzLmVtYWlsLnZhbHVlOw0KICAgICAgdmFyIGNvbXBhbnlfc2l0ZSA9IHRoaXMuJHJlZnMuY29tcGFueV9zaXRlLnZhbHVlOw0KICAgICAgdmFyIHBob3RvID0gdGhpcy5waG90bzsNCg0KICAgICAgLy8gc2V0IHNwaW5uZXIgdG8gc3VibWl0IGJ1dHRvbg0KICAgICAgY29uc3Qgc3VibWl0QnV0dG9uID0gdGhpcy4kcmVmc1sia3Rfc2F2ZV9jaGFuZ2VzIl07DQogICAgICBzdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCgic3Bpbm5lciIsICJzcGlubmVyLWxpZ2h0IiwgInNwaW5uZXItcmlnaHQiKTsNCg0KICAgICAgLy8gZHVtbXkgZGVsYXkNCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAvLyBzZW5kIHVwZGF0ZSByZXF1ZXN0DQogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKFVQREFURV9QRVJTT05BTF9JTkZPLCB7DQogICAgICAgICAgbmFtZSwNCiAgICAgICAgICBzdXJuYW1lLA0KICAgICAgICAgIGNvbXBhbnlfbmFtZSwNCiAgICAgICAgICBwaG9uZSwNCiAgICAgICAgICBlbWFpbCwNCiAgICAgICAgICBjb21wYW55X3NpdGUsDQogICAgICAgICAgcGhvdG8NCiAgICAgICAgfSk7DQoNCiAgICAgICAgc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoDQogICAgICAgICAgInNwaW5uZXIiLA0KICAgICAgICAgICJzcGlubmVyLWxpZ2h0IiwNCiAgICAgICAgICAic3Bpbm5lci1yaWdodCINCiAgICAgICAgKTsNCiAgICAgIH0sIDIwMDApOw0KICAgIH0sDQogICAgY2FuY2VsKCkgew0KICAgICAgdGhpcy4kcmVmcy5uYW1lLnZhbHVlID0gdGhpcy5jdXJyZW50VXNlclBlcnNvbmFsSW5mby5uYW1lOw0KICAgICAgdGhpcy4kcmVmcy5zdXJuYW1lLnZhbHVlID0gdGhpcy5jdXJyZW50VXNlclBlcnNvbmFsSW5mby5zdXJuYW1lOw0KICAgICAgdGhpcy4kcmVmcy5jb21wYW55X25hbWUudmFsdWUgPSB0aGlzLmN1cnJlbnRVc2VyUGVyc29uYWxJbmZvLmNvbXBhbnlfbmFtZTsNCiAgICAgIHRoaXMuJHJlZnMucGhvbmUudmFsdWUgPSB0aGlzLmN1cnJlbnRVc2VyUGVyc29uYWxJbmZvLnBob25lOw0KICAgICAgdGhpcy4kcmVmcy5lbWFpbC52YWx1ZSA9IHRoaXMuY3VycmVudFVzZXJQZXJzb25hbEluZm8uZW1haWw7DQogICAgICB0aGlzLiRyZWZzLmNvbXBhbnlfc2l0ZS52YWx1ZSA9IHRoaXMuY3VycmVudFVzZXJQZXJzb25hbEluZm8uY29tcGFueV9zaXRlOw0KICAgICAgdGhpcy5jdXJyZW50X3Bob3RvID0gdGhpcy5jdXJyZW50VXNlclBlcnNvbmFsSW5mby5waG90bzsNCiAgICB9LA0KICAgIG9uRmlsZUNoYW5nZShlKSB7DQogICAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF07DQoNCiAgICAgIGlmICh0eXBlb2YgRmlsZVJlYWRlciA9PT0gImZ1bmN0aW9uIikgew0KICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOw0KDQogICAgICAgIHJlYWRlci5vbmxvYWQgPSBldmVudCA9PiB7DQogICAgICAgICAgdGhpcy5jdXJyZW50X3Bob3RvID0gZXZlbnQudGFyZ2V0LnJlc3VsdDsNCiAgICAgICAgfTsNCg0KICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGFsZXJ0KCJTb3JyeSwgRmlsZVJlYWRlciBBUEkgbm90IHN1cHBvcnRlZCIpOw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBHZXR0ZXJzKFsiY3VycmVudFVzZXJQZXJzb25hbEluZm8iXSksDQogICAgcGhvdG8oKSB7DQogICAgICByZXR1cm4gdGhpcy5jdXJyZW50X3Bob3RvID09IG51bGwNCiAgICAgICAgPyB0aGlzLmRlZmF1bHRfcGhvdG8NCiAgICAgICAgOiB0aGlzLmN1cnJlbnRfcGhvdG87DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["PersonalInformation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgNA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PersonalInformation.vue","sourceRoot":"src/view/pages/profile/profile-comp","sourcesContent":["<template>\r\n  <!--begin::Card-->\r\n  <div class=\"card card-custom\">\r\n    <!--begin::Header-->\r\n    <div class=\"card-header py-3\">\r\n      <div class=\"card-title align-items-start flex-column\">\r\n        <h3 class=\"card-label font-weight-bolder text-dark\">\r\n          Personal Information\r\n        </h3>\r\n        <span class=\"text-muted font-weight-bold font-size-sm mt-1\"\r\n          >Update your personal informaiton</span\r\n        >\r\n      </div>\r\n      <div class=\"card-toolbar\">\r\n        <button\r\n          type=\"reset\"\r\n          class=\"btn btn-success mr-2\"\r\n          @click=\"save()\"\r\n          ref=\"kt_save_changes\"\r\n        >\r\n          Save Changes\r\n        </button>\r\n        <button type=\"reset\" class=\"btn btn-secondary\" @click=\"cancel()\">\r\n          Cancel\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <!--end::Header-->\r\n    <!--begin::Form-->\r\n    <form class=\"form\">\r\n      <!--begin::Body-->\r\n      <div class=\"card-body\">\r\n        <div class=\"row\">\r\n          <label class=\"col-xl-3\"></label>\r\n          <div class=\"col-lg-9 col-xl-6\">\r\n            <h5 class=\"font-weight-bold mb-6\">Customer Info</h5>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group row\">\r\n          <label class=\"col-xl-3 col-lg-3 col-form-label text-right\"\r\n            >Avatar</label\r\n          >\r\n          <div class=\"col-lg-9 col-xl-6\">\r\n            <div class=\"image-input image-input-outline\" id=\"kt_profile_avatar\">\r\n              <div\r\n                class=\"image-input-wrapper\"\r\n                :style=\"{ backgroundImage: `url(${photo})` }\"\r\n              ></div>\r\n              <label\r\n                class=\"btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow\"\r\n                data-action=\"change\"\r\n                data-toggle=\"tooltip\"\r\n                title=\"\"\r\n                data-original-title=\"Change avatar\"\r\n              >\r\n                <i class=\"fa fa-pen icon-sm text-muted\"></i>\r\n                <input\r\n                  type=\"file\"\r\n                  name=\"profile_avatar\"\r\n                  accept=\".png, .jpg, .jpeg\"\r\n                  @change=\"onFileChange($event)\"\r\n                />\r\n                <input type=\"hidden\" name=\"profile_avatar_remove\" />\r\n              </label>\r\n              <span\r\n                class=\"btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow\"\r\n                data-action=\"cancel\"\r\n                data-toggle=\"tooltip\"\r\n                title=\"Cancel avatar\"\r\n              >\r\n                <i class=\"ki ki-bold-close icon-xs text-muted\"></i>\r\n              </span>\r\n              <span\r\n                class=\"btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow\"\r\n                data-action=\"remove\"\r\n                data-toggle=\"tooltip\"\r\n                title=\"Remove avatar\"\r\n                @click=\"current_photo = null\"\r\n              >\r\n                <i class=\"ki ki-bold-close icon-xs text-muted\"></i>\r\n              </span>\r\n            </div>\r\n            <span class=\"form-text text-muted\"\r\n              >Allowed file types: png, jpg, jpeg.</span\r\n            >\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group row\">\r\n          <label class=\"col-xl-3 col-lg-3 col-form-label text-right\"\r\n            >First Name</label\r\n          >\r\n          <div class=\"col-lg-9 col-xl-6\">\r\n            <input\r\n              ref=\"name\"\r\n              class=\"form-control form-control-lg form-control-solid\"\r\n              type=\"text\"\r\n              v-bind:value=\"currentUserPersonalInfo.name\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group row\">\r\n          <label class=\"col-xl-3 col-lg-3 col-form-label text-right\"\r\n            >Last Name</label\r\n          >\r\n          <div class=\"col-lg-9 col-xl-6\">\r\n            <input\r\n              ref=\"surname\"\r\n              class=\"form-control form-control-lg form-control-solid\"\r\n              type=\"text\"\r\n              v-bind:value=\"currentUserPersonalInfo.surname\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group row\">\r\n          <label class=\"col-xl-3 col-lg-3 col-form-label text-right\"\r\n            >Company Name</label\r\n          >\r\n          <div class=\"col-lg-9 col-xl-6\">\r\n            <input\r\n              ref=\"company_name\"\r\n              class=\"form-control form-control-lg form-control-solid\"\r\n              type=\"text\"\r\n              v-bind:value=\"currentUserPersonalInfo.company_name\"\r\n            />\r\n            <span class=\"form-text text-muted\"\r\n              >If you want your invoices addressed to a company. Leave blank to\r\n              use your full name.</span\r\n            >\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <label class=\"col-xl-3\"></label>\r\n          <div class=\"col-lg-9 col-xl-6\">\r\n            <h5 class=\"font-weight-bold mt-10 mb-6\">Contact Info</h5>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group row\">\r\n          <label class=\"col-xl-3 col-lg-3 col-form-label text-right\"\r\n            >Contact Phone</label\r\n          >\r\n          <div class=\"col-lg-9 col-xl-6\">\r\n            <div class=\"input-group input-group-lg input-group-solid\">\r\n              <div class=\"input-group-prepend\">\r\n                <span class=\"input-group-text\">\r\n                  <i class=\"la la-phone\"></i>\r\n                </span>\r\n              </div>\r\n              <input\r\n                ref=\"phone\"\r\n                type=\"text\"\r\n                class=\"form-control form-control-lg form-control-solid\"\r\n                placeholder=\"Phone\"\r\n                v-bind:value=\"currentUserPersonalInfo.phone\"\r\n              />\r\n            </div>\r\n            <span class=\"form-text text-muted\"\r\n              >We'll never share your email with anyone else.</span\r\n            >\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group row\">\r\n          <label class=\"col-xl-3 col-lg-3 col-form-label text-right\"\r\n            >Email Address</label\r\n          >\r\n          <div class=\"col-lg-9 col-xl-6\">\r\n            <div class=\"input-group input-group-lg input-group-solid\">\r\n              <div class=\"input-group-prepend\">\r\n                <span class=\"input-group-text\">\r\n                  <i class=\"la la-at\"></i>\r\n                </span>\r\n              </div>\r\n              <input\r\n                ref=\"email\"\r\n                type=\"text\"\r\n                class=\"form-control form-control-lg form-control-solid\"\r\n                placeholder=\"Email\"\r\n                v-bind:value=\"currentUserPersonalInfo.email\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group row\">\r\n          <label class=\"col-xl-3 col-lg-3 col-form-label text-right\"\r\n            >Company Site</label\r\n          >\r\n          <div class=\"col-lg-9 col-xl-6\">\r\n            <div class=\"input-group input-group-lg input-group-solid\">\r\n              <input\r\n                ref=\"company_site\"\r\n                type=\"text\"\r\n                class=\"form-control form-control-lg form-control-solid\"\r\n                placeholder=\"Username\"\r\n                v-bind:value=\"currentUserPersonalInfo.company_site\"\r\n              />\r\n              <div class=\"input-group-append\">\r\n                <span class=\"input-group-text\">.com</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!--end::Body-->\r\n    </form>\r\n    <!--end::Form-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { UPDATE_PERSONAL_INFO } from \"@/core/services/store/profile.module\";\r\n\r\nexport default {\r\n  name: \"PersonalInformation\",\r\n  data() {\r\n    return {\r\n      default_photo: \"media/users/blank.png\",\r\n      current_photo: null\r\n    };\r\n  },\r\n  mounted() {\r\n    this.current_photo = this.currentUserPersonalInfo.photo;\r\n  },\r\n  methods: {\r\n    save() {\r\n      var name = this.$refs.name.value;\r\n      var surname = this.$refs.surname.value;\r\n      var company_name = this.$refs.company_name.value;\r\n      var phone = this.$refs.phone.value;\r\n      var email = this.$refs.email.value;\r\n      var company_site = this.$refs.company_site.value;\r\n      var photo = this.photo;\r\n\r\n      // set spinner to submit button\r\n      const submitButton = this.$refs[\"kt_save_changes\"];\r\n      submitButton.classList.add(\"spinner\", \"spinner-light\", \"spinner-right\");\r\n\r\n      // dummy delay\r\n      setTimeout(() => {\r\n        // send update request\r\n        this.$store.dispatch(UPDATE_PERSONAL_INFO, {\r\n          name,\r\n          surname,\r\n          company_name,\r\n          phone,\r\n          email,\r\n          company_site,\r\n          photo\r\n        });\r\n\r\n        submitButton.classList.remove(\r\n          \"spinner\",\r\n          \"spinner-light\",\r\n          \"spinner-right\"\r\n        );\r\n      }, 2000);\r\n    },\r\n    cancel() {\r\n      this.$refs.name.value = this.currentUserPersonalInfo.name;\r\n      this.$refs.surname.value = this.currentUserPersonalInfo.surname;\r\n      this.$refs.company_name.value = this.currentUserPersonalInfo.company_name;\r\n      this.$refs.phone.value = this.currentUserPersonalInfo.phone;\r\n      this.$refs.email.value = this.currentUserPersonalInfo.email;\r\n      this.$refs.company_site.value = this.currentUserPersonalInfo.company_site;\r\n      this.current_photo = this.currentUserPersonalInfo.photo;\r\n    },\r\n    onFileChange(e) {\r\n      const file = e.target.files[0];\r\n\r\n      if (typeof FileReader === \"function\") {\r\n        const reader = new FileReader();\r\n\r\n        reader.onload = event => {\r\n          this.current_photo = event.target.result;\r\n        };\r\n\r\n        reader.readAsDataURL(file);\r\n      } else {\r\n        alert(\"Sorry, FileReader API not supported\");\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"currentUserPersonalInfo\"]),\r\n    photo() {\r\n      return this.current_photo == null\r\n        ? this.default_photo\r\n        : this.current_photo;\r\n    }\r\n  }\r\n};\r\n</script>\r\n"]}]}