{"remainingRequest":"C:\\Users\\ASUS\\Documents\\Alex\\office-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ASUS\\Documents\\Alex\\office-front\\src\\view\\pages\\profile\\profile-comp\\ChangePassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ASUS\\Documents\\Alex\\office-front\\src\\view\\pages\\profile\\profile-comp\\ChangePassword.vue","mtime":1670779073712},{"path":"C:\\Users\\ASUS\\Documents\\Alex\\office-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670779062492},{"path":"C:\\Users\\ASUS\\Documents\\Alex\\office-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1670779061577},{"path":"C:\\Users\\ASUS\\Documents\\Alex\\office-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670779062492},{"path":"C:\\Users\\ASUS\\Documents\\Alex\\office-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1670779070622}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7DQppbXBvcnQgeyBVUERBVEVfUEFTU1dPUkQgfSBmcm9tICJAL2NvcmUvc2VydmljZXMvc3RvcmUvYXV0aC5tb2R1bGUiOw0KaW1wb3J0IEtUVXRpbCBmcm9tICJAL2Fzc2V0cy9qcy9jb21wb25lbnRzL3V0aWwiOw0KDQppbXBvcnQgZm9ybVZhbGlkYXRpb24gZnJvbSAiQC9hc3NldHMvcGx1Z2lucy9mb3JtdmFsaWRhdGlvbi9kaXN0L2VzNi9jb3JlL0NvcmUiOw0KDQovLyBGb3JtVmFsaWRhdGlvbiBwbHVnaW5zDQppbXBvcnQgVHJpZ2dlciBmcm9tICJAL2Fzc2V0cy9wbHVnaW5zL2Zvcm12YWxpZGF0aW9uL2Rpc3QvZXM2L3BsdWdpbnMvVHJpZ2dlciI7DQppbXBvcnQgQm9vdHN0cmFwIGZyb20gIkAvYXNzZXRzL3BsdWdpbnMvZm9ybXZhbGlkYXRpb24vZGlzdC9lczYvcGx1Z2lucy9Cb290c3RyYXAiOw0KaW1wb3J0IFN1Ym1pdEJ1dHRvbiBmcm9tICJAL2Fzc2V0cy9wbHVnaW5zL2Zvcm12YWxpZGF0aW9uL2Rpc3QvZXM2L3BsdWdpbnMvU3VibWl0QnV0dG9uIjsNCmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiQ2hhbmdlUGFzc3dvcmQiLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBwYXNzd29yZDogIiIsDQogICAgICBzdGF0dXM6ICIiLA0KICAgICAgdmFsaWQ6IHRydWUNCiAgICB9Ow0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIGNvbnN0IHBhc3N3b3JkX2NoYW5nZV9mb3JtID0gS1RVdGlsLmdldEJ5SWQoImt0X3Bhc3N3b3JkX2NoYW5nZV9mb3JtIik7DQogICAgdmFyIGN1cnJfcGFzc3dvcmQgPSB0aGlzLmN1cnJlbnRVc2VyLnBhc3N3b3JkOw0KDQogICAgdGhpcy5mdiA9IGZvcm1WYWxpZGF0aW9uKHBhc3N3b3JkX2NoYW5nZV9mb3JtLCB7DQogICAgICBmaWVsZHM6IHsNCiAgICAgICAgY3VycmVudF9wYXNzd29yZDogew0KICAgICAgICAgIHZhbGlkYXRvcnM6IHsNCiAgICAgICAgICAgIG5vdEVtcHR5OiB7DQogICAgICAgICAgICAgIG1lc3NhZ2U6ICJDdXJyZW50IHBhc3N3b3JkIGlzIHJlcXVpcmVkIg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGlkZW50aWNhbDogew0KICAgICAgICAgICAgICBjb21wYXJlOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gY3Vycl9wYXNzd29yZDsNCiAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgbWVzc2FnZTogIldyb25nIHBhc3N3b3JkIg0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgbmV3X3Bhc3N3b3JkOiB7DQogICAgICAgICAgdmFsaWRhdG9yczogew0KICAgICAgICAgICAgbm90RW1wdHk6IHsNCiAgICAgICAgICAgICAgbWVzc2FnZTogIk5ldyBwYXNzd29yZCBpcyByZXF1aXJlZCINCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHZlcmlmeV9wYXNzd29yZDogew0KICAgICAgICAgIHZhbGlkYXRvcnM6IHsNCiAgICAgICAgICAgIG5vdEVtcHR5OiB7DQogICAgICAgICAgICAgIG1lc3NhZ2U6ICJDb25maXJtIHBhc3N3b3JkIGlzIHJlcXVpcmVkIg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGlkZW50aWNhbDogew0KICAgICAgICAgICAgICBjb21wYXJlOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gcGFzc3dvcmRfY2hhbmdlX2Zvcm0ucXVlcnlTZWxlY3RvcigNCiAgICAgICAgICAgICAgICAgICdbbmFtZT0ibmV3X3Bhc3N3b3JkIl0nDQogICAgICAgICAgICAgICAgKS52YWx1ZTsNCiAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgbWVzc2FnZTogIlRoZSBwYXNzd29yZCBhbmQgaXRzIGNvbmZpcm0gYXJlIG5vdCB0aGUgc2FtZSINCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICBwbHVnaW5zOiB7DQogICAgICAgIHRyaWdnZXI6IG5ldyBUcmlnZ2VyKCksDQogICAgICAgIGJvb3RzdHJhcDogbmV3IEJvb3RzdHJhcCgpLA0KICAgICAgICBzdWJtaXRCdXR0b246IG5ldyBTdWJtaXRCdXR0b24oKQ0KICAgICAgfQ0KICAgIH0pOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgc2F2ZSgpIHsNCiAgICAgIHRoaXMuZnYudmFsaWRhdGUoKTsNCg0KICAgICAgdGhpcy5mdi5vbigiY29yZS5mb3JtLnZhbGlkIiwgKCkgPT4gew0KICAgICAgICB2YXIgcGFzc3dvcmQgPSB0aGlzLiRyZWZzLm5ld19wYXNzd29yZC52YWx1ZTsNCiAgICAgICAgY29uc3Qgc3VibWl0QnV0dG9uID0gdGhpcy4kcmVmc1sia3Rfc2F2ZV9jaGFuZ2VzIl07DQoNCiAgICAgICAgLy8gc2V0IHNwaW5uZXIgdG8gc3VibWl0IGJ1dHRvbg0KICAgICAgICBzdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCgic3Bpbm5lciIsICJzcGlubmVyLWxpZ2h0IiwgInNwaW5uZXItcmlnaHQiKTsNCg0KICAgICAgICAvLyBkdW1teSBkZWxheQ0KICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAvLyBzZW5kIHVwZGF0ZSByZXF1ZXN0DQogICAgICAgICAgdGhpcy4kc3RvcmUNCiAgICAgICAgICAgIC5kaXNwYXRjaChVUERBVEVfUEFTU1dPUkQsIHsgcGFzc3dvcmQgfSkNCiAgICAgICAgICAgIC8vIGdvIHRvIHdoaWNoIHBhZ2UgYWZ0ZXIgc3VjY2Vzc2Z1bGx5IHVwZGF0ZQ0KICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAiZGFzaGJvYXJkIiB9KSk7DQoNCiAgICAgICAgICBzdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgNCiAgICAgICAgICAgICJzcGlubmVyIiwNCiAgICAgICAgICAgICJzcGlubmVyLWxpZ2h0IiwNCiAgICAgICAgICAgICJzcGlubmVyLXJpZ2h0Ig0KICAgICAgICAgICk7DQogICAgICAgIH0sIDIwMDApOw0KICAgICAgfSk7DQoNCiAgICAgIHRoaXMuZnYub24oImNvcmUuZm9ybS5pbnZhbGlkIiwgKCkgPT4gew0KICAgICAgICBTd2FsLmZpcmUoew0KICAgICAgICAgIHRpdGxlOiAiIiwNCiAgICAgICAgICB0ZXh0OiAiUGxlYXNlLCBwcm92aWRlIGNvcnJlY3QgZGF0YSEiLA0KICAgICAgICAgIGljb246ICJlcnJvciIsDQogICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1zZWNvbmRhcnkiDQogICAgICAgIH0pOw0KICAgICAgfSk7DQogICAgfSwNCiAgICBjYW5jZWwoKSB7DQogICAgICB0aGlzLmZ2LnJlc2V0Rm9ybSgpOw0KICAgICAgdGhpcy4kcmVmcy5jdXJyZW50X3Bhc3N3b3JkLnZhbHVlID0gIiI7DQogICAgICB0aGlzLiRyZWZzLm5ld19wYXNzd29yZC52YWx1ZSA9ICIiOw0KICAgICAgdGhpcy4kcmVmcy52ZXJpZnlfcGFzc3dvcmQudmFsdWUgPSAiIjsNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwR2V0dGVycyhbImN1cnJlbnRVc2VyIl0pDQogIH0NCn07DQo="},{"version":3,"sources":["ChangePassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkJA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ChangePassword.vue","sourceRoot":"src/view/pages/profile/profile-comp","sourcesContent":["<template>\r\n  <!--begin::Card-->\r\n  <div class=\"card card-custom\">\r\n    <!--begin::Header-->\r\n    <div class=\"card-header py-3\">\r\n      <div class=\"card-title align-items-start flex-column\">\r\n        <h3 class=\"card-label font-weight-bolder text-dark\">Change Password</h3>\r\n        <span class=\"text-muted font-weight-bold font-size-sm mt-1\"\r\n          >Change your account password</span\r\n        >\r\n      </div>\r\n      <div class=\"card-toolbar\">\r\n        <button\r\n          type=\"submit\"\r\n          class=\"btn btn-success mr-2\"\r\n          @click=\"save()\"\r\n          ref=\"kt_save_changes\"\r\n        >\r\n          Save Changes\r\n        </button>\r\n        <button type=\"reset\" class=\"btn btn-secondary\" @click=\"cancel()\">\r\n          Cancel\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <!--end::Header-->\r\n    <!--begin::Form-->\r\n    <form class=\"form\" id=\"kt_password_change_form\">\r\n      <div class=\"card-body\">\r\n        <!--begin::Alert-->\r\n        <div\r\n          class=\"alert alert-custom alert-light-danger fade show mb-10\"\r\n          role=\"alert\"\r\n        >\r\n          <div class=\"alert-icon\">\r\n            <span class=\"svg-icon svg-icon-3x svg-icon-danger\">\r\n              <!--begin::Svg Icon | path:assets/media/svg/icons/Code/Info-circle.svg-->\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n                width=\"24px\"\r\n                height=\"24px\"\r\n                viewBox=\"0 0 24 24\"\r\n                version=\"1.1\"\r\n              >\r\n                <g\r\n                  stroke=\"none\"\r\n                  stroke-width=\"1\"\r\n                  fill=\"none\"\r\n                  fill-rule=\"evenodd\"\r\n                >\r\n                  <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\" />\r\n                  <circle fill=\"#000000\" opacity=\"0.3\" cx=\"12\" cy=\"12\" r=\"10\" />\r\n                  <rect\r\n                    fill=\"#000000\"\r\n                    x=\"11\"\r\n                    y=\"10\"\r\n                    width=\"2\"\r\n                    height=\"7\"\r\n                    rx=\"1\"\r\n                  />\r\n                  <rect\r\n                    fill=\"#000000\"\r\n                    x=\"11\"\r\n                    y=\"7\"\r\n                    width=\"2\"\r\n                    height=\"2\"\r\n                    rx=\"1\"\r\n                  />\r\n                </g>\r\n              </svg>\r\n              <!--end::Svg Icon-->\r\n            </span>\r\n          </div>\r\n          <div class=\"alert-text font-weight-bold\">\r\n            Configure user passwords to expire periodically. Users will need\r\n            warning that their passwords are going to expire, <br />or they\r\n            might inadvertently get locked out of the system!\r\n          </div>\r\n          <div class=\"alert-close\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"close\"\r\n              data-dismiss=\"alert\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\">\r\n                <i class=\"ki ki-close\"></i>\r\n              </span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <!--end::Alert-->\r\n        <div class=\"form-group row\">\r\n          <label class=\"col-xl-3 col-lg-3 col-form-label text-alert\"\r\n            >Current Password</label\r\n          >\r\n          <div class=\"col-lg-9 col-xl-6\">\r\n            <input\r\n              type=\"password\"\r\n              class=\"form-control form-control-lg form-control-solid mb-2\"\r\n              value=\"\"\r\n              placeholder=\"Current password\"\r\n              name=\"current_password\"\r\n              ref=\"current_password\"\r\n            />\r\n            <a href=\"#\" class=\"text-sm font-weight-bold\">Forgot password ?</a>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group row\">\r\n          <label class=\"col-xl-3 col-lg-3 col-form-label text-alert\"\r\n            >New Password</label\r\n          >\r\n          <div class=\"col-lg-9 col-xl-6\">\r\n            <input\r\n              type=\"password\"\r\n              class=\"form-control form-control-lg form-control-solid\"\r\n              value=\"\"\r\n              placeholder=\"New password\"\r\n              name=\"new_password\"\r\n              ref=\"new_password\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group row\">\r\n          <label class=\"col-xl-3 col-lg-3 col-form-label text-alert\"\r\n            >Verify Password</label\r\n          >\r\n          <div class=\"col-lg-9 col-xl-6\">\r\n            <input\r\n              type=\"password\"\r\n              class=\"form-control form-control-lg form-control-solid\"\r\n              value=\"\"\r\n              placeholder=\"Verify password\"\r\n              name=\"verify_password\"\r\n              ref=\"verify_password\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n    <!--end::Form-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { UPDATE_PASSWORD } from \"@/core/services/store/auth.module\";\r\nimport KTUtil from \"@/assets/js/components/util\";\r\n\r\nimport formValidation from \"@/assets/plugins/formvalidation/dist/es6/core/Core\";\r\n\r\n// FormValidation plugins\r\nimport Trigger from \"@/assets/plugins/formvalidation/dist/es6/plugins/Trigger\";\r\nimport Bootstrap from \"@/assets/plugins/formvalidation/dist/es6/plugins/Bootstrap\";\r\nimport SubmitButton from \"@/assets/plugins/formvalidation/dist/es6/plugins/SubmitButton\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport default {\r\n  name: \"ChangePassword\",\r\n  data() {\r\n    return {\r\n      password: \"\",\r\n      status: \"\",\r\n      valid: true\r\n    };\r\n  },\r\n  mounted() {\r\n    const password_change_form = KTUtil.getById(\"kt_password_change_form\");\r\n    var curr_password = this.currentUser.password;\r\n\r\n    this.fv = formValidation(password_change_form, {\r\n      fields: {\r\n        current_password: {\r\n          validators: {\r\n            notEmpty: {\r\n              message: \"Current password is required\"\r\n            },\r\n            identical: {\r\n              compare: function() {\r\n                return curr_password;\r\n              },\r\n              message: \"Wrong password\"\r\n            }\r\n          }\r\n        },\r\n        new_password: {\r\n          validators: {\r\n            notEmpty: {\r\n              message: \"New password is required\"\r\n            }\r\n          }\r\n        },\r\n        verify_password: {\r\n          validators: {\r\n            notEmpty: {\r\n              message: \"Confirm password is required\"\r\n            },\r\n            identical: {\r\n              compare: function() {\r\n                return password_change_form.querySelector(\r\n                  '[name=\"new_password\"]'\r\n                ).value;\r\n              },\r\n              message: \"The password and its confirm are not the same\"\r\n            }\r\n          }\r\n        }\r\n      },\r\n      plugins: {\r\n        trigger: new Trigger(),\r\n        bootstrap: new Bootstrap(),\r\n        submitButton: new SubmitButton()\r\n      }\r\n    });\r\n  },\r\n  methods: {\r\n    save() {\r\n      this.fv.validate();\r\n\r\n      this.fv.on(\"core.form.valid\", () => {\r\n        var password = this.$refs.new_password.value;\r\n        const submitButton = this.$refs[\"kt_save_changes\"];\r\n\r\n        // set spinner to submit button\r\n        submitButton.classList.add(\"spinner\", \"spinner-light\", \"spinner-right\");\r\n\r\n        // dummy delay\r\n        setTimeout(() => {\r\n          // send update request\r\n          this.$store\r\n            .dispatch(UPDATE_PASSWORD, { password })\r\n            // go to which page after successfully update\r\n            .then(() => this.$router.push({ name: \"dashboard\" }));\r\n\r\n          submitButton.classList.remove(\r\n            \"spinner\",\r\n            \"spinner-light\",\r\n            \"spinner-right\"\r\n          );\r\n        }, 2000);\r\n      });\r\n\r\n      this.fv.on(\"core.form.invalid\", () => {\r\n        Swal.fire({\r\n          title: \"\",\r\n          text: \"Please, provide correct data!\",\r\n          icon: \"error\",\r\n          confirmButtonClass: \"btn btn-secondary\"\r\n        });\r\n      });\r\n    },\r\n    cancel() {\r\n      this.fv.resetForm();\r\n      this.$refs.current_password.value = \"\";\r\n      this.$refs.new_password.value = \"\";\r\n      this.$refs.verify_password.value = \"\";\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"currentUser\"])\r\n  }\r\n};\r\n</script>\r\n"]}]}