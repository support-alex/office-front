{"remainingRequest":"C:\\Users\\ASUS\\Documents\\Alex\\office-front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ASUS\\Documents\\Alex\\office-front\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\ASUS\\Documents\\Alex\\office-front\\src\\assets\\js\\components\\image-input.js","dependencies":[{"path":"C:\\Users\\ASUS\\Documents\\Alex\\office-front\\src\\assets\\js\\components\\image-input.js","mtime":1670779073126},{"path":"C:\\Users\\ASUS\\Documents\\Alex\\office-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670779062492},{"path":"C:\\Users\\ASUS\\Documents\\Alex\\office-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1670779061577},{"path":"C:\\Users\\ASUS\\Documents\\Alex\\office-front\\node_modules\\eslint-loader\\index.js","mtime":1670779064638}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgS1RVdGlsIGZyb20gIi4vdXRpbCI7IC8vIENvbXBvbmVudCBEZWZpbml0aW9uIAoKdmFyIEtUSW1hZ2VJbnB1dCA9IGZ1bmN0aW9uIEtUSW1hZ2VJbnB1dChlbGVtZW50SWQsIG9wdGlvbnMpIHsKICAvLyBNYWluIG9iamVjdAogIHZhciB0aGUgPSB0aGlzOwogIHZhciBpbml0ID0gZmFsc2U7IC8vIEdldCBlbGVtZW50IG9iamVjdAoKICB2YXIgZWxlbWVudCA9IEtUVXRpbC5nZXRCeUlkKGVsZW1lbnRJZCk7CiAgdmFyIGJvZHkgPSBLVFV0aWwuZ2V0Qm9keSgpOwoKICBpZiAoIWVsZW1lbnQpIHsKICAgIHJldHVybjsKICB9IC8vIERlZmF1bHQgb3B0aW9ucwoKCiAgdmFyIGRlZmF1bHRPcHRpb25zID0gewogICAgZWRpdE1vZGU6IGZhbHNlCiAgfTsgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogIC8vICoqIFByaXZhdGUgTWV0aG9kcyAgKiogLy8KICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogIHZhciBQbHVnaW4gPSB7CiAgICAvKioNCiAgICAgKiBDb25zdHJ1Y3QNCiAgICAgKi8KICAgIGNvbnN0cnVjdDogZnVuY3Rpb24gY29uc3RydWN0KG9wdGlvbnMpIHsKICAgICAgaWYgKEtUVXRpbC5kYXRhKGVsZW1lbnQpLmhhcygnaW1hZ2VpbnB1dCcpKSB7CiAgICAgICAgdGhlID0gS1RVdGlsLmRhdGEoZWxlbWVudCkuZ2V0KCdpbWFnZWlucHV0Jyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gcmVzZXQgbWVudQogICAgICAgIFBsdWdpbi5pbml0KG9wdGlvbnMpOyAvLyBidWlsZCBtZW51CgogICAgICAgIFBsdWdpbi5idWlsZCgpOwogICAgICAgIEtUVXRpbC5kYXRhKGVsZW1lbnQpLnNldCgnaW1hZ2VpbnB1dCcsIHRoZSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGU7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEluaXQgYXZhdGFyDQogICAgICovCiAgICBpbml0OiBmdW5jdGlvbiBpbml0KG9wdGlvbnMpIHsKICAgICAgdGhlLmVsZW1lbnQgPSBlbGVtZW50OwogICAgICB0aGUuZXZlbnRzID0gW107CiAgICAgIHRoZS5pbnB1dCA9IEtUVXRpbC5maW5kKGVsZW1lbnQsICdpbnB1dFt0eXBlPSJmaWxlIl0nKTsKICAgICAgdGhlLndyYXBwZXIgPSBLVFV0aWwuZmluZChlbGVtZW50LCAnLmltYWdlLWlucHV0LXdyYXBwZXInKTsKICAgICAgdGhlLmNhbmNlbCA9IEtUVXRpbC5maW5kKGVsZW1lbnQsICdbZGF0YS1hY3Rpb249ImNhbmNlbCJdJyk7CiAgICAgIHRoZS5yZW1vdmUgPSBLVFV0aWwuZmluZChlbGVtZW50LCAnW2RhdGEtYWN0aW9uPSJyZW1vdmUiXScpOwogICAgICB0aGUuc3JjID0gS1RVdGlsLmNzcyh0aGUud3JhcHBlciwgJ2JhY2tncm91bmRJbWFnZScpOwogICAgICB0aGUuaGlkZGVuID0gS1RVdGlsLmZpbmQoZWxlbWVudCwgJ2lucHV0W3R5cGU9ImhpZGRlbiJdJyk7IC8vIG1lcmdlIGRlZmF1bHQgYW5kIHVzZXIgZGVmaW5lZCBvcHRpb25zCgogICAgICB0aGUub3B0aW9ucyA9IEtUVXRpbC5kZWVwRXh0ZW5kKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEJ1aWxkDQogICAgICovCiAgICBidWlsZDogZnVuY3Rpb24gYnVpbGQoKSB7CiAgICAgIC8vIEhhbmRsZSBjaGFuZ2UKICAgICAgS1RVdGlsLmFkZEV2ZW50KHRoZS5pbnB1dCwgJ2NoYW5nZScsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICBpZiAodGhlLmlucHV0ICYmIHRoZS5pbnB1dC5maWxlcyAmJiB0aGUuaW5wdXQuZmlsZXNbMF0pIHsKICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBLVFV0aWwuY3NzKHRoZS53cmFwcGVyLCAnYmFja2dyb3VuZC1pbWFnZScsICd1cmwoJyArIGUudGFyZ2V0LnJlc3VsdCArICcpJyk7CiAgICAgICAgICB9OwoKICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKHRoZS5pbnB1dC5maWxlc1swXSk7CiAgICAgICAgICBLVFV0aWwuYWRkQ2xhc3ModGhlLmVsZW1lbnQsICdpbWFnZS1pbnB1dC1jaGFuZ2VkJyk7CiAgICAgICAgICBLVFV0aWwucmVtb3ZlQ2xhc3ModGhlLmVsZW1lbnQsICdpbWFnZS1pbnB1dC1lbXB0eScpOyAvLyBGaXJlIGNoYW5nZSBldmVudAoKICAgICAgICAgIFBsdWdpbi5ldmVudFRyaWdnZXIoJ2NoYW5nZScpOwogICAgICAgIH0KICAgICAgfSk7IC8vIEhhbmRsZSBjYW5jZWwKCiAgICAgIEtUVXRpbC5hZGRFdmVudCh0aGUuY2FuY2VsLCAnY2xpY2snLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8gRmlyZSBjYW5jZWwgZXZlbnQKCiAgICAgICAgUGx1Z2luLmV2ZW50VHJpZ2dlcignY2FuY2VsJyk7CiAgICAgICAgS1RVdGlsLnJlbW92ZUNsYXNzKHRoZS5lbGVtZW50LCAnaW1hZ2UtaW5wdXQtY2hhbmdlZCcpOwogICAgICAgIEtUVXRpbC5yZW1vdmVDbGFzcyh0aGUuZWxlbWVudCwgJ2ltYWdlLWlucHV0LWVtcHR5Jyk7CiAgICAgICAgS1RVdGlsLmNzcyh0aGUud3JhcHBlciwgJ2JhY2tncm91bmQtaW1hZ2UnLCB0aGUuc3JjKTsKICAgICAgICB0aGUuaW5wdXQudmFsdWUgPSAiIjsKCiAgICAgICAgaWYgKHRoZS5oaWRkZW4pIHsKICAgICAgICAgIHRoZS5oaWRkZW4udmFsdWUgPSAiMCI7CiAgICAgICAgfQogICAgICB9KTsgLy8gSGFuZGxlIHJlbW92ZQoKICAgICAgS1RVdGlsLmFkZEV2ZW50KHRoZS5yZW1vdmUsICdjbGljaycsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBGaXJlIGNhbmNlbCBldmVudAoKICAgICAgICBQbHVnaW4uZXZlbnRUcmlnZ2VyKCdyZW1vdmUnKTsKICAgICAgICBLVFV0aWwucmVtb3ZlQ2xhc3ModGhlLmVsZW1lbnQsICdpbWFnZS1pbnB1dC1jaGFuZ2VkJyk7CiAgICAgICAgS1RVdGlsLmFkZENsYXNzKHRoZS5lbGVtZW50LCAnaW1hZ2UtaW5wdXQtZW1wdHknKTsKICAgICAgICBLVFV0aWwuY3NzKHRoZS53cmFwcGVyLCAnYmFja2dyb3VuZC1pbWFnZScsICJub25lIik7CiAgICAgICAgdGhlLmlucHV0LnZhbHVlID0gIiI7CgogICAgICAgIGlmICh0aGUuaGlkZGVuKSB7CiAgICAgICAgICB0aGUuaGlkZGVuLnZhbHVlID0gIjEiOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIFRyaWdnZXIgZXZlbnRzDQogICAgICovCiAgICBldmVudFRyaWdnZXI6IGZ1bmN0aW9uIGV2ZW50VHJpZ2dlcihuYW1lKSB7CiAgICAgIC8vS1RVdGlsLnRyaWdnZXJDdXN0b21FdmVudChuYW1lKTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGUuZXZlbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGV2ZW50ID0gdGhlLmV2ZW50c1tpXTsKCiAgICAgICAgaWYgKGV2ZW50Lm5hbWUgPT0gbmFtZSkgewogICAgICAgICAgaWYgKGV2ZW50Lm9uZSA9PSB0cnVlKSB7CiAgICAgICAgICAgIGlmIChldmVudC5maXJlZCA9PSBmYWxzZSkgewogICAgICAgICAgICAgIHRoZS5ldmVudHNbaV0uZmlyZWQgPSB0cnVlOwogICAgICAgICAgICAgIHJldHVybiBldmVudC5oYW5kbGVyLmNhbGwodGhpcywgdGhlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGV2ZW50LmhhbmRsZXIuY2FsbCh0aGlzLCB0aGUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGFkZEV2ZW50OiBmdW5jdGlvbiBhZGRFdmVudChuYW1lLCBoYW5kbGVyLCBvbmUpIHsKICAgICAgdGhlLmV2ZW50cy5wdXNoKHsKICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgIGhhbmRsZXI6IGhhbmRsZXIsCiAgICAgICAgb25lOiBvbmUsCiAgICAgICAgZmlyZWQ6IGZhbHNlCiAgICAgIH0pOwogICAgICByZXR1cm4gdGhlOwogICAgfQogIH07IC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgLy8gKiogUHVibGljIE1ldGhvZHMgKiogLy8KICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKICAvKioNCiAgICogU2V0IGRlZmF1bHQgb3B0aW9ucw0KICAgKi8KCiAgdGhlLnNldERlZmF1bHRzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKICAgIGRlZmF1bHRPcHRpb25zID0gb3B0aW9uczsKICB9OwogIC8qKg0KICAgKiBBdHRhY2ggZXZlbnQNCiAgICovCgoKICB0aGUub24gPSBmdW5jdGlvbiAobmFtZSwgaGFuZGxlcikgewogICAgcmV0dXJuIFBsdWdpbi5hZGRFdmVudChuYW1lLCBoYW5kbGVyKTsKICB9OwogIC8qKg0KICAgKiBBdHRhY2ggZXZlbnQgdGhhdCB3aWxsIGJlIGZpcmVkIG9uY2UNCiAgICovCgoKICB0aGUub25lID0gZnVuY3Rpb24gKG5hbWUsIGhhbmRsZXIpIHsKICAgIHJldHVybiBQbHVnaW4uYWRkRXZlbnQobmFtZSwgaGFuZGxlciwgdHJ1ZSk7CiAgfTsgLy8gQ29uc3RydWN0IHBsdWdpbgoKCiAgUGx1Z2luLmNvbnN0cnVjdC5hcHBseSh0aGUsIFtvcHRpb25zXSk7CiAgcmV0dXJuIHRoZTsKfTsgLy8gd2VicGFjayBzdXBwb3J0CgoKaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHsKICBtb2R1bGUuZXhwb3J0cyA9IEtUSW1hZ2VJbnB1dDsKfQoKZXhwb3J0IGRlZmF1bHQgS1RJbWFnZUlucHV0Ow=="},{"version":3,"sources":["C:/Users/ASUS/Documents/Alex/office-front/src/assets/js/components/image-input.js"],"names":["KTUtil","KTImageInput","elementId","options","the","init","element","getById","body","getBody","defaultOptions","editMode","Plugin","construct","data","has","get","build","set","events","input","find","wrapper","cancel","remove","src","css","hidden","deepExtend","addEvent","e","preventDefault","files","reader","FileReader","onload","target","result","readAsDataURL","addClass","removeClass","eventTrigger","value","name","i","length","event","one","fired","handler","call","push","setDefaults","on","apply","module","exports"],"mappings":"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","sourcesContent":["\"use strict\";\n\nimport KTUtil from \"./util\";\r\n\r\n// Component Definition \r\nvar KTImageInput = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.getById(elementId);\r\n    var body = KTUtil.getBody();\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        editMode: false\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Construct\r\n         */\r\n\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('imageinput')) {\r\n                the = KTUtil.data(element).get('imageinput');\r\n            } else {\r\n                // reset menu\r\n                Plugin.init(options);\r\n\r\n                // build menu\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('imageinput', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Init avatar\r\n         */\r\n        init: function(options) {\r\n            the.element = element;\r\n            the.events = [];\r\n\r\n            the.input = KTUtil.find(element, 'input[type=\"file\"]');\r\n            the.wrapper = KTUtil.find(element, '.image-input-wrapper');\r\n            the.cancel = KTUtil.find(element, '[data-action=\"cancel\"]');\r\n            the.remove = KTUtil.find(element, '[data-action=\"remove\"]');\r\n            the.src = KTUtil.css(the.wrapper, 'backgroundImage');\r\n            the.hidden = KTUtil.find(element, 'input[type=\"hidden\"]');\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n        },\r\n\r\n        /**\r\n         * Build\r\n         */\r\n        build: function() {\r\n            // Handle change\r\n            KTUtil.addEvent(the.input, 'change', function(e) {\r\n                e.preventDefault();\r\n\r\n\t            if (the.input && the.input.files && the.input.files[0]) {\r\n\t                var reader = new FileReader();\r\n\t                reader.onload = function(e) {\r\n\t                    KTUtil.css(the.wrapper, 'background-image', 'url('+e.target.result +')');\r\n\t                }\r\n\t                reader.readAsDataURL(the.input.files[0]);\r\n\r\n\t                KTUtil.addClass(the.element, 'image-input-changed');\r\n                    KTUtil.removeClass(the.element, 'image-input-empty');\r\n\r\n                    // Fire change event\r\n                    Plugin.eventTrigger('change');\r\n\t            }\r\n            });\r\n\r\n            // Handle cancel\r\n            KTUtil.addEvent(the.cancel, 'click', function(e) {\r\n                e.preventDefault();\r\n\r\n                // Fire cancel event\r\n                Plugin.eventTrigger('cancel');\r\n\r\n\t            KTUtil.removeClass(the.element, 'image-input-changed');\r\n                KTUtil.removeClass(the.element, 'image-input-empty');\r\n\t            KTUtil.css(the.wrapper, 'background-image', the.src);\r\n\t            the.input.value = \"\";\r\n\r\n                if (the.hidden) {\r\n                    the.hidden.value = \"0\";\r\n                }\r\n            });\r\n\r\n            // Handle remove\r\n            KTUtil.addEvent(the.remove, 'click', function(e) {\r\n                e.preventDefault();\r\n\r\n                // Fire cancel event\r\n                Plugin.eventTrigger('remove');\r\n\r\n\t            KTUtil.removeClass(the.element, 'image-input-changed');\r\n                KTUtil.addClass(the.element, 'image-input-empty');\r\n\t            KTUtil.css(the.wrapper, 'background-image', \"none\");\r\n\t            the.input.value = \"\";\r\n\r\n                if (the.hidden) {\r\n                    the.hidden.value = \"1\";\r\n                }\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name) {\r\n            //KTUtil.triggerCustomEvent(name);\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, the);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, the);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n\r\n            return the;\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options\r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Attach event\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    /**\r\n     * Attach event that will be fired once\r\n     */\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    // Construct plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    module.exports = KTImageInput;\r\n}\r\n\nexport default KTImageInput;"]}]}