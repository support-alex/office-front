{"remainingRequest":"C:\\Users\\ASUS\\Documents\\Alex\\office-front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ASUS\\Documents\\Alex\\office-front\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\ASUS\\Documents\\Alex\\office-front\\src\\core\\services\\store\\auth.module.js","dependencies":[{"path":"C:\\Users\\ASUS\\Documents\\Alex\\office-front\\src\\core\\services\\store\\auth.module.js","mtime":1670779073616},{"path":"C:\\Users\\ASUS\\Documents\\Alex\\office-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670779062492},{"path":"C:\\Users\\ASUS\\Documents\\Alex\\office-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1670779061577},{"path":"C:\\Users\\ASUS\\Documents\\Alex\\office-front\\node_modules\\eslint-loader\\index.js","mtime":1670779064638}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOi9Vc2Vycy9BU1VTL0RvY3VtZW50cy9BbGV4L29mZmljZS1mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvQVNVUy9Eb2N1bWVudHMvQWxleC9vZmZpY2UtZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwoKdmFyIF9hY3Rpb25zLCBfbXV0YXRpb25zOwoKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IEFwaVNlcnZpY2UgZnJvbSAiQC9jb3JlL3NlcnZpY2VzL2FwaS5zZXJ2aWNlIjsKaW1wb3J0IEp3dFNlcnZpY2UgZnJvbSAiQC9jb3JlL3NlcnZpY2VzL2p3dC5zZXJ2aWNlIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHN0b3JlIGZyb20gIkAvY29yZS9zZXJ2aWNlcy9zdG9yZSI7IC8vIGFjdGlvbiB0eXBlcwoKZXhwb3J0IHZhciBWRVJJRllfQVVUSCA9ICJ2ZXJpZnlBdXRoIjsKZXhwb3J0IHZhciBMT0dJTiA9ICJsb2dpbiI7CmV4cG9ydCB2YXIgR09PR0xFX0xPR0lOID0gImdvb2dsZV9sb2dpbiI7CmV4cG9ydCB2YXIgTE9HT1VUID0gImxvZ291dCI7CmV4cG9ydCB2YXIgUkVHSVNURVIgPSAicmVnaXN0ZXIiOwpleHBvcnQgdmFyIFVQREFURV9QQVNTV09SRCA9ICJ1cGRhdGVVc2VyIjsgLy8gbXV0YXRpb24gdHlwZXMKCmV4cG9ydCB2YXIgUFVSR0VfQVVUSCA9ICJsb2dPdXQiOwpleHBvcnQgdmFyIFNFVF9BVVRIID0gIlNFVF9BVVRIIjsKZXhwb3J0IHZhciBTRVRfUEFTU1dPUkQgPSAic2V0UGFzc3dvcmQiOwpleHBvcnQgdmFyIFNFVF9FUlJPUiA9ICJzZXRFcnJvciI7IC8vIGV4cG9ydCBjb25zdCBTRVRfSEVBREVSID0gInNldEhlYWRlciI7CgpleHBvcnQgdmFyIFVQREFURV9UT0tFTiA9ICJ1cGRhdGVUb2tlbiI7CmV4cG9ydCB2YXIgVVBEQVRFX0FVVEggPSAidXBkYXRlQXV0aCI7CnZhciBzdGF0ZSA9IHsKICBhcGlIZWFkZXI6IG51bGwsCiAgZXJyb3JzOiBudWxsLAogIHVzZXI6IHt9LAogIGlzQXV0aGVudGljYXRlZDogISFKd3RTZXJ2aWNlLmdldFRva2VuKCksCiAgYXV0aDogZmFsc2UKfTsKdmFyIGdldHRlcnMgPSB7CiAgYXV0aDogZnVuY3Rpb24gYXV0aCgpIHsKICAgIHJldHVybiBzdGF0ZS5hdXRoOwogIH0sCiAgY3VycmVudFVzZXI6IGZ1bmN0aW9uIGN1cnJlbnRVc2VyKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUudXNlcjsKICB9LAogIGlzQXV0aGVudGljYXRlZDogZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuaXNBdXRoZW50aWNhdGVkOwogIH0KfTsKdmFyIGFjdGlvbnMgPSAoX2FjdGlvbnMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBHT09HTEVfTE9HSU4sIGZ1bmN0aW9uIChjb250ZXh0LCBjcmVkZW50aWFscykgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgQXBpU2VydmljZS5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjgwMDAvZ2F1dGgveHh4IiwgY3JlZGVudGlhbHMpLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJIZXJlIHdoYXQgcG9zdCByZXR1cm5zIiwgZGF0YSk7CiAgICAgIGNvbnRleHQuY29tbWl0KFNFVF9BVVRILCBkYXRhKTsKICAgICAgcmVzb2x2ZShkYXRhKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChfcmVmMikgey8vIGNvbnNvbGUubG9nKCJFUlJPUiA+Pj4gIixyZXNwb25zZSk7CiAgICAgIC8vIGNvbnRleHQuY29tbWl0KFNFVF9FUlJPUiwgcmVzcG9uc2UuZGF0YS5lcnJvcnMpOwoKICAgICAgdmFyIHJlc3BvbnNlID0gX3JlZjIucmVzcG9uc2U7CiAgICB9KTsKICB9KTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgIkxPR09VVCIsIGZ1bmN0aW9uIExPR09VVChjb250ZXh0KSB7CiAgY29udGV4dC5jb21taXQoUFVSR0VfQVVUSCk7CiAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiL2xvZ2luIjsKfSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgUkVHSVNURVIsIGZ1bmN0aW9uIChjb250ZXh0LCBjcmVkZW50aWFscykgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgQXBpU2VydmljZS5wb3N0KCJsb2dpbiIsIGNyZWRlbnRpYWxzKS50aGVuKGZ1bmN0aW9uIChfcmVmMykgewogICAgICB2YXIgZGF0YSA9IF9yZWYzLmRhdGE7CiAgICAgIGNvbnRleHQuY29tbWl0KFNFVF9BVVRILCBkYXRhKTsKICAgICAgcmVzb2x2ZShkYXRhKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChfcmVmNCkgewogICAgICB2YXIgcmVzcG9uc2UgPSBfcmVmNC5yZXNwb25zZTsKICAgICAgY29udGV4dC5jb21taXQoU0VUX0VSUk9SLCByZXNwb25zZS5kYXRhLmVycm9ycyk7CiAgICB9KTsKICB9KTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgVkVSSUZZX0FVVEgsIGZ1bmN0aW9uICgpIHsKICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgdmFyIHVybDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgLy8gbGV0IHJlcyA9IG51bGw7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJWRVJJRllfQVVUSCA+Pj4gIixzdG9yZS5hdXRoLnN0YXRlLmFwaUhlYWRlcikKICAgICAgICAgICAgdXJsID0gc3RvcmUuc3RhdGUuY29tbW9uLmJhc2VVcmwgKyAiL29mZmljZS1hcGkvYXV0aC9jaGVjay1hdXRoZW50aWNhdGlvbiI7CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QodXJsLCB7fSwgc3RvcmUuYXV0aC5zdGF0ZS5hcGlIZWFkZXIpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDY7CiAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CgogICAgICAgICAgY2FzZSA4OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgNl1dKTsKICB9KSkoKTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgVVBEQVRFX1BBU1NXT1JELCBmdW5jdGlvbiAoY29udGV4dCwgcGF5bG9hZCkgewogIHZhciBwYXNzd29yZCA9IHBheWxvYWQ7CiAgcmV0dXJuIEFwaVNlcnZpY2UucHV0KCJwYXNzd29yZCIsIHBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uIChfcmVmNSkgewogICAgdmFyIGRhdGEgPSBfcmVmNS5kYXRhOwogICAgY29udGV4dC5jb21taXQoU0VUX1BBU1NXT1JELCBkYXRhKTsKICAgIHJldHVybiBkYXRhOwogIH0pOwp9KSwgX2FjdGlvbnMpOwp2YXIgbXV0YXRpb25zID0gKF9tdXRhdGlvbnMgPSB7CiAgVVBEQVRFX0FVVEg6IGZ1bmN0aW9uIFVQREFURV9BVVRIKHN0YXRlLCBuZXdfYXV0aCkgewogICAgLy8gY29uc29sZS5sb2coIm11dGF0aW9ucy9VUERBVEVfQVVUSCAiLCBuZXdfYXV0aCk7CiAgICBzdGF0ZS5hdXRoID0gbmV3X2F1dGg7CiAgfSwKICBVUERBVEVfVE9LRU46IGZ1bmN0aW9uIFVQREFURV9UT0tFTihzdGF0ZSkgewogICAgdmFyIHRrID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImlkX3Rva2VuIik7IC8vIHZhciB0a3Bhc2VyID0gSlNPTi5wYXJzZSh0ayk7CgogICAgc3RhdGUuYXBpSGVhZGVyID0gewogICAgICBoZWFkZXJzOiB7CiAgICAgICAgQXV0aG9yaXphdGlvbjogImJlYXJlciAiICsgdGssCiAgICAgICAgIkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbiI6ICIqIgogICAgICB9CiAgICB9OwogICAgY29uc29sZS5sb2coc3RhdGUuYXBpSGVhZGVyKTsKICB9LAogIFNFVF9IRUFERVI6IGZ1bmN0aW9uIFNFVF9IRUFERVIoc3RhdGUsIHRrKSB7CiAgICBzdGF0ZS5hcGlIZWFkZXIgPSB7CiAgICAgIGhlYWRlcnM6IHsKICAgICAgICBBdXRob3JpemF0aW9uOiAiYmVhcmVyICIgKyB0awogICAgICB9CiAgICB9OwogICAgY29uc29sZS5sb2coIkBAQEBAQEBAQEAgU0VUX0hFQURFUiBzdGF0ZS5hcGlIZWFkZXIgPj4+ICIsIHN0YXRlLmFwaUhlYWRlcik7IC8vIHN0YXRlLmVycm9ycyA9IGVycm9yOwogIH0KfSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIFNFVF9FUlJPUiwgZnVuY3Rpb24gKHN0YXRlLCBlcnJvcikgewogIHN0YXRlLmVycm9ycyA9IGVycm9yOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsICJTRVRfQVVUSCIsIGZ1bmN0aW9uIFNFVF9BVVRIKHN0YXRlLCB1c2VyKSB7CiAgc3RhdGUuaXNBdXRoZW50aWNhdGVkID0gdHJ1ZTsKICBzdGF0ZS51c2VyID0gdXNlcjsKICBzdGF0ZS5lcnJvcnMgPSB7fTsKICBKd3RTZXJ2aWNlLnNhdmVUb2tlbihzdGF0ZS51c2VyLnRva2VuKTsgLy8gY29uc29sZS5sb2coIlNFVF9BVVRIID4+PiBKd3RTZXJ2aWNlLnNhdmVUb2tlbiIpOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIFNFVF9QQVNTV09SRCwgZnVuY3Rpb24gKHN0YXRlLCBwYXNzd29yZCkgewogIHN0YXRlLnVzZXIucGFzc3dvcmQgPSBwYXNzd29yZDsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCAiUFVSR0VfQVVUSCIsIGZ1bmN0aW9uIFBVUkdFX0FVVEgoc3RhdGUpIHsKICBzdGF0ZS5hcGlIZWFkZXIgPSB7fTsKICBzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQgPSBmYWxzZTsKICBzdGF0ZS51c2VyID0ge307CiAgc3RhdGUuZXJyb3JzID0ge307CiAgSnd0U2VydmljZS5kZXN0cm95VG9rZW4oKTsgLy8gIGNvbnNvbGUubG9nKCJQVVJHRV9BVVRIID4+PiBKd3RTZXJ2aWNlLmRlc3Ryb3lUb2tlbiIpOwp9KSwgX211dGF0aW9ucyk7CmV4cG9ydCBkZWZhdWx0IHsKICBpc1JlZ2lzdGVyZWQ6IGZhbHNlLAogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHN0YXRlLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgZ2V0dGVyczogZ2V0dGVycwp9Ow=="},{"version":3,"sources":["C:/Users/ASUS/Documents/Alex/office-front/src/core/services/store/auth.module.js"],"names":["ApiService","JwtService","axios","store","VERIFY_AUTH","LOGIN","GOOGLE_LOGIN","LOGOUT","REGISTER","UPDATE_PASSWORD","PURGE_AUTH","SET_AUTH","SET_PASSWORD","SET_ERROR","UPDATE_TOKEN","UPDATE_AUTH","state","apiHeader","errors","user","isAuthenticated","getToken","auth","getters","currentUser","actions","context","credentials","Promise","resolve","post","then","data","commit","catch","response","window","location","href","url","common","baseUrl","payload","password","put","mutations","new_auth","tk","localStorage","getItem","headers","Authorization","console","log","SET_HEADER","error","saveToken","token","destroyToken","isRegistered","namespaced"],"mappings":"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","sourcesContent":["import ApiService from \"@/core/services/api.service\";\r\nimport JwtService from \"@/core/services/jwt.service\";\r\nimport axios from 'axios'\r\nimport store from \"@/core/services/store\";\r\n\r\n// action types\r\nexport const VERIFY_AUTH = \"verifyAuth\";\r\nexport const LOGIN = \"login\";\r\nexport const GOOGLE_LOGIN = \"google_login\";\r\nexport const LOGOUT = \"logout\";\r\nexport const REGISTER = \"register\";\r\nexport const UPDATE_PASSWORD = \"updateUser\";\r\n\r\n// mutation types\r\nexport const PURGE_AUTH = \"logOut\";\r\nexport const SET_AUTH = \"SET_AUTH\";\r\nexport const SET_PASSWORD = \"setPassword\";\r\nexport const SET_ERROR = \"setError\";\r\n\r\n// export const SET_HEADER = \"setHeader\";\r\n\r\nexport const UPDATE_TOKEN = \"updateToken\";\r\n\r\nexport const UPDATE_AUTH = \"updateAuth\";\r\n\r\n\r\nconst state = {\r\n  apiHeader: null,\r\n  errors: null,\r\n  user: {},\r\n  isAuthenticated: !!JwtService.getToken(),\r\n  auth: false\r\n};\r\n\r\nconst getters = {\r\n  auth() {\r\n    return state.auth;\r\n  },\r\n  currentUser(state) {\r\n    return state.user;\r\n  },\r\n  isAuthenticated(state) {\r\n    return state.isAuthenticated;\r\n  }\r\n};\r\n\r\nconst actions = {\r\n  // [LOGIN](context, credentials) {\r\n  //   return new Promise(resolve => {\r\n  //     ApiService.post(\"login\", credentials)\r\n  //       .then(({ data }) => {\r\n  //         // console.log(\"Here what post returns\", data);\r\n  //         context.commit(SET_AUTH, data);\r\n  //         resolve(data);\r\n  //       })\r\n  //       .catch(({ response }) => {\r\n  //         context.commit(SET_ERROR, response.data.errors);\r\n  //       });\r\n  //   });\r\n  // },\r\n\r\n  [GOOGLE_LOGIN](context, credentials) {\r\n    return new Promise(resolve => {\r\n      ApiService.post(\"http://localhost:8000/gauth/xxx\", credentials)\r\n        .then(({ data }) => {\r\n          // console.log(\"Here what post returns\", data);\r\n          context.commit(SET_AUTH, data);\r\n          resolve(data);\r\n        })\r\n        .catch(({ response }) => {\r\n          // console.log(\"ERROR >>> \",response);\r\n          // context.commit(SET_ERROR, response.data.errors);\r\n        });\r\n    });\r\n  },\r\n\r\n  LOGOUT(context) {\r\n    context.commit(PURGE_AUTH);\r\n    window.location.href = \"/login\";\r\n  },\r\n  [REGISTER](context, credentials) {\r\n    return new Promise(resolve => {\r\n      ApiService.post(\"login\", credentials)\r\n        .then(({ data }) => {\r\n          context.commit(SET_AUTH, data);\r\n          resolve(data);\r\n        })\r\n        .catch(({ response }) => {\r\n          context.commit(SET_ERROR, response.data.errors);\r\n        });\r\n    });\r\n  },\r\n  async [VERIFY_AUTH]() {\r\n    // let res = null;\r\n\r\n    // console.log(\"VERIFY_AUTH >>> \",store.auth.state.apiHeader)\r\n    var url = store.state.common.baseUrl + \"/office-api/auth/check-authentication\";\r\n    try {\r\n      await axios.post(url, {}, store.auth.state.apiHeader);\r\n      \r\n        // context.commit(SET_AUTH, res.data);\r\n    }\r\n    catch (err) {\r\n        // console.log(\"VERIFY_AUTH ERROR !!! >>> \", err.response)\r\n    }\r\n  },\r\n  // [VERIFY_AUTH](context) {\r\n  //   if (JwtService.getToken()) {\r\n  //     ApiService.setHeader();\r\n  //     ApiService.post(\"/office-api/auth/check-authentication\", {})\r\n  //       .then(({ data }) => {\r\n  //         context.commit(SET_AUTH, data);\r\n  //       })\r\n  //       .catch(({ response }) => {\r\n  //         context.commit(SET_ERROR, response.data.errors);\r\n  //         // this.$router.push({ name: \"login\" });\r\n  //       });\r\n  //   } else {\r\n  //     // context.commit(PURGE_AUTH);\r\n  //     // this.$router.push({ name: \"login\" });\r\n  //   }\r\n  // },\r\n  [UPDATE_PASSWORD](context, payload) {\r\n    const password = payload;\r\n\r\n    return ApiService.put(\"password\", password).then(({ data }) => {\r\n      context.commit(SET_PASSWORD, data);\r\n      return data;\r\n    });\r\n  }\r\n};\r\n\r\nconst mutations = {\r\n\r\n  UPDATE_AUTH(state, new_auth) {\r\n    // console.log(\"mutations/UPDATE_AUTH \", new_auth);\r\n    state.auth = new_auth;\r\n  },\r\n  UPDATE_TOKEN(state) {\r\n\r\n    \r\n    var tk = localStorage.getItem(\"id_token\");\r\n    // var tkpaser = JSON.parse(tk);\r\n    state.apiHeader = {\r\n      headers: {\r\n        Authorization: \"bearer \" + tk,\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    };\r\n    console.log( state.apiHeader );\r\n  },\r\n\r\n  SET_HEADER(state, tk) {\r\n    state.apiHeader = {\r\n      headers: {\r\n        Authorization: \"bearer \" + tk\r\n      }\r\n    }\r\n    console.log(\"@@@@@@@@@@ SET_HEADER state.apiHeader >>> \",state.apiHeader);\r\n\r\n    // state.errors = error;\r\n  },\r\n\r\n  [SET_ERROR](state, error) {\r\n    state.errors = error;\r\n  },\r\n\r\n \r\n\r\n\r\n  // [SET_AUTH](state, user) {\r\n  SET_AUTH(state, user) {\r\n    state.isAuthenticated = true;\r\n    state.user = user;\r\n    state.errors = {};\r\n    JwtService.saveToken(state.user.token);\r\n    // console.log(\"SET_AUTH >>> JwtService.saveToken\");\r\n  },\r\n  [SET_PASSWORD](state, password) {\r\n    state.user.password = password;\r\n  },\r\n  // [PURGE_AUTH](state) {\r\n  PURGE_AUTH(state) {\r\n    state.apiHeader = {};\r\n    state.isAuthenticated = false;\r\n    state.user = {};\r\n    state.errors = {};\r\n    JwtService.destroyToken();\r\n    //  console.log(\"PURGE_AUTH >>> JwtService.destroyToken\");\r\n  }\r\n};\r\n\r\nexport default {\r\n  isRegistered: false,\r\n  namespaced: true,\r\n  state,\r\n  actions,\r\n  mutations,\r\n  getters\r\n};\r\n"]}]}