{"remainingRequest":"/Users/belliecee/Documents/00_Bisinnoco/metronic-responsive-admin-dashboard-template/metronic_v7.2.9/theme/vue/demo5/node_modules/thread-loader/dist/cjs.js!/Users/belliecee/Documents/00_Bisinnoco/metronic-responsive-admin-dashboard-template/metronic_v7.2.9/theme/vue/demo5/node_modules/babel-loader/lib/index.js!/Users/belliecee/Documents/00_Bisinnoco/metronic-responsive-admin-dashboard-template/metronic_v7.2.9/theme/vue/demo5/node_modules/eslint-loader/index.js??ref--13-0!/Users/belliecee/Documents/00_Bisinnoco/metronic-responsive-admin-dashboard-template/metronic_v7.2.9/theme/vue/demo5/src/core/services/store/auth.module.js","dependencies":[{"path":"/Users/belliecee/Documents/00_Bisinnoco/metronic-responsive-admin-dashboard-template/metronic_v7.2.9/theme/vue/demo5/src/core/services/store/auth.module.js","mtime":1631178852898},{"path":"/Users/belliecee/Documents/00_Bisinnoco/metronic-responsive-admin-dashboard-template/metronic_v7.2.9/theme/vue/demo5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/belliecee/Documents/00_Bisinnoco/metronic-responsive-admin-dashboard-template/metronic_v7.2.9/theme/vue/demo5/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/belliecee/Documents/00_Bisinnoco/metronic-responsive-admin-dashboard-template/metronic_v7.2.9/theme/vue/demo5/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/belliecee/Documents/00_Bisinnoco/metronic-responsive-admin-dashboard-template/metronic_v7.2.9/theme/vue/demo5/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvYmVsbGllY2VlL0RvY3VtZW50cy8wMF9CaXNpbm5vY28vbWV0cm9uaWMtcmVzcG9uc2l2ZS1hZG1pbi1kYXNoYm9hcmQtdGVtcGxhdGUvbWV0cm9uaWNfdjcuMi45L3RoZW1lL3Z1ZS9kZW1vNS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2JlbGxpZWNlZS9Eb2N1bWVudHMvMDBfQmlzaW5ub2NvL21ldHJvbmljLXJlc3BvbnNpdmUtYWRtaW4tZGFzaGJvYXJkLXRlbXBsYXRlL21ldHJvbmljX3Y3LjIuOS90aGVtZS92dWUvZGVtbzUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwoKdmFyIF9hY3Rpb25zLCBfbXV0YXRpb25zOwoKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IEFwaVNlcnZpY2UgZnJvbSAiQC9jb3JlL3NlcnZpY2VzL2FwaS5zZXJ2aWNlIjsKaW1wb3J0IEp3dFNlcnZpY2UgZnJvbSAiQC9jb3JlL3NlcnZpY2VzL2p3dC5zZXJ2aWNlIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHN0b3JlIGZyb20gIkAvY29yZS9zZXJ2aWNlcy9zdG9yZSI7IC8vIGFjdGlvbiB0eXBlcwoKZXhwb3J0IHZhciBWRVJJRllfQVVUSCA9ICJ2ZXJpZnlBdXRoIjsKZXhwb3J0IHZhciBMT0dJTiA9ICJsb2dpbiI7CmV4cG9ydCB2YXIgR09PR0xFX0xPR0lOID0gImdvb2dsZV9sb2dpbiI7CmV4cG9ydCB2YXIgTE9HT1VUID0gImxvZ291dCI7CmV4cG9ydCB2YXIgUkVHSVNURVIgPSAicmVnaXN0ZXIiOwpleHBvcnQgdmFyIFVQREFURV9QQVNTV09SRCA9ICJ1cGRhdGVVc2VyIjsgLy8gbXV0YXRpb24gdHlwZXMKCmV4cG9ydCB2YXIgUFVSR0VfQVVUSCA9ICJsb2dPdXQiOwpleHBvcnQgdmFyIFNFVF9BVVRIID0gInNldFVzZXIiOwpleHBvcnQgdmFyIFNFVF9QQVNTV09SRCA9ICJzZXRQYXNzd29yZCI7CmV4cG9ydCB2YXIgU0VUX0VSUk9SID0gInNldEVycm9yIjsKZXhwb3J0IHZhciBTRVRfSEVBREVSID0gInNldEhlYWRlciI7CmV4cG9ydCB2YXIgVVBEQVRFX1RPS0VOID0gInVwZGF0ZVRva2VuIjsKZXhwb3J0IHZhciBVUERBVEVfQVVUSCA9ICJ1cGRhdGVBdXRoIjsKdmFyIHN0YXRlID0gewogIGFwaUhlYWRlcjogbnVsbCwKICBlcnJvcnM6IG51bGwsCiAgdXNlcjoge30sCiAgaXNBdXRoZW50aWNhdGVkOiAhIUp3dFNlcnZpY2UuZ2V0VG9rZW4oKSwKICBhdXRoOiBmYWxzZQp9Owp2YXIgZ2V0dGVycyA9IHsKICBhdXRoOiBmdW5jdGlvbiBhdXRoKCkgewogICAgcmV0dXJuIHN0YXRlLmF1dGg7CiAgfSwKICBjdXJyZW50VXNlcjogZnVuY3Rpb24gY3VycmVudFVzZXIoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS51c2VyOwogIH0sCiAgaXNBdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQ7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IChfYWN0aW9ucyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIEdPT0dMRV9MT0dJTiwgZnVuY3Rpb24gKGNvbnRleHQsIGNyZWRlbnRpYWxzKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICBBcGlTZXJ2aWNlLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9nYXV0aC94eHgiLCBjcmVkZW50aWFscykudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKICAgICAgY29uc29sZS5sb2coIkhlcmUgd2hhdCBwb3N0IHJldHVybnMiLCBkYXRhKTsgLy8gY29udGV4dC5jb21taXQoU0VUX0FVVEgsIGRhdGEpOwoKICAgICAgcmVzb2x2ZShkYXRhKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChfcmVmMikgewogICAgICB2YXIgcmVzcG9uc2UgPSBfcmVmMi5yZXNwb25zZTsKICAgICAgY29uc29sZS5sb2coIkVSUk9SID4+PiAiLCByZXNwb25zZSk7IC8vIGNvbnRleHQuY29tbWl0KFNFVF9FUlJPUiwgcmVzcG9uc2UuZGF0YS5lcnJvcnMpOwogICAgfSk7CiAgfSk7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIExPR09VVCwgZnVuY3Rpb24gKGNvbnRleHQpIHsKICBjb250ZXh0LmNvbW1pdChQVVJHRV9BVVRIKTsKICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICIvbG9naW4iOwp9KSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBSRUdJU1RFUiwgZnVuY3Rpb24gKGNvbnRleHQsIGNyZWRlbnRpYWxzKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICBBcGlTZXJ2aWNlLnBvc3QoImxvZ2luIiwgY3JlZGVudGlhbHMpLnRoZW4oZnVuY3Rpb24gKF9yZWYzKSB7CiAgICAgIHZhciBkYXRhID0gX3JlZjMuZGF0YTsKICAgICAgY29udGV4dC5jb21taXQoU0VUX0FVVEgsIGRhdGEpOwogICAgICByZXNvbHZlKGRhdGEpOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKF9yZWY0KSB7CiAgICAgIHZhciByZXNwb25zZSA9IF9yZWY0LnJlc3BvbnNlOwogICAgICBjb250ZXh0LmNvbW1pdChTRVRfRVJST1IsIHJlc3BvbnNlLmRhdGEuZXJyb3JzKTsKICAgIH0pOwogIH0pOwp9KSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBWRVJJRllfQVVUSCwgZnVuY3Rpb24gKCkgewogIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIC8vIGxldCByZXMgPSBudWxsOwogICAgICAgICAgICBjb25zb2xlLmxvZygiVkVSSUZZX0FVVEggPj4+ICIsIHN0b3JlLmF1dGguc3RhdGUuYXBpSGVhZGVyKTsKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgiL2F1dGgvY2hlY2stYXV0aGVudGljYXRpb24iLCB7fSwgc3RvcmUuYXV0aC5zdGF0ZS5hcGlIZWFkZXIpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDY7CiAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJWRVJJRllfQVVUSCBFUlJPUiAhISEgPj4+ICIsIF9jb250ZXh0LnQwLnJlc3BvbnNlKTsKCiAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCA2XV0pOwogIH0pKSgpOwp9KSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBVUERBVEVfUEFTU1dPUkQsIGZ1bmN0aW9uIChjb250ZXh0LCBwYXlsb2FkKSB7CiAgdmFyIHBhc3N3b3JkID0gcGF5bG9hZDsKICByZXR1cm4gQXBpU2VydmljZS5wdXQoInBhc3N3b3JkIiwgcGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24gKF9yZWY1KSB7CiAgICB2YXIgZGF0YSA9IF9yZWY1LmRhdGE7CiAgICBjb250ZXh0LmNvbW1pdChTRVRfUEFTU1dPUkQsIGRhdGEpOwogICAgcmV0dXJuIGRhdGE7CiAgfSk7Cn0pLCBfYWN0aW9ucyk7CnZhciBtdXRhdGlvbnMgPSAoX211dGF0aW9ucyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgVVBEQVRFX0FVVEgsIGZ1bmN0aW9uIChzdGF0ZSwgbmV3X2F1dGgpIHsKICAvLyBjb25zb2xlLmxvZygibXV0YXRpb25zL1VQREFURV9BVVRIICIsIG5ld19hdXRoKTsKICBzdGF0ZS5hdXRoID0gbmV3X2F1dGg7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgVVBEQVRFX1RPS0VOLCBmdW5jdGlvbiAoc3RhdGUpIHsKICB2YXIgdGsgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiaWRfdG9rZW4iKTsgLy8gdmFyIHRrcGFzZXIgPSBKU09OLnBhcnNlKHRrKTsKCiAgc3RhdGUuYXBpSGVhZGVyID0gewogICAgaGVhZGVyczogewogICAgICBBdXRob3JpemF0aW9uOiAiYmVhcmVyICIgKyB0awogICAgfQogIH07CiAgY29uc29sZS5sb2coc3RhdGUuYXBpSGVhZGVyKTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBTRVRfSEVBREVSLCBmdW5jdGlvbiAoc3RhdGUsIHRrKSB7CiAgc3RhdGUuYXBpSGVhZGVyID0gewogICAgaGVhZGVyczogewogICAgICBBdXRob3JpemF0aW9uOiAiYmVhcmVyICIgKyB0awogICAgfQogIH07IC8vIHN0YXRlLmVycm9ycyA9IGVycm9yOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIFNFVF9FUlJPUiwgZnVuY3Rpb24gKHN0YXRlLCBlcnJvcikgewogIHN0YXRlLmVycm9ycyA9IGVycm9yOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIFNFVF9BVVRILCBmdW5jdGlvbiAoc3RhdGUsIHVzZXIpIHsKICBzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQgPSB0cnVlOwogIHN0YXRlLnVzZXIgPSB1c2VyOwogIHN0YXRlLmVycm9ycyA9IHt9OwogIEp3dFNlcnZpY2Uuc2F2ZVRva2VuKHN0YXRlLnVzZXIudG9rZW4pOwogIGNvbnNvbGUubG9nKCJTRVRfQVVUSCA+Pj4gSnd0U2VydmljZS5zYXZlVG9rZW4iKTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBTRVRfUEFTU1dPUkQsIGZ1bmN0aW9uIChzdGF0ZSwgcGFzc3dvcmQpIHsKICBzdGF0ZS51c2VyLnBhc3N3b3JkID0gcGFzc3dvcmQ7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgUFVSR0VfQVVUSCwgZnVuY3Rpb24gKHN0YXRlKSB7CiAgc3RhdGUuaXNBdXRoZW50aWNhdGVkID0gZmFsc2U7CiAgc3RhdGUudXNlciA9IHt9OwogIHN0YXRlLmVycm9ycyA9IHt9OwogIEp3dFNlcnZpY2UuZGVzdHJveVRva2VuKCk7CiAgY29uc29sZS5sb2coIlBVUkdFX0FVVEggPj4+IEp3dFNlcnZpY2UuZGVzdHJveVRva2VuIik7Cn0pLCBfbXV0YXRpb25zKTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGdldHRlcnM6IGdldHRlcnMKfTs="},{"version":3,"sources":["/Users/belliecee/Documents/00_Bisinnoco/metronic-responsive-admin-dashboard-template/metronic_v7.2.9/theme/vue/demo5/src/core/services/store/auth.module.js"],"names":["ApiService","JwtService","axios","store","VERIFY_AUTH","LOGIN","GOOGLE_LOGIN","LOGOUT","REGISTER","UPDATE_PASSWORD","PURGE_AUTH","SET_AUTH","SET_PASSWORD","SET_ERROR","SET_HEADER","UPDATE_TOKEN","UPDATE_AUTH","state","apiHeader","errors","user","isAuthenticated","getToken","auth","getters","currentUser","actions","context","credentials","Promise","resolve","post","then","data","console","log","catch","response","commit","window","location","href","payload","password","put","mutations","new_auth","tk","localStorage","getItem","headers","Authorization","error","saveToken","token","destroyToken"],"mappings":"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","sourcesContent":["import ApiService from \"@/core/services/api.service\";\r\nimport JwtService from \"@/core/services/jwt.service\";\r\nimport axios from 'axios'\r\nimport store from \"@/core/services/store\";\r\n\r\n// action types\r\nexport const VERIFY_AUTH = \"verifyAuth\";\r\nexport const LOGIN = \"login\";\r\nexport const GOOGLE_LOGIN = \"google_login\";\r\nexport const LOGOUT = \"logout\";\r\nexport const REGISTER = \"register\";\r\nexport const UPDATE_PASSWORD = \"updateUser\";\r\n\r\n// mutation types\r\nexport const PURGE_AUTH = \"logOut\";\r\nexport const SET_AUTH = \"setUser\";\r\nexport const SET_PASSWORD = \"setPassword\";\r\nexport const SET_ERROR = \"setError\";\r\n\r\nexport const SET_HEADER = \"setHeader\";\r\n\r\nexport const UPDATE_TOKEN = \"updateToken\";\r\n\r\nexport const UPDATE_AUTH = \"updateAuth\";\r\n\r\n\r\nconst state = {\r\n  apiHeader: null,\r\n  errors: null,\r\n  user: {},\r\n  isAuthenticated: !!JwtService.getToken(),\r\n  auth: false\r\n};\r\n\r\nconst getters = {\r\n  auth() {\r\n    return state.auth;\r\n  },\r\n  currentUser(state) {\r\n    return state.user;\r\n  },\r\n  isAuthenticated(state) {\r\n    return state.isAuthenticated;\r\n  }\r\n};\r\n\r\nconst actions = {\r\n  // [LOGIN](context, credentials) {\r\n  //   return new Promise(resolve => {\r\n  //     ApiService.post(\"login\", credentials)\r\n  //       .then(({ data }) => {\r\n  //         // console.log(\"Here what post returns\", data);\r\n  //         context.commit(SET_AUTH, data);\r\n  //         resolve(data);\r\n  //       })\r\n  //       .catch(({ response }) => {\r\n  //         context.commit(SET_ERROR, response.data.errors);\r\n  //       });\r\n  //   });\r\n  // },\r\n\r\n  [GOOGLE_LOGIN](context, credentials) {\r\n    return new Promise(resolve => {\r\n      ApiService.post(\"http://localhost:8000/gauth/xxx\", credentials)\r\n        .then(({ data }) => {\r\n          console.log(\"Here what post returns\", data);\r\n          // context.commit(SET_AUTH, data);\r\n          resolve(data);\r\n        })\r\n        .catch(({ response }) => {\r\n          console.log(\"ERROR >>> \",response);\r\n          // context.commit(SET_ERROR, response.data.errors);\r\n        });\r\n    });\r\n  },\r\n\r\n  [LOGOUT](context) {\r\n    context.commit(PURGE_AUTH);\r\n    window.location.href = \"/login\";\r\n  },\r\n  [REGISTER](context, credentials) {\r\n    return new Promise(resolve => {\r\n      ApiService.post(\"login\", credentials)\r\n        .then(({ data }) => {\r\n          context.commit(SET_AUTH, data);\r\n          resolve(data);\r\n        })\r\n        .catch(({ response }) => {\r\n          context.commit(SET_ERROR, response.data.errors);\r\n        });\r\n    });\r\n  },\r\n  async [VERIFY_AUTH]() {\r\n    // let res = null;\r\n\r\n    console.log(\"VERIFY_AUTH >>> \",store.auth.state.apiHeader)\r\n    try {\r\n      await axios.post(\"/auth/check-authentication\", {}, store.auth.state.apiHeader);\r\n      \r\n        // context.commit(SET_AUTH, res.data);\r\n    }\r\n    catch (err) {\r\n        console.log(\"VERIFY_AUTH ERROR !!! >>> \", err.response)\r\n    }\r\n  },\r\n  // [VERIFY_AUTH](context) {\r\n  //   if (JwtService.getToken()) {\r\n  //     ApiService.setHeader();\r\n  //     ApiService.post(\"/auth/check-authentication\", {})\r\n  //       .then(({ data }) => {\r\n  //         context.commit(SET_AUTH, data);\r\n  //       })\r\n  //       .catch(({ response }) => {\r\n  //         context.commit(SET_ERROR, response.data.errors);\r\n  //         // this.$router.push({ name: \"login\" });\r\n  //       });\r\n  //   } else {\r\n  //     // context.commit(PURGE_AUTH);\r\n  //     // this.$router.push({ name: \"login\" });\r\n  //   }\r\n  // },\r\n  [UPDATE_PASSWORD](context, payload) {\r\n    const password = payload;\r\n\r\n    return ApiService.put(\"password\", password).then(({ data }) => {\r\n      context.commit(SET_PASSWORD, data);\r\n      return data;\r\n    });\r\n  }\r\n};\r\n\r\nconst mutations = {\r\n\r\n  [UPDATE_AUTH](state, new_auth) {\r\n    // console.log(\"mutations/UPDATE_AUTH \", new_auth);\r\n    state.auth = new_auth;\r\n  },\r\n  [UPDATE_TOKEN](state) {\r\n\r\n    var tk = localStorage.getItem(\"id_token\");\r\n    // var tkpaser = JSON.parse(tk);\r\n    state.apiHeader = {\r\n      headers: {\r\n        Authorization: \"bearer \" + tk\r\n      }\r\n    };\r\n    console.log( state.apiHeader );\r\n  },\r\n  [SET_HEADER](state, tk) {\r\n    state.apiHeader = {\r\n      headers: {\r\n        Authorization: \"bearer \" + tk\r\n      }\r\n    }\r\n    // state.errors = error;\r\n  },\r\n  [SET_ERROR](state, error) {\r\n    state.errors = error;\r\n  },\r\n  [SET_AUTH](state, user) {\r\n    state.isAuthenticated = true;\r\n    state.user = user;\r\n    state.errors = {};\r\n    JwtService.saveToken(state.user.token);\r\n    console.log(\"SET_AUTH >>> JwtService.saveToken\");\r\n  },\r\n  [SET_PASSWORD](state, password) {\r\n    state.user.password = password;\r\n  },\r\n  [PURGE_AUTH](state) {\r\n    state.isAuthenticated = false;\r\n    state.user = {};\r\n    state.errors = {};\r\n    JwtService.destroyToken();\r\n     console.log(\"PURGE_AUTH >>> JwtService.destroyToken\");\r\n  }\r\n};\r\n\r\nexport default {\r\n  state,\r\n  actions,\r\n  mutations,\r\n  getters\r\n};\r\n"]}]}