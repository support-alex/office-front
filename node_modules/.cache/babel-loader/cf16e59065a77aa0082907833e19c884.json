{"remainingRequest":"/Users/belliecee/Documents/00_Bisinnoco/metronic-responsive-admin-dashboard-template/metronic_v7.2.9/theme/vue/demo5/node_modules/thread-loader/dist/cjs.js!/Users/belliecee/Documents/00_Bisinnoco/metronic-responsive-admin-dashboard-template/metronic_v7.2.9/theme/vue/demo5/node_modules/babel-loader/lib/index.js!/Users/belliecee/Documents/00_Bisinnoco/metronic-responsive-admin-dashboard-template/metronic_v7.2.9/theme/vue/demo5/node_modules/eslint-loader/index.js??ref--13-0!/Users/belliecee/Documents/00_Bisinnoco/metronic-responsive-admin-dashboard-template/metronic_v7.2.9/theme/vue/demo5/src/mixins/shapeFormat.js","dependencies":[{"path":"/Users/belliecee/Documents/00_Bisinnoco/metronic-responsive-admin-dashboard-template/metronic_v7.2.9/theme/vue/demo5/src/mixins/shapeFormat.js","mtime":1630245313794},{"path":"/Users/belliecee/Documents/00_Bisinnoco/metronic-responsive-admin-dashboard-template/metronic_v7.2.9/theme/vue/demo5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/belliecee/Documents/00_Bisinnoco/metronic-responsive-admin-dashboard-template/metronic_v7.2.9/theme/vue/demo5/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/belliecee/Documents/00_Bisinnoco/metronic-responsive-admin-dashboard-template/metronic_v7.2.9/theme/vue/demo5/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/belliecee/Documents/00_Bisinnoco/metronic-responsive-admin-dashboard-template/metronic_v7.2.9/theme/vue/demo5/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiL1VzZXJzL2JlbGxpZWNlZS9Eb2N1bWVudHMvMDBfQmlzaW5ub2NvL21ldHJvbmljLXJlc3BvbnNpdmUtYWRtaW4tZGFzaGJvYXJkLXRlbXBsYXRlL21ldHJvbmljX3Y3LjIuOS90aGVtZS92dWUvZGVtbzUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvYmVsbGllY2VlL0RvY3VtZW50cy8wMF9CaXNpbm5vY28vbWV0cm9uaWMtcmVzcG9uc2l2ZS1hZG1pbi1kYXNoYm9hcmQtdGVtcGxhdGUvbWV0cm9uaWNfdjcuMi45L3RoZW1lL3Z1ZS9kZW1vNS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHN0b3JlIGZyb20gIkAvY29yZS9zZXJ2aWNlcy9zdG9yZSI7CmltcG9ydCBTd2FsIGZyb20gJ3N3ZWV0YWxlcnQyJzsKZXhwb3J0IGRlZmF1bHQgewogIHdhdGNoOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGhlSGVhZGVyOiB7fQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyAgKioqIEJFR0lOIDogMjAyMC0wNC0wNiA6IFRBWCBJTkZPCiAgICB0YXhJbmZvOiBmdW5jdGlvbiB0YXhJbmZvKCkgewogICAgICByZXR1cm4gc3RvcmUuZ2V0dGVyc1sic2hvcC90YXgiXTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCdzaG9wL2ZldGNoJyk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyAqKiogMjAyMS0wNC0wMTMg4Lij4Liw4Lia4Lig4Liy4Lip4Li1CiAgICAvLyAqKiogcmVudGFsUHJpY2VUb3RhbDEgPSB0aGlzLnJlbnRhbFByaWNlVG90YWwKICAgIC8vIOC4ouC4reC4lOC5gOC4iuC5iOC4suC4quC4uOC4l+C4mOC4tAogICAgcmVudGFsUHJpY2VUb3RhbF9maW5hbDogZnVuY3Rpb24gcmVudGFsUHJpY2VUb3RhbF9maW5hbChyZW50YWxQcmljZSwgcmVudGFsRGlzY291bnQpIHsKICAgICAgLy8gIENBU0UxIOC4geC4o+C4k+C4tSDguK3guKLguLnguYjguYPguJnguKPguLDguJrguJogVkFUIHwg4LmE4Lih4LmI4Lih4Li14Liq4LmI4Lin4LiZ4Lil4LiUIHwg4Lij4Liy4LiE4Liy4Lij4Lin4LihIFZBVAogICAgICBpZiAodGhpcy50YXhJbmZvLnZhdFN5c3RlbSA9PT0gdHJ1ZSAmJiB0aGlzLnRheEluZm8uaW5WYXQgPT09IHRydWUgJiYgdGhpcy5pc1JlbnRhbERpc2NvdW50KHJlbnRhbERpc2NvdW50KSA9PT0gZmFsc2UpIHJldHVybiB0aGlzLnJlbnRhbFByaWNlVG90YWwxKHJlbnRhbFByaWNlKTsgLy8gIENBU0UyIOC4geC4o+C4k+C4tSDguK3guKLguLnguYjguYPguJnguKPguLDguJrguJogVkFUIHwg4LmE4Lih4LmI4Lih4Li14Liq4LmI4Lin4LiZ4Lil4LiUIHwg4Lij4Liy4LiE4Liy4LmE4Lih4LmI4Lij4Lin4LihCgogICAgICBpZiAodGhpcy50YXhJbmZvLnZhdFN5c3RlbSA9PT0gdHJ1ZSAmJiB0aGlzLnRheEluZm8uaW5WYXQgPT09IGZhbHNlICYmIHRoaXMuaXNSZW50YWxEaXNjb3VudChyZW50YWxEaXNjb3VudCkgPT09IGZhbHNlKSByZXR1cm4gdGhpcy5yZW50YWxQcmljZVRvdGFsMihyZW50YWxQcmljZSk7IC8vICBDQVNFMyDguIHguKPguJPguLUg4Lit4Lii4Li54LmI4LmD4LiZ4Lij4Liw4Lia4LiaIFZBVCB8IOC4oeC4teC4quC5iOC4p+C4meC4peC4lCB8IOC4o+C4suC4hOC4suC4o+C4p+C4oSBWQVQKCiAgICAgIGlmICh0aGlzLnRheEluZm8udmF0U3lzdGVtID09PSB0cnVlICYmIHRoaXMudGF4SW5mby5pblZhdCA9PT0gdHJ1ZSAmJiB0aGlzLmlzUmVudGFsRGlzY291bnQocmVudGFsRGlzY291bnQpID09PSB0cnVlKSByZXR1cm4gdGhpcy5yZW50YWxQcmljZVRvdGFsMyhyZW50YWxQcmljZSwgcmVudGFsRGlzY291bnQpOyAvLyAgQ0FTRTQg4LiB4Lij4LiT4Li1IOC4reC4ouC4ueC5iOC5g+C4meC4o+C4sOC4muC4miBWQVQgfCDguKHguLXguKrguYjguKfguJnguKXguJQgfCDguKPguLLguITguLLguYTguKHguYjguKPguKfguKEgVkFUCgogICAgICBpZiAodGhpcy50YXhJbmZvLnZhdFN5c3RlbSA9PT0gdHJ1ZSAmJiB0aGlzLnRheEluZm8uaW5WYXQgPT09IGZhbHNlICYmIHRoaXMuaXNSZW50YWxEaXNjb3VudChyZW50YWxEaXNjb3VudCkgPT09IHRydWUpIHJldHVybiB0aGlzLnJlbnRhbFByaWNlVG90YWw0KHJlbnRhbFByaWNlLCByZW50YWxEaXNjb3VudCk7CiAgICB9LAogICAgdmF0X2ZpbmFsOiBmdW5jdGlvbiB2YXRfZmluYWwocmVudGFsUHJpY2UsIHJlbnRhbERpc2NvdW50KSB7CiAgICAgIC8vICBDQVNFMSDguIHguKPguJPguLUg4Lit4Lii4Li54LmI4LmD4LiZ4Lij4Liw4Lia4LiaIFZBVCB8IOC5hOC4oeC5iOC4oeC4teC4quC5iOC4p+C4meC4peC4lCB8IOC4o+C4suC4hOC4suC4o+C4p+C4oSBWQVQKICAgICAgaWYgKHRoaXMudGF4SW5mby52YXRTeXN0ZW0gPT09IHRydWUgJiYgdGhpcy50YXhJbmZvLmluVmF0ID09PSB0cnVlICYmIHRoaXMuaXNSZW50YWxEaXNjb3VudChyZW50YWxEaXNjb3VudCkgPT09IGZhbHNlKSByZXR1cm4gdGhpcy52YXQxKHJlbnRhbFByaWNlKTsgLy8gIENBU0UyIOC4geC4o+C4k+C4tSDguK3guKLguLnguYjguYPguJnguKPguLDguJrguJogVkFUIHwg4LmE4Lih4LmI4Lih4Li14Liq4LmI4Lin4LiZ4Lil4LiUIHwg4Lij4Liy4LiE4Liy4LmE4Lih4LmI4Lij4Lin4LihCgogICAgICBpZiAodGhpcy50YXhJbmZvLnZhdFN5c3RlbSA9PT0gdHJ1ZSAmJiB0aGlzLnRheEluZm8uaW5WYXQgPT09IGZhbHNlICYmIHRoaXMuaXNSZW50YWxEaXNjb3VudChyZW50YWxEaXNjb3VudCkgPT09IGZhbHNlKSByZXR1cm4gdGhpcy52YXQyKHJlbnRhbFByaWNlKTsgLy8gIENBU0UzIOC4geC4o+C4k+C4tSDguK3guKLguLnguYjguYPguJnguKPguLDguJrguJogVkFUIHwg4Lih4Li14Liq4LmI4Lin4LiZ4Lil4LiUIHwg4Lij4Liy4LiE4Liy4Lij4Lin4LihIFZBVAoKICAgICAgaWYgKHRoaXMudGF4SW5mby52YXRTeXN0ZW0gPT09IHRydWUgJiYgdGhpcy50YXhJbmZvLmluVmF0ID09PSB0cnVlICYmIHRoaXMuaXNSZW50YWxEaXNjb3VudChyZW50YWxEaXNjb3VudCkgPT09IHRydWUpIHJldHVybiB0aGlzLnZhdDMocmVudGFsUHJpY2UsIHJlbnRhbERpc2NvdW50KTsgLy8gIENBU0U0IOC4geC4o+C4k+C4tSDguK3guKLguLnguYjguYPguJnguKPguLDguJrguJogVkFUIHwg4Lih4Li14Liq4LmI4Lin4LiZ4Lil4LiUIHwg4Lij4Liy4LiE4Liy4LmE4Lih4LmI4Lij4Lin4LihIFZBVAoKICAgICAgaWYgKHRoaXMudGF4SW5mby52YXRTeXN0ZW0gPT09IHRydWUgJiYgdGhpcy50YXhJbmZvLmluVmF0ID09PSBmYWxzZSAmJiB0aGlzLmlzUmVudGFsRGlzY291bnQocmVudGFsRGlzY291bnQpID09PSB0cnVlKSByZXR1cm4gdGhpcy52YXQ0KHJlbnRhbFByaWNlLCByZW50YWxEaXNjb3VudCk7CiAgICB9LAogICAgYmVmb3JlVmF0X2ZpbmFsOiBmdW5jdGlvbiBiZWZvcmVWYXRfZmluYWwocmVudGFsUHJpY2UsIHJlbnRhbERpc2NvdW50KSB7CiAgICAgIC8vICBDQVNFMSDguIHguKPguJPguLUg4Lit4Lii4Li54LmI4LmD4LiZ4Lij4Liw4Lia4LiaIFZBVCB8IOC5hOC4oeC5iOC4oeC4teC4quC5iOC4p+C4meC4peC4lCB8IOC4o+C4suC4hOC4suC4o+C4p+C4oSBWQVQKICAgICAgaWYgKHRoaXMudGF4SW5mby52YXRTeXN0ZW0gPT09IHRydWUgJiYgdGhpcy50YXhJbmZvLmluVmF0ID09PSB0cnVlICYmIHRoaXMuaXNSZW50YWxEaXNjb3VudChyZW50YWxEaXNjb3VudCkgPT09IGZhbHNlKSByZXR1cm4gdGhpcy5iZWZvcmVWYXQxKHJlbnRhbFByaWNlKTsgLy8gIENBU0UyIOC4geC4o+C4k+C4tSDguK3guKLguLnguYjguYPguJnguKPguLDguJrguJogVkFUIHwg4LmE4Lih4LmI4Lih4Li14Liq4LmI4Lin4LiZ4Lil4LiUIHwg4Lij4Liy4LiE4Liy4LmE4Lih4LmI4Lij4Lin4LihCgogICAgICBpZiAodGhpcy50YXhJbmZvLnZhdFN5c3RlbSA9PT0gdHJ1ZSAmJiB0aGlzLnRheEluZm8uaW5WYXQgPT09IGZhbHNlICYmIHRoaXMuaXNSZW50YWxEaXNjb3VudChyZW50YWxEaXNjb3VudCkgPT09IGZhbHNlKSByZXR1cm4gdGhpcy5iZWZvcmVWYXQyKHJlbnRhbFByaWNlKTsgLy8gIENBU0UzIOC4geC4o+C4k+C4tSDguK3guKLguLnguYjguYPguJnguKPguLDguJrguJogVkFUIHwg4Lih4Li14Liq4LmI4Lin4LiZ4Lil4LiUIHwg4Lij4Liy4LiE4Liy4Lij4Lin4LihIFZBVAoKICAgICAgaWYgKHRoaXMudGF4SW5mby52YXRTeXN0ZW0gPT09IHRydWUgJiYgdGhpcy50YXhJbmZvLmluVmF0ID09PSB0cnVlICYmIHRoaXMuaXNSZW50YWxEaXNjb3VudChyZW50YWxEaXNjb3VudCkgPT09IHRydWUpIHJldHVybiB0aGlzLmJlZm9yZVZhdDMocmVudGFsUHJpY2UsIHJlbnRhbERpc2NvdW50KTsgLy8gIENBU0U0IOC4geC4o+C4k+C4tSDguK3guKLguLnguYjguYPguJnguKPguLDguJrguJogVkFUIHwg4Lih4Li14Liq4LmI4Lin4LiZ4Lil4LiUIHwg4Lij4Liy4LiE4Liy4LmE4Lih4LmI4Lij4Lin4LihIFZBVAoKICAgICAgaWYgKHRoaXMudGF4SW5mby52YXRTeXN0ZW0gPT09IHRydWUgJiYgdGhpcy50YXhJbmZvLmluVmF0ID09PSBmYWxzZSAmJiB0aGlzLmlzUmVudGFsRGlzY291bnQocmVudGFsRGlzY291bnQpID09PSB0cnVlKSByZXR1cm4gdGhpcy5iZWZvcmVWYXQ0KHJlbnRhbFByaWNlLCByZW50YWxEaXNjb3VudCk7CiAgICB9LAogICAgYmVmb3JlVmF0MTogZnVuY3Rpb24gYmVmb3JlVmF0MShyZW50YWxQcmljZSkgewogICAgICAvLyDguYTguKHguYjguKHguLXguKrguYjguKfguJnguKXguJQg4Lij4Liy4LiE4Liy4LmD4LiZ4Liq4LiV4LmH4Lit4LiE4Lij4Lin4Lih4Lig4Liy4Lip4Li1IChWQVQxKQogICAgICByZXR1cm4gcmVudGFsUHJpY2UgLSB0aGlzLnZhdDEocmVudGFsUHJpY2UpOwogICAgfSwKICAgIHZhdDE6IGZ1bmN0aW9uIHZhdDEocmVudGFsUHJpY2UpIHsKICAgICAgLy8g4LmE4Lih4LmI4Lih4Li14Liq4LmI4Lin4LiZ4Lil4LiUIOC4o+C4suC4hOC4suC5g+C4meC4quC4leC5h+C4reC4hOC4o+C4p+C4oeC4oOC4suC4qeC4tSAoVkFUMSkKICAgICAgcmV0dXJuIHJlbnRhbFByaWNlICogKHRoaXMudGF4SW5mby50YXhSYXRlIC8gKDEwMCArIHRoaXMudGF4SW5mby50YXhSYXRlKSk7CiAgICB9LAogICAgcmVudGFsUHJpY2VUb3RhbDE6IGZ1bmN0aW9uIHJlbnRhbFByaWNlVG90YWwxKHJlbnRhbFByaWNlKSB7CiAgICAgIC8vIOC5hOC4oeC5iOC4oeC4teC4quC5iOC4p+C4meC4peC4lCDguKPguLLguITguLLguYPguJnguKrguJXguYfguK3guITguKPguKfguKHguKDguLLguKnguLUgKFZBVDEpCiAgICAgIHJldHVybiByZW50YWxQcmljZTsKICAgIH0sCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgYmVmb3JlVmF0MjogZnVuY3Rpb24gYmVmb3JlVmF0MihyZW50YWxQcmljZSkgewogICAgICAvLyDguYTguKHguYjguKHguLXguKrguYjguKfguJnguKXguJQg4Lij4Liy4LiE4Liy4LmD4LiZ4Liq4LiV4LmH4Lit4LiE4LmE4Lih4LmI4Lij4Lin4Lih4Lig4Liy4Lip4Li1IChWQVQyKQogICAgICByZXR1cm4gcmVudGFsUHJpY2U7CiAgICB9LAogICAgdmF0MjogZnVuY3Rpb24gdmF0MihyZW50YWxQcmljZSkgewogICAgICAvLyDguYTguKHguYjguKHguLXguKrguYjguKfguJnguKXguJQg4Lij4Liy4LiE4Liy4LmD4LiZ4Liq4LiV4LmH4Lit4LiE4LmE4Lih4LmI4Lij4Lin4Lih4Lig4Liy4Lip4Li1IChWQVQyKQogICAgICByZXR1cm4gcmVudGFsUHJpY2UgKiAodGhpcy50YXhJbmZvLnRheFJhdGUgLyAxMDApOwogICAgfSwKICAgIHJlbnRhbFByaWNlVG90YWwyOiBmdW5jdGlvbiByZW50YWxQcmljZVRvdGFsMihyZW50YWxQcmljZSkgewogICAgICAvLyDguYTguKHguYjguKHguLXguKrguYjguKfguJnguKXguJQg4Lij4Liy4LiE4Liy4LmD4LiZ4Liq4LiV4LmH4Lit4LiE4LmE4Lih4LmI4Lij4Lin4Lih4Lig4Liy4Lip4Li1IChWQVQyKQogICAgICByZXR1cm4gcmVudGFsUHJpY2UgKyB0aGlzLnZhdDIocmVudGFsUHJpY2UpOwogICAgfSwKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICBiZWZvcmVWYXQzOiBmdW5jdGlvbiBiZWZvcmVWYXQzKHJlbnRhbFByaWNlLCByZW50YWxEaXNjb3VudCkgewogICAgICAvLyDguKHguLXguKrguYjguKfguJnguKXguJQg4Lij4Liy4LiE4Liy4LmD4LiZ4Liq4LiV4LmH4Lit4LiE4Lij4Lin4Lih4Lig4Liy4Lip4Li1IChWQVQzKQogICAgICB2YXIgZGlzY291bnQgPSAwOwoKICAgICAgaWYgKHRoaXMuaXNSZW50YWxEaXNjb3VudChyZW50YWxEaXNjb3VudCkpIHsKICAgICAgICBkaXNjb3VudCA9IHJlbnRhbERpc2NvdW50OwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5yZW50YWxQcmljZVRvdGFsMyhyZW50YWxQcmljZSwgZGlzY291bnQpIC0gdGhpcy52YXQzKHJlbnRhbFByaWNlLCBkaXNjb3VudCk7CiAgICB9LAogICAgdmF0MzogZnVuY3Rpb24gdmF0MyhyZW50YWxQcmljZSwgcmVudGFsRGlzY291bnQpIHsKICAgICAgLy8g4Lih4Li14Liq4LmI4Lin4LiZ4Lil4LiUIOC4o+C4suC4hOC4suC5g+C4meC4quC4leC5h+C4reC4hOC4o+C4p+C4oeC4oOC4suC4qeC4tSAoVkFUMykKICAgICAgdmFyIGRpc2NvdW50ID0gMDsKCiAgICAgIGlmICh0aGlzLmlzUmVudGFsRGlzY291bnQocmVudGFsRGlzY291bnQpKSB7CiAgICAgICAgZGlzY291bnQgPSByZW50YWxEaXNjb3VudDsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMucmVudGFsUHJpY2VUb3RhbDMocmVudGFsUHJpY2UsIGRpc2NvdW50KSAqICh0aGlzLnRheEluZm8udGF4UmF0ZSAvICgxMDAgKyB0aGlzLnRheEluZm8udGF4UmF0ZSkpOwogICAgfSwKICAgIHJlbnRhbFByaWNlVG90YWwzOiBmdW5jdGlvbiByZW50YWxQcmljZVRvdGFsMyhyZW50YWxQcmljZSwgcmVudGFsRGlzY291bnQpIHsKICAgICAgdmFyIGRpc2NvdW50ID0gMDsKCiAgICAgIGlmICh0aGlzLmlzUmVudGFsRGlzY291bnQocmVudGFsRGlzY291bnQpKSB7CiAgICAgICAgZGlzY291bnQgPSByZW50YWxEaXNjb3VudDsKICAgICAgfSAvLyDguKHguLXguKrguYjguKfguJnguKXguJQg4Lij4Liy4LiE4Liy4LmD4LiZ4Liq4LiV4LmH4Lit4LiE4Lij4Lin4Lih4Lig4Liy4Lip4Li1IChWQVQzKQoKCiAgICAgIHJldHVybiByZW50YWxQcmljZSAtIGRpc2NvdW50OwogICAgfSwKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICBiZWZvcmVWYXQ0OiBmdW5jdGlvbiBiZWZvcmVWYXQ0KHJlbnRhbFByaWNlLCByZW50YWxEaXNjb3VudCkgewogICAgICAvLyDguKHguLXguKrguYjguKfguJnguKXguJQg4Lij4Liy4LiE4Liy4LmD4LiZ4Liq4LiV4LmH4Lit4LiE4LmE4Lih4LmI4Lij4Lin4Lih4Lig4Liy4Lip4Li1IChWQVQ0KQogICAgICB2YXIgZGlzY291bnQgPSAwOwoKICAgICAgaWYgKHRoaXMuaXNSZW50YWxEaXNjb3VudChyZW50YWxEaXNjb3VudCkpIHsKICAgICAgICBkaXNjb3VudCA9IHJlbnRhbERpc2NvdW50OwogICAgICB9CgogICAgICByZXR1cm4gcmVudGFsUHJpY2UgLSBkaXNjb3VudDsKICAgIH0sCiAgICB2YXQ0OiBmdW5jdGlvbiB2YXQ0KHJlbnRhbFByaWNlLCByZW50YWxEaXNjb3VudCkgewogICAgICAvLyDguKHguLXguKrguYjguKfguJnguKXguJQg4Lij4Liy4LiE4Liy4LmD4LiZ4Liq4LiV4LmH4Lit4LiE4LmE4Lih4LmI4Lij4Lin4Lih4Lig4Liy4Lip4Li1IChWQVQ0KQogICAgICB2YXIgZGlzY291bnQgPSAwOwoKICAgICAgaWYgKHRoaXMuaXNSZW50YWxEaXNjb3VudChyZW50YWxEaXNjb3VudCkpIHsKICAgICAgICBkaXNjb3VudCA9IHJlbnRhbERpc2NvdW50OwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5iZWZvcmVWYXQ0KHJlbnRhbFByaWNlLCBkaXNjb3VudCkgKiAodGhpcy50YXhJbmZvLnRheFJhdGUgLyAxMDApOwogICAgfSwKICAgIHJlbnRhbFByaWNlVG90YWw0OiBmdW5jdGlvbiByZW50YWxQcmljZVRvdGFsNChyZW50YWxQcmljZSwgcmVudGFsRGlzY291bnQpIHsKICAgICAgdmFyIGRpc2NvdW50ID0gMDsKCiAgICAgIGlmICh0aGlzLmlzUmVudGFsRGlzY291bnQocmVudGFsRGlzY291bnQpKSB7CiAgICAgICAgZGlzY291bnQgPSByZW50YWxEaXNjb3VudDsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuYmVmb3JlVmF0NChyZW50YWxQcmljZSwgZGlzY291bnQpICsgdGhpcy52YXQ0KHJlbnRhbFByaWNlLCBkaXNjb3VudCk7CiAgICB9LAogICAgaXNSZW50YWxEaXNjb3VudDogZnVuY3Rpb24gaXNSZW50YWxEaXNjb3VudChyZW50YWxEaXNjb3VudCkgewogICAgICBpZiAocmVudGFsRGlzY291bnQgPiAwICYmIHJlbnRhbERpc2NvdW50ICE9IHVuZGVmaW5lZCAmJiByZW50YWxEaXNjb3VudCAhPSBudWxsKSByZXR1cm4gdHJ1ZTtlbHNlIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICAvLyAqKiogMjAyMS0wNC0wMTMg4Lij4Liw4Lia4Lig4Liy4Lip4Li1CiAgICAvLyBibHVlTGlnaHQoZXZlbnQpIHsKICAgIC8vICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc05hbWUgPT0gImNob29zZSIpIHsKICAgIC8vICAgICBldmVudC50YXJnZXQuY2xhc3NOYW1lID0gIm5vdENob29zZSI7CiAgICAvLyAgIH0gZWxzZSB7CiAgICAvLyAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTmFtZSA9ICJjaG9vc2UiOwogICAgLy8gICB9CiAgICAvLyB9LAogICAgZ2V0U2hvcExpbmVTY29yZTogZnVuY3Rpb24gZ2V0U2hvcExpbmVTY29yZShzaG9wSW5mbykgewogICAgICB2YXIgbGluZU51bWJlciA9IDA7CiAgICAgIHZhciBzcENvdW50OwogICAgICB2YXIgc3B0U3RyID0gIjxwPiI7CiAgICAgIHZhciB3ZWlnaHQgPSA0OwoKICAgICAgaWYgKHNob3BJbmZvLnRlcm1BbmRDb25kaXRpb24gPT09IG51bGwgfHwgc2hvcEluZm8udGVybUFuZENvbmRpdGlvbiA9PT0gdW5kZWZpbmVkIHx8IHNob3BJbmZvLnRlcm1BbmRDb25kaXRpb24gPT09ICIiKSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3BDb3VudCA9IHNob3BJbmZvLnRlcm1BbmRDb25kaXRpb24uc3BsaXQoc3B0U3RyKTsKICAgICAgfQoKICAgICAgbGluZU51bWJlciA9IHNwQ291bnQubGVuZ3RoIC0gMTsKICAgICAgcmV0dXJuIE1hdGguY2VpbChsaW5lTnVtYmVyIC8gd2VpZ2h0KTsKICAgIH0sCiAgICBjaGVja1F1ZXVlU2hhcmU6IGZ1bmN0aW9uIGNoZWNrUXVldWVTaGFyZShsaXN0KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXMgPSBudWxsOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3Qoc3RvcmUuc3RhdGUuYXBpVVJMICsgIi9hcGkvb3JkZXJkZXRhaWwvY2hlY2txIiwgbGlzdCwgX3RoaXMuJHN0b3JlLnN0YXRlLmF1dGguYXBpSGVhZGVyKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBudWxsKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQyLnNlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzEsIDddXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdlbmVyYXRlUmFuZG9tOiBmdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbShsZW5ndGgpIHsKICAgICAgdmFyIHJlc3VsdCA9ICcnOwogICAgICB2YXIgY2hhcmFjdGVycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7CiAgICAgIHZhciBjaGFyYWN0ZXJzTGVuZ3RoID0gY2hhcmFjdGVycy5sZW5ndGg7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgcmVzdWx0ICs9IGNoYXJhY3RlcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJhY3RlcnNMZW5ndGgpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICBudW1SYW5nZTogZnVuY3Rpb24gbnVtUmFuZ2UobnVtKSB7CiAgICAgIHZhciBhcnIgPSBbXTsgLy8gY3JlYXRlIGFuIGVtcHR5IGFycmF5IHdpdGggbGVuZ3RoICNudW0KCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtOyBpKyspIHsKICAgICAgICBhcnIucHVzaChpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGFycjsKICAgIH0sCiAgICBmaWx0ZXJpbmdNb3JlOiBmdW5jdGlvbiBmaWx0ZXJpbmdNb3JlKGxpc3QKICAgIC8qIEFycmF5IG9mIG9iamVjdCBsaXN0ICovCiAgICAsIGZpbHRlcmluZwogICAgLyogQXJyYXkgc2luZ2xlIGxpc3QgKi8KICAgICwgZmlsZWROYW1lKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCdAZmlsdGVyaW5nTW9yZSAvIG9yZ2luYWxMaXN0JywgbGlzdCk7CiAgICAgIC8vIGNvbnNvbGUubG9nKCdAZmlsdGVyaW5nTW9yZSAvIGZpbHRlcmluZycsIGZpbHRlcmluZyk7CiAgICAgIHZhciB0ZW1wbGlzdCA9IFtdOwoKICAgICAgaWYgKGZpbHRlcmluZy5sZW5ndGggPj0gMSkgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBmaWx0ZXJpbmcubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgaWYgKGxpc3RbaV1bZmlsZWROYW1lXSA9PT0gZmlsdGVyaW5nW2pdKSB7CiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0BmaWx0ZXJpbmdNb3JlIC8gbGlzdFtpXVtmaWxlZE5hbWVdJywgbGlzdFtpXVtmaWxlZE5hbWVdKTsKICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnQGZpbHRlcmluZ01vcmUgLyBmaWx0ZXJpbmdbal0nLCBmaWx0ZXJpbmdbal0pOwogICAgICAgICAgICAgIHRlbXBsaXN0LnB1c2gobGlzdFtpXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB0ZW1wbGlzdDsKICAgIH0sCiAgICBhdXRvbWFwcGVyOiBmdW5jdGlvbiBhdXRvbWFwcGVyKGxpc3QsIGtleXMpIHsKICAgICAgdmFyIG5ld2xpc3QgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBpdGVtID0ge307CgogICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwga2V5cy5sZW5ndGg7IGorKykgewogICAgICAgICAgaWYgKGxpc3RbMF0uaGFzT3duUHJvcGVydHkoa2V5c1tqXSkpIHsKICAgICAgICAgICAgaXRlbVtrZXlzW2pdXSA9IGxpc3RbaV1ba2V5c1tqXV07CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgaXQgPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTsKICAgICAgICBuZXdsaXN0LnB1c2goaXQpOwogICAgICB9CgogICAgICByZXR1cm4gbmV3bGlzdDsKICAgIH0sCiAgICBjb252ZXJ0VG9BcnJheTogZnVuY3Rpb24gY29udmVydFRvQXJyYXkobGlzdCwgcHJvcCkgewogICAgICB2YXIgbmV3bGlzdCA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbmV3bGlzdC5wdXNoKGxpc3RbaV1bcHJvcF0pOwogICAgICB9CgogICAgICByZXR1cm4gbmV3bGlzdDsKICAgIH0sCiAgICBjbG9uZUFycmF5OiBmdW5jdGlvbiBjbG9uZUFycmF5KG9yaWdpbmFsKSB7CiAgICAgIHZhciBuZXdsaXN0ID0gW107CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9yaWdpbmFsLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbmV3bGlzdC5wdXNoKG9yaWdpbmFsW2ldKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG5ld2xpc3Q7CiAgICB9LAogICAgc2VhcmNoQnlEYXRlOiBmdW5jdGlvbiBzZWFyY2hCeURhdGUobGlzdCwgc3RhcnREYXRlLCBlbmREYXRlLCBmaWxlZE5hbWUpIHsKICAgICAgY29uc29sZS5sb2coJ0BzZWFyY2hCeURhdGUgc3RhcnREYXRlID4+PiAnLCB0aGlzLmZvcm1hdERhdGUoc3RhcnREYXRlKSk7CiAgICAgIGNvbnNvbGUubG9nKCdAc2VhcmNoQnlEYXRlIGVuZERhdGUgPj4+ICcsIHRoaXMuZm9ybWF0RGF0ZShlbmREYXRlKSk7CiAgICAgIHZhciB0ZW1wbGlzdCA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGxpc3RkYXRlID0gdGhpcy5mb3JtYXREYXRlKGxpc3RbaV1bZmlsZWROYW1lXSk7CiAgICAgICAgdmFyIGNraW4gPSB0aGlzLmZvcm1hdERhdGUoc3RhcnREYXRlKTsKICAgICAgICB2YXIgY2tvdXQgPSB0aGlzLmZvcm1hdERhdGUoZW5kRGF0ZSk7CgogICAgICAgIGlmIChsaXN0ZGF0ZSA+PSBja2luICYmIGxpc3RkYXRlIDw9IGNrb3V0KSB7CiAgICAgICAgICB0ZW1wbGlzdC5wdXNoKGxpc3RbaV0pOwogICAgICAgIH0KICAgICAgfSAvLyBjb25zb2xlLmxvZygic2VhcmNoQnlEYXRlIiwgdGVtcGxpc3QpOwoKCiAgICAgIHJldHVybiB0ZW1wbGlzdDsKICAgIH0sCiAgICBkZXNjZW5kaW5nU29ydFNoYXJlOiBmdW5jdGlvbiBkZXNjZW5kaW5nU29ydFNoYXJlKGlucHV0TGlzdCwgc29ydGluZ0ZpZWxkKSB7CiAgICAgIHZhciBsaXN0ID0gW107CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0TGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIGxpc3QucHVzaChpbnB1dExpc3RbaV0pOwogICAgICB9CgogICAgICBsaXN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gYltzb3J0aW5nRmllbGRdIC0gYVtzb3J0aW5nRmllbGRdOwogICAgICB9KTsKICAgICAgcmV0dXJuIGxpc3Q7CiAgICB9LAogICAgZGVzY2VuZGluZ0RhdGVTb3J0U2hhcmU6IGZ1bmN0aW9uIGRlc2NlbmRpbmdEYXRlU29ydFNoYXJlKGlucHV0TGlzdCwgc29ydGluZ0ZpZWxkKSB7CiAgICAgIHZhciBsaXN0ID0gW107CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0TGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIGxpc3QucHVzaChpbnB1dExpc3RbaV0pOwogICAgICB9CgogICAgICBsaXN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gbmV3IERhdGUoYltzb3J0aW5nRmllbGRdKSAtIG5ldyBEYXRlKGFbc29ydGluZ0ZpZWxkXSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gbGlzdDsKICAgIH0sCiAgICBhc2NlbmRpbmdTb3J0U2hhcmU6IGZ1bmN0aW9uIGFzY2VuZGluZ1NvcnRTaGFyZShpbnB1dExpc3QsIHNvcnRpbmdGaWVsZCkgewogICAgICB2YXIgbGlzdCA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dExpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICBsaXN0LnB1c2goaW5wdXRMaXN0W2ldKTsKICAgICAgfQoKICAgICAgbGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGFbc29ydGluZ0ZpZWxkXSAtIGJbc29ydGluZ0ZpZWxkXTsKICAgICAgfSk7CiAgICAgIHJldHVybiBsaXN0OwogICAgfSwKICAgIGFzY2VuZGluZ0RhdGVTb3J0U2hhcmU6IGZ1bmN0aW9uIGFzY2VuZGluZ0RhdGVTb3J0U2hhcmUoaW5wdXRMaXN0LCBzb3J0aW5nRmllbGQpIHsKICAgICAgdmFyIGxpc3QgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXRMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbGlzdC5wdXNoKGlucHV0TGlzdFtpXSk7CiAgICAgIH0KCiAgICAgIGxpc3Quc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHJldHVybiBuZXcgRGF0ZShhW3NvcnRpbmdGaWVsZF0pIC0gbmV3IERhdGUoYltzb3J0aW5nRmllbGRdKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBsaXN0OwogICAgfSwKICAgIGRhdGVfZGlmZl9pbmRheXM6IGZ1bmN0aW9uIGRhdGVfZGlmZl9pbmRheXMoZGF0ZTEsIGRhdGUyKSB7CiAgICAgIHZhciBkdDEgPSBuZXcgRGF0ZShkYXRlMSk7CiAgICAgIHZhciBkdDIgPSBuZXcgRGF0ZShkYXRlMik7CiAgICAgIHJldHVybiBNYXRoLmZsb29yKChEYXRlLlVUQyhkdDIuZ2V0RnVsbFllYXIoKSwgZHQyLmdldE1vbnRoKCksIGR0Mi5nZXREYXRlKCkpIC0gRGF0ZS5VVEMoZHQxLmdldEZ1bGxZZWFyKCksIGR0MS5nZXRNb250aCgpLCBkdDEuZ2V0RGF0ZSgpKSkgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpOwogICAgfSwKICAgIGdldGRhdGU6IGZ1bmN0aW9uIGdldGRhdGUoZGFkLCBhbW91bnQpIHsKICAgICAgdmFyIG5ld2RhdGUgPSBuZXcgRGF0ZShkYWQpOwogICAgICBuZXdkYXRlLnNldERhdGUobmV3ZGF0ZS5nZXREYXRlKCkgKyBhbW91bnQpOwogICAgICB2YXIgZGQgPSBuZXdkYXRlLmdldERhdGUoKTsKICAgICAgdmFyIG1tID0gbmV3ZGF0ZS5nZXRNb250aCgpICsgMTsKICAgICAgdmFyIHkgPSBuZXdkYXRlLmdldEZ1bGxZZWFyKCk7CiAgICAgIHZhciBzb21lRm9ybWF0dGVkRGF0ZSA9IHkgKyAnLScgKyBtbSArICctJyArIGRkOwogICAgICByZXR1cm4gc29tZUZvcm1hdHRlZERhdGU7CiAgICB9LAogICAgYWRkRGF5OiBmdW5jdGlvbiBhZGREYXkoZGF0ZSwgZGF5cykgewogICAgICB2YXIgY29weSA9IG5ldyBEYXRlKE51bWJlcihkYXRlKSk7CiAgICAgIGNvcHkuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIGRheXMpOwogICAgICByZXR1cm4gY29weTsKICAgIH0sCiAgICByZWFsUmVudGFsUHJpY2U6IGZ1bmN0aW9uIHJlYWxSZW50YWxQcmljZShyZW50YWxQcmljZSwgcmVudGFsRGlzY291bnQsIHByb21vdGlvbkRpc2NvdW50KSB7CiAgICAgIHZhciBycCA9IGlzTmFOKE51bWJlcihyZW50YWxQcmljZSkpID8gMCA6IE51bWJlcihyZW50YWxQcmljZSk7CiAgICAgIHZhciByZCA9IGlzTmFOKE51bWJlcihyZW50YWxEaXNjb3VudCkpID8gMCA6IE51bWJlcihyZW50YWxEaXNjb3VudCk7CiAgICAgIHZhciBwZCA9IGlzTmFOKE51bWJlcihwcm9tb3Rpb25EaXNjb3VudCkpID8gMCA6IE51bWJlcihwcm9tb3Rpb25EaXNjb3VudCk7CiAgICAgIHJldHVybiB0aGlzLmZvcm1hdFByaWNlKHJwIC0gcmQgLSBwZCk7CiAgICB9LAogICAgcmVhbEJhaWw6IGZ1bmN0aW9uIHJlYWxCYWlsKGJhaWxUb3RhbCwgYmFpbERpc2NvdW50KSB7CiAgICAgIHZhciBidCA9IGlzTmFOKE51bWJlcihiYWlsVG90YWwpKSA/IDAgOiBOdW1iZXIoYmFpbFRvdGFsKTsKICAgICAgdmFyIGJkID0gaXNOYU4oTnVtYmVyKGJhaWxEaXNjb3VudCkpID8gMCA6IE51bWJlcihiYWlsRGlzY291bnQpOwogICAgICByZXR1cm4gdGhpcy5mb3JtYXRQcmljZShidCAtIGJkKTsKICAgIH0sCiAgICByZWFsUmV0dXJuOiBmdW5jdGlvbiByZWFsUmV0dXJuKGJhaWxUb3RhbCwgYmFpbERpc2NvdW50LCBkZWR1Y3Rpb24pIHsKICAgICAgdmFyIGJ0ID0gaXNOYU4oTnVtYmVyKGJhaWxUb3RhbCkpID8gMCA6IE51bWJlcihiYWlsVG90YWwpOwogICAgICB2YXIgYmQgPSBpc05hTihOdW1iZXIoYmFpbERpc2NvdW50KSkgPyAwIDogTnVtYmVyKGJhaWxEaXNjb3VudCk7CiAgICAgIHZhciBkZCA9IGlzTmFOKE51bWJlcihkZWR1Y3Rpb24pKSA/IDAgOiBOdW1iZXIoZGVkdWN0aW9uKTsKICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0UHJpY2UoYnQgLSBiZCAtIGRkKTsKICAgIH0sCiAgICBnZXRQZXJtaXNzaW9uOiBmdW5jdGlvbiBnZXRQZXJtaXNzaW9uKCkgewogICAgICByZXR1cm4gc3RvcmUuc3RhdGUuYXV0aC5wZXJtaXNzaW9uOwogICAgfSwKICAgIGNoZWNrUGVybWlzc2lvblNoYXJlOiBmdW5jdGlvbiBjaGVja1Blcm1pc3Npb25TaGFyZShyb2xlcykgewogICAgICB2YXIgcG0gPSByb2xlcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4geC5yb2xlTmFtZSA9PT0gIm93bmVyIiB8fCB4LnJvbGVOYW1lID09PSAiYWRtaW4iIHx8IHgucm9sZU5hbWUgPT09ICJhY2NvdW50aW5nYWRtaW4iIHx8IHgucm9sZU5hbWUgPT09ICJ1c2VyYWRtaW4iOwogICAgICB9KTsKCiAgICAgIGlmIChwbS5sZW5ndGggPj0gMSkgewogICAgICAgIHJldHVybiAiYWRtaW4iOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAic3RhZmYiOwogICAgICB9CiAgICB9LAogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCh1cmwpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAvLyB0aGlzLiR2cy5sb2FkaW5nKHsKICAgICAgICAgICAgICAgIC8vICAgdHlwZTogInJhZGl1cyIKICAgICAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBudWxsOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldChzdG9yZS5zdGF0ZS5hcGlVUkwgKyB1cmwsIHN0b3JlLnN0YXRlLmF1dGguYXBpSGVhZGVyKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7Ly8gdGhpcy4kdnMubG9hZGluZy5jbG9zZSgpOwogICAgICAgICAgICAgICAgfSwgMTAwMCk7IC8vIC8vIHRoaXMubm90aWNlRXJyb3IoZXJyb3IpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBudWxsKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgey8vIHRoaXMuJHZzLmxvYWRpbmcuY2xvc2UoKTsKICAgICAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0My5zZW50KTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1sxLCA3XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRPbmU6IGZ1bmN0aW9uIGdldE9uZSh1cmwpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAvLyB0aGlzLiR2cy5sb2FkaW5nKHsKICAgICAgICAgICAgICAgIC8vICAgdHlwZTogInJhZGl1cyIKICAgICAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBudWxsOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldChzdG9yZS5zdGF0ZS5hcGlVUkwgKyB1cmwsIHN0b3JlLnN0YXRlLmF1dGguYXBpSGVhZGVyKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX2NvbnRleHQ0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7Ly8gdGhpcy4kdnMubG9hZGluZy5jbG9zZSgpOwogICAgICAgICAgICAgICAgfSwgMTAwMCk7IC8vIHRoaXMubm90aWNlRXJyb3IoZXJyb3IpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBudWxsKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgey8vIHRoaXMuJHZzLmxvYWRpbmcuY2xvc2UoKTsKICAgICAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0NC5zZW50KTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCwgbnVsbCwgW1sxLCA3XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGRhdGVTaGFyZTogZnVuY3Rpb24gdXBkYXRlU2hhcmUodXJsLCBpdGVtLCBpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kaHR0cC5wdXQoX3RoaXMyLiRzdG9yZS5zdGF0ZS5hcGlVUkwgKyB1cmwgKyAiLyIgKyBpZCwgaXRlbSwgc3RvcmUuc3RhdGUuYXV0aC5hcGlIZWFkZXIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDUucHJldiA9IDY7CiAgICAgICAgICAgICAgICBfY29udGV4dDUudDAgPSBfY29udGV4dDVbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsvLyB0aGlzLiR2cy5sb2FkaW5nLmNsb3NlKCk7CiAgICAgICAgICAgICAgICB9LCAzMDApOyAvLyB0aGlzLm5vdGljZUVycm9yKGVycm9yKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgbnVsbCk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLm5vdGljZVN1Y2Nlc3MoIuC4muC4seC4meC4l+C4tuC4geC4quC4s+C5gOC4o+C5h+C4iCIpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiR2cy5sb2FkaW5nLmNsb3NlKCk7CiAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0NS5zZW50KTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSwgbnVsbCwgW1swLCA2XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBwdXQ6IGZ1bmN0aW9uIHB1dCh1cmwsIGl0ZW0sIGlkKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucHV0KHN0b3JlLnN0YXRlLmFwaVVSTCArIHVybCArICIvIiArIGlkLCBpdGVtLCBfdGhpczMuJHN0b3JlLnN0YXRlLmF1dGguYXBpSGVhZGVyKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQ2LnByZXYgPSA2OwogICAgICAgICAgICAgICAgX2NvbnRleHQ2LnQwID0gX2NvbnRleHQ2WyJjYXRjaCJdKDApOwoKICAgICAgICAgICAgICAgIGlmICghX2NvbnRleHQ2LnQwLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDYudDAucmVzcG9uc2UpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIG51bGwpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0Ni5zZW50KTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNiwgbnVsbCwgW1swLCA2XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjcmVhdGVTaGFyZTogZnVuY3Rpb24gY3JlYXRlU2hhcmUodXJsLCBpdGVtKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczQuJHZzLmxvYWRpbmcoewogICAgICAgICAgICAgICAgICB0eXBlOiAicmFkaXVzIgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC4kaHR0cC5wb3N0KF90aGlzNC4kc3RvcmUuc3RhdGUuYXBpVVJMICsgdXJsLCBpdGVtLCBzdG9yZS5zdGF0ZS5hdXRoLmFwaUhlYWRlcik7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ3LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny50MCA9IF9jb250ZXh0N1siY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczQuJHZzLmxvYWRpbmcuY2xvc2UoKTsKICAgICAgICAgICAgICAgIH0sIDMwMCk7IC8vIHRoaXMubm90aWNlRXJyb3IoZXJyb3IpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KCJyZXR1cm4iLCBudWxsKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczQubm90aWNlU3VjY2Vzcygi4Lia4Lix4LiZ4LiX4Li24LiB4Liq4Liz4LmA4Lij4LmH4LiIIik7CgogICAgICAgICAgICAgICAgICBfdGhpczQuJHZzLmxvYWRpbmcuY2xvc2UoKTsKICAgICAgICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ3LnNlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3LCBudWxsLCBbWzEsIDddXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJlbWFpbmluZzogZnVuY3Rpb24gcmVtYWluaW5nKG1heFRleHQsIHRoZVRleHQpIHsKICAgICAgaWYgKHRoZVRleHQgPT09IHVuZGVmaW5lZCB8fCB0aGVUZXh0ID09PSBudWxsKSB0aGVUZXh0ID0gIiI7CiAgICAgIHRoaXMuYmxvY2tUZXh0ID0gdGhlVGV4dDsKICAgICAgdGhpcy5wcmV2aW91c1RleHQ7CiAgICAgIHZhciB0ID0gbWF4VGV4dCAtIHRoZVRleHQubGVuZ3RoOwogICAgICBpZiAodCA8PSAwKSByZXR1cm4gMDtlbHNlIHJldHVybiB0OwogICAgfSwKICAgIHBvc3Q6IGZ1bmN0aW9uIHBvc3QodXJsLCBpdGVtKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDgucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdChzdG9yZS5zdGF0ZS5hcGlVUkwgKyB1cmwsIGl0ZW0sIF90aGlzNS4kc3RvcmUuc3RhdGUuYXV0aC5hcGlIZWFkZXIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0OC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDgucHJldiA9IDY7CiAgICAgICAgICAgICAgICBfY29udGV4dDgudDAgPSBfY29udGV4dDhbImNhdGNoIl0oMCk7CgogICAgICAgICAgICAgICAgaWYgKCFfY29udGV4dDgudDAucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0OC50MC5yZXNwb25zZSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwgbnVsbCk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ4LnNlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4LCBudWxsLCBbWzAsIDZdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRBbGxXZWJPcmRlclNoYXJlOiBmdW5jdGlvbiBsb2FkQWxsV2ViT3JkZXJTaGFyZSgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gbnVsbDsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoc3RvcmUuc3RhdGUuYXBpVVJMICsgIi9hcGkvTmJzNHUwbTlwZWhYc2Uvd2Vib3JkZXIiLCBfdGhpczYuJHN0b3JlLnN0YXRlLmF1dGguYXBpSGVhZGVyKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDkuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQ5LnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQ5LnQwID0gX2NvbnRleHQ5WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoInJldHVybiIsIG51bGwpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0OS5zZW50KTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOSwgbnVsbCwgW1sxLCA3XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkQWxsT3JkZXJTaGFyZTogZnVuY3Rpb24gbG9hZEFsbE9yZGVyU2hhcmUoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gbnVsbDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldChzdG9yZS5zdGF0ZS5hcGlVUkwgKyAiL2FwaS9vcmRlcmhlYWRlciIsIF90aGlzNy4kc3RvcmUuc3RhdGUuYXV0aC5hcGlIZWFkZXIpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0MTAuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLnQwID0gX2NvbnRleHQxMFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLmFicnVwdCgicmV0dXJuIiwgbnVsbCk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDEwLnNlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTAsIG51bGwsIFtbMSwgN11dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZEFsbERldGFpbFNoYXJlOiBmdW5jdGlvbiBsb2FkQWxsRGV0YWlsU2hhcmUoKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDExLnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoc3RvcmUuc3RhdGUuYXBpVVJMICsgIi9hcGkvb3JkZXJkZXRhaWwiLCBzdG9yZS5zdGF0ZS5hdXRoLmFwaUhlYWRlcik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQxMS5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDExLnByZXYgPSA2OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMS50MCA9IF9jb250ZXh0MTFbImNhdGNoIl0oMCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MTEuc2VudCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSwgbnVsbCwgW1swLCA2XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkRGV0YWlsU2hhcmU6IGZ1bmN0aW9uIGxvYWREZXRhaWxTaGFyZShvcmRlcklkKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldChzdG9yZS5zdGF0ZS5hcGlVUkwgKyAiL2FwaS9vcmRlcmRldGFpbC8iICsgb3JkZXJJZCwgX3RoaXM4LiRzdG9yZS5zdGF0ZS5hdXRoLmFwaUhlYWRlcik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQxMi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLnByZXYgPSA2OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi50MCA9IF9jb250ZXh0MTJbImNhdGNoIl0oMCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MTIuc2VudCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMiwgbnVsbCwgW1swLCA2XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkQnJhbmNoU2hhcmU6IGZ1bmN0aW9uIGxvYWRCcmFuY2hTaGFyZShpZCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMygpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IG51bGw7CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoc3RvcmUuc3RhdGUuYXBpVVJMICsgIi9hcGkvYnJhbmNoLyIgKyBpZCwgX3RoaXM5LiRzdG9yZS5zdGF0ZS5hdXRoLmFwaUhlYWRlcik7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQxMy5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMudDAgPSBfY29udGV4dDEzWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuYWJydXB0KCJyZXR1cm4iLCBudWxsKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MTMuc2VudCk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMywgbnVsbCwgW1sxLCA3XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkQnJhbmNoT3JkZXJTaGFyZTogZnVuY3Rpb24gbG9hZEJyYW5jaE9yZGVyU2hhcmUoYnJhbmNoSWQpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTQucHJldiA9IF9jb250ZXh0MTQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldChzdG9yZS5zdGF0ZS5hcGlVUkwgKyAiL2FwaS9vcmRlcmhlYWRlci9icmFuY2gvIiArIGJyYW5jaElkLCBfdGhpczEwLiRzdG9yZS5zdGF0ZS5hdXRoLmFwaUhlYWRlcik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQxNC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDE0LnByZXYgPSA2OwogICAgICAgICAgICAgICAgX2NvbnRleHQxNC50MCA9IF9jb250ZXh0MTRbImNhdGNoIl0oMCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MTQuc2VudCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNCwgbnVsbCwgW1swLCA2XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkT3JkZXJCeUJyYW5jaFNoYXJlZDogZnVuY3Rpb24gbG9hZE9yZGVyQnlCcmFuY2hTaGFyZWQoYnJhbmNobGlzdCkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTUoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdChzdG9yZS5zdGF0ZS5hcGlVUkwgKyAiL2FwaS9vcmRlcmhlYWRlci9ieWJyYW5jaGVzIiwgYnJhbmNobGlzdCwgX3RoaXMxMS4kc3RvcmUuc3RhdGUuYXV0aC5hcGlIZWFkZXIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0MTUuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5wcmV2ID0gNjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUudDAgPSBfY29udGV4dDE1WyJjYXRjaCJdKDApOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDE1LnNlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTUsIG51bGwsIFtbMCwgNl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZE9yZGVyQnlCcmFuY2hPYmplY3RTaGFyZWQ6IGZ1bmN0aW9uIGxvYWRPcmRlckJ5QnJhbmNoT2JqZWN0U2hhcmVkKGFCcmFuY2gpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KCkgewogICAgICAgIHZhciByZXNwb25zZSwgYXJyOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgYXJyID0gW107IC8vIOC5geC4m+C4peC4h+C5gOC4m+C5h+C4mSBhcnJheSDguIHguYjguK3guJkKCiAgICAgICAgICAgICAgICBhcnIucHVzaChhQnJhbmNoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTYucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3Qoc3RvcmUuc3RhdGUuYXBpVVJMICsgIi9hcGkvb3JkZXJoZWFkZXIvYnlicmFuY2hlcyIsIGFyciwgX3RoaXMxMi4kc3RvcmUuc3RhdGUuYXV0aC5hcGlIZWFkZXIpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0MTYuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTYucHJldiA9IDg7CiAgICAgICAgICAgICAgICBfY29udGV4dDE2LnQwID0gX2NvbnRleHQxNlsiY2F0Y2giXSgyKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MTYuc2VudCk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNiwgbnVsbCwgW1syLCA4XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyAgIHZhbGlkYXRlRW1haWwoZW1haWwpIHsKICAgIC8vICAgICBjb25zdCByZSA9IC9eKChbXjw+KClcW1xdXFwuLDs6XHNAIl0rKFwuW148PigpXFtcXVxcLiw7OlxzQCJdKykqKXwoIi4rIikpQCgoXFtbMC05XXsxLDN9XC5bMC05XXsxLDN9XC5bMC05XXsxLDN9XC5bMC05XXsxLDN9XF0pfCgoW2EtekEtWlwtMC05XStcLikrW2EtekEtWl17Mix9KSkkLzsKICAgIC8vICAgICByZXR1cm4gcmUudGVzdChTdHJpbmcoZW1haWwpLnRvTG93ZXJDYXNlKCkpOwogICAgLy8gIH0sCiAgICBsb2FkQnJhbmNoT3JkZXJQaWNrdXBkYXRlU29ydFNoYXJlOiBmdW5jdGlvbiBsb2FkQnJhbmNoT3JkZXJQaWNrdXBkYXRlU29ydFNoYXJlKGJyYW5jaElkKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNygpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNyQoX2NvbnRleHQxNykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE3LnByZXYgPSBfY29udGV4dDE3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDE3LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoc3RvcmUuc3RhdGUuYXBpVVJMICsgIi9hcGkvb3JkZXJoZWFkZXIvYnJhbmNoL3BpY2t1cGRhdGUtc29ydC8iICsgYnJhbmNoSWQsIF90aGlzMTMuJHN0b3JlLnN0YXRlLmF1dGguYXBpSGVhZGVyKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDE3LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTcucHJldiA9IDY7CiAgICAgICAgICAgICAgICBfY29udGV4dDE3LnQwID0gX2NvbnRleHQxN1siY2F0Y2giXSgwKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQxNy5zZW50KTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE3LCBudWxsLCBbWzAsIDZdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldEJyYW5jaEJ5Q29kZTogZnVuY3Rpb24gZ2V0QnJhbmNoQnlDb2RlKGNvZGUpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE4KCkgewogICAgICAgIHZhciBiciwgYUJyYW5jaDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE4JChfY29udGV4dDE4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTgucHJldiA9IF9jb250ZXh0MTgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNC5sb2FkQWxsQnJhbmNoU2hhcmUoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgYnIgPSBfY29udGV4dDE4LnNlbnQ7CiAgICAgICAgICAgICAgICBhQnJhbmNoID0gbnVsbDsKCiAgICAgICAgICAgICAgICBpZiAoIShiciA9PT0gbnVsbCB8fCBiciA9PT0gdW5kZWZpbmVkIHx8IGJyLmxlbmd0aCA9PT0gMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gYnIuZmluZChmdW5jdGlvbiAoeCkgewogICAgICAgICAgICAgICAgICByZXR1cm4geC5jb2RlID09PSAiMCI7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgYUJyYW5jaCA9IF9jb250ZXh0MTguc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBici5maW5kKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB4LmNvZGUgPT09IGNvZGU7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIGFCcmFuY2ggPSBfY29udGV4dDE4LnNlbnQ7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5hYnJ1cHQoInJldHVybiIsIGFCcmFuY2gpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTgpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRCcmFuY2hTaGFyZTogZnVuY3Rpb24gZ2V0QnJhbmNoU2hhcmUoaWQpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE5KCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE5JChfY29udGV4dDE5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTkucHJldiA9IF9jb250ZXh0MTkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTkucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldChzdG9yZS5zdGF0ZS5hcGlVUkwgKyAiL2FwaS9icmFuY2gvIiArIGlkLCBfdGhpczE1LiRzdG9yZS5zdGF0ZS5hdXRoLmFwaUhlYWRlcik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQxOS5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQxOS5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDE5LnByZXYgPSA2OwogICAgICAgICAgICAgICAgX2NvbnRleHQxOS50MCA9IF9jb250ZXh0MTlbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOS5hYnJ1cHQoInJldHVybiIsIG51bGwpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTkuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDE5LnNlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTksIG51bGwsIFtbMCwgNl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0QWxsQnJhbmNoOiBmdW5jdGlvbiBnZXRBbGxCcmFuY2goKSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMCgpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMCQoX2NvbnRleHQyMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIwLnByZXYgPSBfY29udGV4dDIwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIwLnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoc3RvcmUuc3RhdGUuYXBpVVJMICsgIi9hcGkvYnJhbmNoIiwgX3RoaXMxNi4kc3RvcmUuc3RhdGUuYXV0aC5hcGlIZWFkZXIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0MjAuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjAucHJldiA9IDY7CiAgICAgICAgICAgICAgICBfY29udGV4dDIwLnQwID0gX2NvbnRleHQyMFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIC8vIHRoaXMubm90aWNlRXJyb3IoZXJyb3IpOwogICAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgdGl0bGU6ICfguKHguLXguKLguLLguIfguK3guKLguYjguLLguIfguJzguLTguJTguJ7guKXguLLguJQnIC8vIHRleHQ6ICdTb21ldGhpbmcgd2VudCB3cm9uZyEnLAoKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjAuYWJydXB0KCJyZXR1cm4iLCBudWxsKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MjAuc2VudCk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMCwgbnVsbCwgW1swLCA2XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRJbWFnZXBhdGg6IGZ1bmN0aW9uIGdldEltYWdlcGF0aChtYWluSW1hZ2UpIHsKICAgICAgaWYgKG1haW5JbWFnZSA9PT0gdW5kZWZpbmVkIHx8IG1haW5JbWFnZSA9PT0gbnVsbCB8fCBtYWluSW1hZ2UgPT09ICIiIHx8IG1haW5JbWFnZSA9PT0gdGhpcy4kc3RvcmUuc3RhdGUuaW1hZ2VTdG9yZSkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5kZWZhdWx0SW1hZ2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKG1haW5JbWFnZS5zdGFydHNXaXRoKCJodHRwczovLyIpKSByZXR1cm4gbWFpbkltYWdlO2Vsc2UgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmltYWdlU3RvcmUgKyBtYWluSW1hZ2U7CiAgICAgIH0KICAgIH0sCiAgICBnZXRGdWxsUGF0aDogZnVuY3Rpb24gZ2V0RnVsbFBhdGgobWFpbkltYWdlKSB7CiAgICAgIGlmIChtYWluSW1hZ2UgPT09IHVuZGVmaW5lZCB8fCBtYWluSW1hZ2UgPT09IG51bGwgfHwgbWFpbkltYWdlID09PSAiIikgewogICAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS5pbWFnZVN0b3JlICsgImRlZmF1bHRpbWFnZS5wbmciOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS5pbWFnZVN0b3JlICsgbWFpbkltYWdlOwogICAgICB9CiAgICB9LAogICAgYmFzZUltYWdlUGF0aDogZnVuY3Rpb24gYmFzZUltYWdlUGF0aChtYWluSW1hZ2UpIHsKICAgICAgaWYgKG1haW5JbWFnZSA9PT0gdW5kZWZpbmVkIHx8IG1haW5JbWFnZSA9PT0gbnVsbCB8fCBtYWluSW1hZ2UgPT09ICIiKSB7CiAgICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLmltYWdlU3RvcmUgKyAiZGVmYXVsdGltYWdlLnBuZyI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLmJhc2VJbWFnZVN0b3JlICsgbWFpbkltYWdlOwogICAgICB9CiAgICB9LAogICAgZ2V0V2ViUGF0aDogZnVuY3Rpb24gZ2V0V2ViUGF0aChtYWluSW1hZ2UpIHsKICAgICAgaWYgKG1haW5JbWFnZSA9PT0gdW5kZWZpbmVkIHx8IG1haW5JbWFnZSA9PT0gbnVsbCB8fCBtYWluSW1hZ2UgPT09ICIiKSB7CiAgICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLmltYWdlU3RvcmUgKyAiZGVmYXVsdGltYWdlLnBuZyI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLndlYkltYWdlICsgbWFpbkltYWdlOwogICAgICB9CiAgICB9LAogICAgbG9hZEFsbEJyYW5jaFNoYXJlOiBmdW5jdGlvbiBsb2FkQWxsQnJhbmNoU2hhcmUoKSB7CiAgICAgIHZhciBfdGhpczE3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMSQoX2NvbnRleHQyMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIxLnByZXYgPSBfY29udGV4dDIxLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIxLnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoc3RvcmUuc3RhdGUuYXBpVVJMICsgIi9hcGkvYnJhbmNoIiwgX3RoaXMxNy4kc3RvcmUuc3RhdGUuYXV0aC5hcGlIZWFkZXIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0MjEuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQyMS5wcmV2ID0gNjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjEudDAgPSBfY29udGV4dDIxWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuYWJydXB0KCJyZXR1cm4iLCBudWxsKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIxLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQyMS5zZW50KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIxLCBudWxsLCBbWzAsIDZdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vKioqIDIwMjEtMDMtMDkgOiBCRUdJTiBGb3IgQUJCIFJFQ0VJUFQKICAgIGNhbGN1bGF0ZVNjb3JlRm9yQWJiUmVjZWlwdDogZnVuY3Rpb24gY2FsY3VsYXRlU2NvcmVGb3JBYmJSZWNlaXB0KHNob3BMaW5lU2NvcmUsIHJlY29yZFNjb3JlKSB7CiAgICAgIC8vICAg4LiE4Liz4Lit4LiY4Li04Lia4Liy4LiiIDMg4Lia4Lij4Lij4LiX4Lix4LiUIOC4leC4teC5gOC4m+C5h+C4mSAxIHJlY29yZAogICAgICAvLyAgIOC5gOC4ieC4peC4tOC4teC5iOC4ouC4iOC4sOC4oeC4tSA2IOC4muC4o+C4o+C4l+C4seC4lCDguKvguKPguLfguK0gMiByZWNvcmQg4Liq4Liz4Lir4Lij4Lix4LiaIOC4guC5ieC4reC4leC4geC4peC4h+C4geC4suC4o+C5gOC4iuC5iOC4suC4iuC4uOC4lAogICAgICAvLyAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgLy8gMSBSZWNvcmQg4LiE4Lin4Liy4Lih4Liq4Li54LiHIDY0cHgg4Lir4Lij4Li34Lit4Lib4Lij4Liw4Lih4Liy4LiTIDE2LjkzMzMzCiAgICAgIC8vIDEgcHggfiAwLjI2NDU4MzMzMzMgbW0KICAgICAgLy8gMSBSZWNvcmRzIOC4m+C4o+C4sOC4oeC4suC4kyAxNi45MzMzMzMzMzEyIG1tCiAgICAgIC8vIDUgUmVjb3JkcyDguJvguKPguLDguKHguLLguJMgODUgbW0KICAgICAgLy8gIDEuIHVwIHRvIDMgcmVjb3JkcyAoMSByZWNvcmQgKyA2IGxpbmVzKSAzMDBtbSAvIDMxMG1tIChodG1sIC8gcGFnZXNpemUpCiAgICAgIC8vICAyLiB1cCB0byA0IC0gNSByZWNvcmRzICgyIHJlY29yZHMgKyAzIHJlY29yZHMpICAzMjBtbSAvIDMzMG1tIChodG1sIC8gcGFnZXNpemUpCiAgICAgIC8vICAzLiB1cCB0byA2IC0gNyByZWNvcmRzICgyIHJlY29yZHMgKyA1IHJlY29yZHMpICAzNTBtbSAvIDM2MG1tICAoaHRtbCAvIHBhZ2VzaXplKQogICAgICAvLyAgNC4gdXAgdG8gOCAtIDEyIHJlY29yZHMgIDQ1MG1tIC8gNDYwbW0gKGh0bWwgLyBwYWdlc2l6ZSkKICAgICAgLy8gIDUuIHVwIHRvIDEzIC0gMTcgcmVjb3JkcyAgNTUwbW0gLyA1NjBtbSAoaHRtbCAvIHBhZ2VzaXplKQogICAgICAvLyAgNi4gdXAgdG8gMTggLSAyMiByZWNvcmRzICA2NTBtbSAvIDY2MG1tIChodG1sIC8gcGFnZXNpemUpCiAgICAgIC8vICA3LiB1cCB0byAyMyAtIDI3IHJlY29yZHMgIDc1MG1tIC8gNzYwbW0gKGh0bWwgLyBwYWdlc2l6ZSkKICAgICAgdmFyIHRvdGFsID0gc2hvcExpbmVTY29yZSArIHJlY29yZFNjb3JlOwogICAgICBjb25zb2xlLmxvZygndG90YWwgc2NvcmUgPj4+ICcsIHRvdGFsKTsKCiAgICAgIGlmICh0b3RhbCA8PSAzKSB7CiAgICAgICAgcmV0dXJuIDE7CiAgICAgIH0gZWxzZSBpZiAodG90YWwgPj0gNCAmJiB0b3RhbCA8PSA1KSB7CiAgICAgICAgcmV0dXJuIDI7CiAgICAgIH0gZWxzZSBpZiAodG90YWwgPj0gNiAmJiB0b3RhbCA8PSA4KSB7CiAgICAgICAgcmV0dXJuIDM7CiAgICAgIH0gZWxzZSBpZiAodG90YWwgPj0gOSAmJiB0b3RhbCA8PSAxMikgewogICAgICAgIHJldHVybiA0OwogICAgICB9IGVsc2UgaWYgKHRvdGFsID49IDEzICYmIHRvdGFsIDw9IDE3KSB7CiAgICAgICAgcmV0dXJuIDU7CiAgICAgIH0gZWxzZSBpZiAodG90YWwgPj0gMTQgJiYgdG90YWwgPD0gMjIpIHsKICAgICAgICByZXR1cm4gNjsKICAgICAgfSBlbHNlIGlmICh0b3RhbCA+PSAyMyAmJiB0b3RhbCA8PSAyNykgewogICAgICAgIHJldHVybiA3OwogICAgICB9IC8vIGlmICh0b3RhbCA8PSAzKSB7CiAgICAgIC8vICAgcmV0dXJuIDE7CiAgICAgIC8vIH0gZWxzZSBpZiAodG90YWwgPj0gNCAmJiB0b3RhbCA8PSA1KSB7CiAgICAgIC8vICAgcmV0dXJuIDIKICAgICAgLy8gfSBlbHNlIGlmICh0b3RhbCA+PSA2ICYmIHRvdGFsIDw9IDcpIHsKICAgICAgLy8gICByZXR1cm4gMwogICAgICAvLyB9IGVsc2UgaWYgKHRvdGFsID49IDggJiYgdG90YWwgPD0gMTIpIHsKICAgICAgLy8gICByZXR1cm4gNAogICAgICAvLyB9IGVsc2UgaWYgKHRvdGFsID49IDEzICYmIHRvdGFsIDw9IDE3KSB7CiAgICAgIC8vICAgcmV0dXJuIDUKICAgICAgLy8gfSBlbHNlIGlmICh0b3RhbCA+PSAxOCAmJiB0b3RhbCA8PSAyMikgewogICAgICAvLyAgIHJldHVybiA2CiAgICAgIC8vIH0gZWxzZSBpZiAodG90YWwgPj0gMjMgJiYgdG90YWwgPD0gMjcpIHsKICAgICAgLy8gICByZXR1cm4gNwogICAgICAvLyB9CgogICAgfSwKICAgIC8vKioqIDIwMjEtMDMtMDkgOiBFTkQgRm9yIEFCQiBSRUNFSVBUCiAgICBnZXRTaG9wSW5mbzogZnVuY3Rpb24gZ2V0U2hvcEluZm8oKSB7CiAgICAgIHZhciBfdGhpczE4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMigpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMiQoX2NvbnRleHQyMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIyLnByZXYgPSBfY29udGV4dDIyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIyLnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoc3RvcmUuc3RhdGUuYXBpVVJMICsgIi9hcGkvc2hvcGluZm8iLCBfdGhpczE4LiRzdG9yZS5zdGF0ZS5hdXRoLmFwaUhlYWRlcik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyMi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQyMi5wcmV2ID0gNjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjIudDAgPSBfY29udGV4dDIyWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgLy8gdGhpcy5ub3RpY2VFcnJvcihlcnJvcik7CiAgICAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLAogICAgICAgICAgICAgICAgICB0aXRsZTogJ+C4oeC4teC4ouC4suC4h+C4reC4ouC5iOC4suC4h+C4nOC4tOC4lOC4nuC4peC4suC4lCcgLy8gdGV4dDogJ1NvbWV0aGluZyB3ZW50IHdyb25nIScsCgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMi5hYnJ1cHQoInJldHVybiIsIG51bGwpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIyLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQyMi5zZW50KTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIyLCBudWxsLCBbWzAsIDZdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9uQ29weTogZnVuY3Rpb24gb25Db3B5KCkgewogICAgICB0aGlzLiR2cy5ub3RpZnkoewogICAgICAgIHRpdGxlOiAnU3VjY2VzcycsCiAgICAgICAgdGV4dDogJ1RleHQgY29waWVkIHN1Y2Nlc3NmdWxseScsCiAgICAgICAgY29sb3I6ICdzdWNjZXNzJywKICAgICAgICBpY29uUGFjazogJ2ZlYXRoZXInLAogICAgICAgIHBvc2l0aW9uOiAndG9wLWNlbnRlcicsCiAgICAgICAgaWNvbjogJ2ljb24tY2hlY2stY2lyY2xlJwogICAgICB9KTsKICAgIH0sCiAgICBvbkVycm9yOiBmdW5jdGlvbiBvbkVycm9yKCkgewogICAgICB0aGlzLiR2cy5ub3RpZnkoewogICAgICAgIHRpdGxlOiAnRmFpbGVkJywKICAgICAgICB0ZXh0OiAnRXJyb3IgaW4gY29weWluZyB0ZXh0JywKICAgICAgICBjb2xvcjogJ2RhbmdlcicsCiAgICAgICAgaWNvblBhY2s6ICdmZWF0aGVyJywKICAgICAgICBwb3NpdGlvbjogJ3RvcC1jZW50ZXInLAogICAgICAgIGljb246ICdpY29uLWFsZXJ0LWNpcmNsZScKICAgICAgfSk7CiAgICB9LAogICAgbm90aWNlU3VjY2VzczogZnVuY3Rpb24gbm90aWNlU3VjY2Vzcyh0ZXh0KSB7CiAgICAgIHRoaXMuJHZzLm5vdGlmeSh7CiAgICAgICAgdGl0bGU6ICLguJTguLPguYDguJnguLTguJnguIHguLLguKPguKrguLPguYDguKPguYfguIgiLAogICAgICAgIHBvc2l0aW9uOiAidG9wLWNlbnRlciIsCiAgICAgICAgdGV4dDogdGV4dCwKICAgICAgICBpY29uUGFjazogImZlYXRoZXIiLAogICAgICAgIGljb246ICJpY29uLWFsZXJ0LWNpcmNsZSIsCiAgICAgICAgY29sb3I6ICJzdWNjZXNzIgogICAgICB9KTsKICAgIH0sCiAgICBub3RpY2VFcnJvcjogZnVuY3Rpb24gbm90aWNlRXJyb3IodGV4dCkgewogICAgICB0aGlzLiR2cy5ub3RpZnkoewogICAgICAgIHRpdGxlOiAi4LmA4LiB4Li04LiU4LiC4LmJ4Lit4Lic4Li04LiU4Lie4Lil4Liy4LiUIiwKICAgICAgICBwb3NpdGlvbjogInRvcC1jZW50ZXIiLAogICAgICAgIHRleHQ6IHRleHQsCiAgICAgICAgaWNvblBhY2s6ICJmZWF0aGVyIiwKICAgICAgICBpY29uOiAiaWNvbi1hbGVydC1jaXJjbGUiLAogICAgICAgIGNvbG9yOiAiZGFuZ2VyIgogICAgICB9KTsKICAgIH0sCiAgICBub3RpY2VXYXJuaW5nOiBmdW5jdGlvbiBub3RpY2VXYXJuaW5nKHRpdGxlLCB0ZXh0KSB7CiAgICAgIHRoaXMuJHZzLm5vdGlmeSh7CiAgICAgICAgdGl0bGU6IHRpdGxlLAogICAgICAgIHBvc2l0aW9uOiAidG9wLWNlbnRlciIsCiAgICAgICAgdGV4dDogdGV4dCwKICAgICAgICBpY29uUGFjazogImZlYXRoZXIiLAogICAgICAgIGljb246ICJpY29uLWFsZXJ0LWNpcmNsZSIsCiAgICAgICAgY29sb3I6ICJ3YXJuaW5nIgogICAgICB9KTsKICAgIH0sCiAgICBub3RpY2VJbmZvOiBmdW5jdGlvbiBub3RpY2VJbmZvKHRleHQpIHsKICAgICAgdGhpcy4kdnMubm90aWZ5KHsKICAgICAgICB0aXRsZTogIuC5gOC4geC4tOC4lOC4guC5ieC4reC4nOC4tOC4lOC4nuC4peC4suC4lCIsCiAgICAgICAgcG9zaXRpb246ICJ0b3AtY2VudGVyIiwKICAgICAgICB0ZXh0OiB0ZXh0LAogICAgICAgIGljb25QYWNrOiAiZmVhdGhlciIsCiAgICAgICAgaWNvbjogImljb24tYWxlcnQtY2lyY2xlIiwKICAgICAgICBjb2xvcjogImluZm8iCiAgICAgIH0pOwogICAgfSwKICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSkgewogICAgICB2YXIgZCA9IG5ldyBEYXRlKGRhdGUpLAogICAgICAgICAgbW9udGggPSAnJyArIChkLmdldE1vbnRoKCkgKyAxKSwKICAgICAgICAgIGRheSA9ICcnICsgZC5nZXREYXRlKCksCiAgICAgICAgICB5ZWFyID0gZC5nZXRGdWxsWWVhcigpOwogICAgICBpZiAobW9udGgubGVuZ3RoIDwgMikgbW9udGggPSAnMCcgKyBtb250aDsKICAgICAgaWYgKGRheS5sZW5ndGggPCAyKSBkYXkgPSAnMCcgKyBkYXk7CiAgICAgIHJldHVybiBbeWVhciwgbW9udGgsIGRheV0uam9pbignLScpOwogICAgfSwKICAgIGZvcm1hdF9kZG1teXl5OiBmdW5jdGlvbiBmb3JtYXRfZGRtbXl5eShkYXRlKSB7CiAgICAgIHZhciBkID0gbmV3IERhdGUoZGF0ZSksCiAgICAgICAgICBtb250aCA9ICcnICsgKGQuZ2V0TW9udGgoKSArIDEpLAogICAgICAgICAgZGF5ID0gJycgKyBkLmdldERhdGUoKSwKICAgICAgICAgIHllYXIgPSBkLmdldEZ1bGxZZWFyKCk7CiAgICAgIGlmIChtb250aC5sZW5ndGggPCAyKSBtb250aCA9ICcwJyArIG1vbnRoOwogICAgICBpZiAoZGF5Lmxlbmd0aCA8IDIpIGRheSA9ICcwJyArIGRheTsKICAgICAgcmV0dXJuIFtkYXksIG1vbnRoLCB5ZWFyXS5qb2luKCcvJyk7CiAgICB9LAogICAgZm9ybWF0QWxwaGFiZXQ6IGZ1bmN0aW9uIGZvcm1hdEFscGhhYmV0KGRhdGUpIHsKICAgICAgdmFyIGQgPSBuZXcgRGF0ZShkYXRlKSwKICAgICAgICAgIG1vbnRoX2luZCA9IGQuZ2V0TW9udGgoKSwKICAgICAgICAgIGRheSA9IGQuZ2V0RGF0ZSgpLAogICAgICAgICAgeWVhciA9IGQuZ2V0RnVsbFllYXIoKTsKICAgICAgdmFyIG1vbnRoX2FyciA9IFsiSmFuIiwgIkZlYiIsICJNYXIiLCAiQXByIiwgIk1heSIsICJKdW4iLCAiSnVsIiwgIkF1ZyIsICJTZXB0IiwgIk9jdCIsICJOb3YiLCAiRGVjIl07CiAgICAgIHZhciBtb250aF9zdHIgPSBtb250aF9hcnJbbW9udGhfaW5kXTsgLy8gaWYgKG1vbnRoLmxlbmd0aCA8IDIpIG1vbnRoID0gJzAnICsgbW9udGg7CiAgICAgIC8vIGlmIChkYXkubGVuZ3RoIDwgMikgZGF5ID0gJzAnICsgZGF5OwoKICAgICAgcmV0dXJuIFtkYXksIG1vbnRoX3N0ciwgeWVhcl0uam9pbignICcpOwogICAgfSwKICAgIGZvcm1hdFRoYWk6IGZ1bmN0aW9uIGZvcm1hdFRoYWkoZGF0ZSkgewogICAgICB2YXIgZCA9IG5ldyBEYXRlKGRhdGUpLAogICAgICAgICAgbW9udGhfaW5kID0gZC5nZXRNb250aCgpLAogICAgICAgICAgZGF5ID0gZC5nZXREYXRlKCksCiAgICAgICAgICB5ZWFyID0gZC5nZXRGdWxsWWVhcigpOwogICAgICB2YXIgbW9udGhfYXJyID0gWyLguKHguIHguKPguLLguITguKEiLCAi4LiB4Li44Lih4Lig4Liy4Lie4Lix4LiZ4LiY4LmMIiwgIuC4oeC4teC4meC4suC4hOC4oSIsICLguYDguKHguKnguLLguKLguJkiLCAi4Lie4Lik4Lip4Lig4Liy4LiE4LihIiwgIuC4oeC4tOC4luC4uOC4meC4suC4ouC4mSIsICLguIHguKPguIHguI7guLLguITguKEiLCAi4Liq4Li04LiH4Lir4Liy4LiE4LihIiwgIuC4geC4seC4meC4ouC4suC4ouC4mSIsICLguJXguLjguKXguLLguITguKEiLCAi4Lie4Lik4Lio4LiI4Li04LiB4Liy4Lii4LiZIiwgIuC4mOC4seC4meC4p+C4suC4hOC4oSJdOwogICAgICB2YXIgbW9udGhfc3RyID0gbW9udGhfYXJyW21vbnRoX2luZF07IC8vIGlmIChtb250aC5sZW5ndGggPCAyKSBtb250aCA9ICcwJyArIG1vbnRoOwogICAgICAvLyBpZiAoZGF5Lmxlbmd0aCA8IDIpIGRheSA9ICcwJyArIGRheTsKCiAgICAgIHJldHVybiBbZGF5LCBtb250aF9zdHIsIHllYXJdLmpvaW4oJyAnKTsKICAgIH0sCiAgICBmb3JtYXRBTVBNOiBmdW5jdGlvbiBmb3JtYXRBTVBNKGRhdGVfc3RyKSB7CiAgICAgIGlmICh0eXBlb2YgZGF0ZV9zdHIgPT09ICJzdHJpbmciKSB7CiAgICAgICAgdmFyIHNwbCA9IGRhdGVfc3RyLnNwbGl0KCcgJyk7CgogICAgICAgIGlmIChzcGwubGVuZ3RoIDwgMikgewogICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShkYXRlX3N0cik7CiAgICAgIHZhciBob3VycyA9IGRhdGUuZ2V0SG91cnMoKTsKICAgICAgY29uc29sZS5sb2coIkFNUE0gaW4gaG91cnMgPj4+PiAiLCBfdHlwZW9mKGRhdGUpKTsKICAgICAgdmFyIG1pbnV0ZXMgPSBkYXRlLmdldE1pbnV0ZXMoKTsKICAgICAgdmFyIGFtcG0gPSBob3VycyA+PSAxMiA/ICdwbScgOiAnYW0nOwogICAgICBob3VycyA9IGhvdXJzICUgMTI7CiAgICAgIGhvdXJzID0gaG91cnMgPyBob3VycyA6IDEyOyAvLyB0aGUgaG91ciAnMCcgc2hvdWxkIGJlICcxMicKCiAgICAgIG1pbnV0ZXMgPSBtaW51dGVzIDwgMTAgPyAnMCcgKyBtaW51dGVzIDogbWludXRlczsKICAgICAgdmFyIHN0clRpbWUgPSBob3VycyArICc6JyArIG1pbnV0ZXMgKyAnICcgKyBhbXBtOwogICAgICByZXR1cm4gc3RyVGltZTsKICAgIH0sCiAgICBmb3JtYXREYXRlTG9jYWw6IGZ1bmN0aW9uIGZvcm1hdERhdGVMb2NhbChkYXRlKSB7CiAgICAgIHJldHVybiB0aGlzLmZvcm1hdERhdGUoZGF0ZSkgKyAiVDAwOjAwOjAwLjAwMFoiOwogICAgfSwKICAgIGZvcm1hdFByaWNlOiBmdW5jdGlvbiBmb3JtYXRQcmljZSh2YWx1ZSkgewogICAgICAvLyB2YXIgbnVtYmVyID0gK3ZhbHVlLnJlcGxhY2UoL1teXGQuXS9nLCAiIik7CiAgICAgIHZhbHVlID0gdGhpcy5jb252ZXJ0VG9OdW0odmFsdWUpOwogICAgICB2YXIgYW1vdW50ID0gaXNOYU4odmFsdWUpID8gMCA6IHZhbHVlOwogICAgICByZXR1cm4gYW1vdW50LnRvU3RyaW5nKCkucmVwbGFjZSgvKFxkKSg/PShcZHszfSkrKD8hXGQpKS9nLCAiJDEsIik7CiAgICB9LAogICAgZm9ybWF0UHJpY2UyUG9pbnQ6IGZ1bmN0aW9uIGZvcm1hdFByaWNlMlBvaW50KHZhbHVlKSB7CiAgICAgIHZhciB2YWwgPSAodmFsdWUgLyAxKS50b0ZpeGVkKDIpLnJlcGxhY2UoIiwiLCAiLiIpOwogICAgICByZXR1cm4gdmFsLnRvU3RyaW5nKCkucmVwbGFjZSgvXEIoPz0oXGR7M30pKyg/IVxkKSkvZywgIiwiKTsKICAgIH0sCiAgICBjb252ZXJ0VG9OdW06IGZ1bmN0aW9uIGNvbnZlcnRUb051bSh2YWx1ZSkgewogICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykgewogICAgICAgIHZhbHVlID0gTnVtYmVyKHZhbHVlLnJlcGxhY2UoIiwiLCAiIikpOwogICAgICB9CgogICAgICBpZiAoaXNOYU4odmFsdWUpKSB7CiAgICAgICAgdmFsdWUgPSAwOwogICAgICB9CgogICAgICByZXR1cm4gdmFsdWU7CiAgICB9LAogICAgbnVtYmVyRm9ybWF0OiBmdW5jdGlvbiBudW1iZXJGb3JtYXQodmFsdWUpIHsKICAgICAgaWYgKGlzTmFOKE51bWJlcih2YWx1ZSkpKSByZXR1cm4gMDsKICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZSk7CiAgICB9LAogICAgZm9ybWF0TnVtYmVyOiBmdW5jdGlvbiBmb3JtYXROdW1iZXIodmFsdWUpIHsKICAgICAgaWYgKGlzTmFOKE51bWJlcih2YWx1ZSkpKSByZXR1cm4gMDsKICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZSk7CiAgICB9LAogICAgLy8gUmV0dXJucyBpZiB2YWx1ZSBpcyBhIGRhdGUgb2JqZWN0CiAgICBpc0RhdGU6IGZ1bmN0aW9uIGlzRGF0ZSh2YWx1ZSkgewogICAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBEYXRlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/belliecee/Documents/00_Bisinnoco/metronic-responsive-admin-dashboard-template/metronic_v7.2.9/theme/vue/demo5/src/mixins/shapeFormat.js"],"names":["axios","store","Swal","watch","data","theHeader","computed","taxInfo","getters","created","dispatch","methods","rentalPriceTotal_final","rentalPrice","rentalDiscount","vatSystem","inVat","isRentalDiscount","rentalPriceTotal1","rentalPriceTotal2","rentalPriceTotal3","rentalPriceTotal4","vat_final","vat1","vat2","vat3","vat4","beforeVat_final","beforeVat1","beforeVat2","beforeVat3","beforeVat4","taxRate","discount","undefined","getShopLineScore","shopInfo","lineNumber","spCount","sptStr","weight","termAndCondition","split","length","Math","ceil","checkQueueShare","list","res","post","state","apiURL","$store","auth","apiHeader","generateRandom","result","characters","charactersLength","i","charAt","floor","random","numRange","num","arr","push","filteringMore","filtering","filedName","templist","j","automapper","keys","newlist","item","hasOwnProperty","it","Object","assign","convertToArray","prop","cloneArray","original","searchByDate","startDate","endDate","console","log","formatDate","listdate","ckin","ckout","descendingSortShare","inputList","sortingField","sort","a","b","descendingDateSortShare","Date","ascendingSortShare","ascendingDateSortShare","date_diff_indays","date1","date2","dt1","dt2","UTC","getFullYear","getMonth","getDate","getdate","dad","amount","newdate","setDate","dd","mm","y","someFormattedDate","addDay","date","days","copy","Number","realRentalPrice","promotionDiscount","rp","isNaN","rd","pd","formatPrice","realBail","bailTotal","bailDiscount","bt","bd","realReturn","deduction","getPermission","permission","checkPermissionShare","roles","pm","filter","x","roleName","getList","url","response","get","setTimeout","getOne","updateShare","id","$http","put","noticeSuccess","$vs","loading","close","createShare","type","remaining","maxText","theText","blockText","previousText","t","loadAllWebOrderShare","loadAllOrderShare","loadAllDetailShare","loadDetailShare","orderId","loadBranchShare","loadBranchOrderShare","branchId","loadOrderByBranchShared","branchlist","loadOrderByBranchObjectShared","aBranch","loadBranchOrderPickupdateSortShare","getBranchByCode","code","loadAllBranchShare","br","find","getBranchShare","getAllBranch","fire","icon","title","getImagepath","mainImage","imageStore","defaultImage","startsWith","getFullPath","baseImagePath","baseImageStore","getWebPath","webImage","calculateScoreForAbbReceipt","shopLineScore","recordScore","total","getShopInfo","onCopy","notify","text","color","iconPack","position","onError","noticeError","noticeWarning","noticeInfo","d","month","day","year","join","format_ddmmyyy","formatAlphabet","month_ind","month_arr","month_str","formatThai","formatAMPM","date_str","spl","hours","getHours","minutes","getMinutes","ampm","strTime","formatDateLocal","value","convertToNum","toString","replace","formatPrice2Point","val","toFixed","numberFormat","formatNumber","isDate"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AAEA,eAAe;AACbC,EAAAA,KAAK,EAAE,EADM;AAIbC,EAAAA,IAJa,kBAIN;AACL,WAAO;AACLC,MAAAA,SAAS,EAAE;AADN,KAAP;AAGD,GARY;AASbC,EAAAA,QAAQ,EAAE;AACZ;AACIC,IAAAA,OAFQ,qBAEC;AACP,aAAON,KAAK,CAACO,OAAN,CAAc,UAAd,CAAP;AACD;AAJO,GATG;AAePC,EAAAA,OAfO,qBAeG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACPR,KAAK,CAACS,QAAN,CAAe,YAAf,CADO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASf,GAxBY;AAyBbC,EAAAA,OAAO,EAAE;AACP;AACA;AAEA;AAEAC,IAAAA,sBANO,kCAMgBC,WANhB,EAM6BC,cAN7B,EAM4C;AACjD;AACA,UAAG,KAAKP,OAAL,CAAaQ,SAAb,KAAyB,IAAzB,IAAiC,KAAKR,OAAL,CAAaS,KAAb,KAAqB,IAAtD,IAA8D,KAAKC,gBAAL,CAAsBH,cAAtB,MAA0C,KAA3G,EACE,OAAO,KAAKI,iBAAL,CAAuBL,WAAvB,CAAP,CAH+C,CAIjD;;AACA,UAAG,KAAKN,OAAL,CAAaQ,SAAb,KAAyB,IAAzB,IAAiC,KAAKR,OAAL,CAAaS,KAAb,KAAqB,KAAtD,IAA+D,KAAKC,gBAAL,CAAsBH,cAAtB,MAA0C,KAA5G,EACE,OAAO,KAAKK,iBAAL,CAAuBN,WAAvB,CAAP,CAN+C,CAOjD;;AACA,UAAG,KAAKN,OAAL,CAAaQ,SAAb,KAAyB,IAAzB,IAAiC,KAAKR,OAAL,CAAaS,KAAb,KAAqB,IAAtD,IAA8D,KAAKC,gBAAL,CAAsBH,cAAtB,MAA0C,IAA3G,EACE,OAAO,KAAKM,iBAAL,CAAuBP,WAAvB,EAAoCC,cAApC,CAAP,CAT+C,CAUjD;;AACA,UAAG,KAAKP,OAAL,CAAaQ,SAAb,KAAyB,IAAzB,IAAiC,KAAKR,OAAL,CAAaS,KAAb,KAAqB,KAAtD,IAA+D,KAAKC,gBAAL,CAAsBH,cAAtB,MAA0C,IAA5G,EACE,OAAO,KAAKO,iBAAL,CAAuBR,WAAvB,EAAoCC,cAApC,CAAP;AACH,KAnBM;AAoBPQ,IAAAA,SApBO,qBAoBGT,WApBH,EAoBgBC,cApBhB,EAoB+B;AACpC;AACA,UAAG,KAAKP,OAAL,CAAaQ,SAAb,KAAyB,IAAzB,IAAiC,KAAKR,OAAL,CAAaS,KAAb,KAAqB,IAAtD,IAA8D,KAAKC,gBAAL,CAAsBH,cAAtB,MAA0C,KAA3G,EACE,OAAO,KAAKS,IAAL,CAAUV,WAAV,CAAP,CAHkC,CAIpC;;AACA,UAAG,KAAKN,OAAL,CAAaQ,SAAb,KAAyB,IAAzB,IAAiC,KAAKR,OAAL,CAAaS,KAAb,KAAqB,KAAtD,IAA+D,KAAKC,gBAAL,CAAsBH,cAAtB,MAA0C,KAA5G,EACE,OAAO,KAAKU,IAAL,CAAUX,WAAV,CAAP,CANkC,CAOpC;;AACA,UAAG,KAAKN,OAAL,CAAaQ,SAAb,KAAyB,IAAzB,IAAiC,KAAKR,OAAL,CAAaS,KAAb,KAAqB,IAAtD,IAA8D,KAAKC,gBAAL,CAAsBH,cAAtB,MAA0C,IAA3G,EACE,OAAO,KAAKW,IAAL,CAAUZ,WAAV,EAAuBC,cAAvB,CAAP,CATkC,CAUpC;;AACA,UAAG,KAAKP,OAAL,CAAaQ,SAAb,KAAyB,IAAzB,IAAiC,KAAKR,OAAL,CAAaS,KAAb,KAAqB,KAAtD,IAA+D,KAAKC,gBAAL,CAAsBH,cAAtB,MAA0C,IAA5G,EACE,OAAO,KAAKY,IAAL,CAAUb,WAAV,EAAuBC,cAAvB,CAAP;AACH,KAjCM;AAkCPa,IAAAA,eAlCO,2BAkCSd,WAlCT,EAkCsBC,cAlCtB,EAkCqC;AAC1C;AACA,UAAG,KAAKP,OAAL,CAAaQ,SAAb,KAAyB,IAAzB,IAAiC,KAAKR,OAAL,CAAaS,KAAb,KAAqB,IAAtD,IAA8D,KAAKC,gBAAL,CAAsBH,cAAtB,MAA0C,KAA3G,EACE,OAAO,KAAKc,UAAL,CAAgBf,WAAhB,CAAP,CAHwC,CAI1C;;AACA,UAAG,KAAKN,OAAL,CAAaQ,SAAb,KAAyB,IAAzB,IAAiC,KAAKR,OAAL,CAAaS,KAAb,KAAqB,KAAtD,IAA+D,KAAKC,gBAAL,CAAsBH,cAAtB,MAA0C,KAA5G,EACE,OAAO,KAAKe,UAAL,CAAgBhB,WAAhB,CAAP,CANwC,CAO1C;;AACA,UAAG,KAAKN,OAAL,CAAaQ,SAAb,KAAyB,IAAzB,IAAiC,KAAKR,OAAL,CAAaS,KAAb,KAAqB,IAAtD,IAA8D,KAAKC,gBAAL,CAAsBH,cAAtB,MAA0C,IAA3G,EACE,OAAO,KAAKgB,UAAL,CAAgBjB,WAAhB,EAA6BC,cAA7B,CAAP,CATwC,CAU1C;;AACA,UAAG,KAAKP,OAAL,CAAaQ,SAAb,KAAyB,IAAzB,IAAiC,KAAKR,OAAL,CAAaS,KAAb,KAAqB,KAAtD,IAA+D,KAAKC,gBAAL,CAAsBH,cAAtB,MAA0C,IAA5G,EACE,OAAO,KAAKiB,UAAL,CAAgBlB,WAAhB,EAA6BC,cAA7B,CAAP;AACH,KA/CM;AAgDPc,IAAAA,UAhDO,sBAgDIf,WAhDJ,EAgDgB;AACrB;AACA,aAAOA,WAAW,GAAG,KAAKU,IAAL,CAAUV,WAAV,CAArB;AACD,KAnDM;AAoDPU,IAAAA,IApDO,gBAoDFV,WApDE,EAoDU;AACf;AACA,aAAOA,WAAW,IAAI,KAAKN,OAAL,CAAayB,OAAb,IAAwB,MAAM,KAAKzB,OAAL,CAAayB,OAA3C,CAAJ,CAAlB;AACD,KAvDM;AAwDPd,IAAAA,iBAxDO,6BAwDWL,WAxDX,EAwDuB;AAC5B;AACA,aAAOA,WAAP;AAED,KA5DM;AA6DP;AAEAgB,IAAAA,UA/DO,sBA+DIhB,WA/DJ,EA+DgB;AACrB;AACA,aAAOA,WAAP;AACD,KAlEM;AAmEPW,IAAAA,IAnEO,gBAmEFX,WAnEE,EAmEU;AACf;AACA,aAAOA,WAAW,IAAI,KAAKN,OAAL,CAAayB,OAAb,GAAuB,GAA3B,CAAlB;AACD,KAtEM;AAuEPb,IAAAA,iBAvEO,6BAuEWN,WAvEX,EAuEuB;AAC5B;AACA,aAAOA,WAAW,GAAG,KAAKW,IAAL,CAAUX,WAAV,CAArB;AAED,KA3EM;AA6EP;AAEAiB,IAAAA,UA/EO,sBA+EIjB,WA/EJ,EA+EiBC,cA/EjB,EA+EgC;AACrC;AACA,UAAImB,QAAQ,GAAG,CAAf;;AACA,UAAG,KAAKhB,gBAAL,CAAsBH,cAAtB,CAAH,EAAyC;AACrCmB,QAAAA,QAAQ,GAAGnB,cAAX;AACH;;AACD,aAAO,KAAKM,iBAAL,CAAuBP,WAAvB,EAAoCoB,QAApC,IAAgD,KAAKR,IAAL,CAAUZ,WAAV,EAAuBoB,QAAvB,CAAvD;AACD,KAtFM;AAuFPR,IAAAA,IAvFO,gBAuFFZ,WAvFE,EAuFWC,cAvFX,EAuF2B;AAChC;AACA,UAAImB,QAAQ,GAAG,CAAf;;AACA,UAAG,KAAKhB,gBAAL,CAAsBH,cAAtB,CAAH,EAAyC;AACrCmB,QAAAA,QAAQ,GAAGnB,cAAX;AACH;;AAED,aAAO,KAAKM,iBAAL,CAAuBP,WAAvB,EAAoCoB,QAApC,KAAiD,KAAK1B,OAAL,CAAayB,OAAb,IAAyB,MAAM,KAAKzB,OAAL,CAAayB,OAA5C,CAAjD,CAAP;AACD,KA/FM;AAgGPZ,IAAAA,iBAhGO,6BAgGWP,WAhGX,EAgGwBC,cAhGxB,EAgGuC;AAC5C,UAAImB,QAAQ,GAAG,CAAf;;AACA,UAAG,KAAKhB,gBAAL,CAAsBH,cAAtB,CAAH,EAAyC;AACrCmB,QAAAA,QAAQ,GAAGnB,cAAX;AACH,OAJ2C,CAK5C;;;AACA,aAAOD,WAAW,GAAGoB,QAArB;AAED,KAxGM;AAyGP;AACCF,IAAAA,UA1GM,sBA0GKlB,WA1GL,EA0GkBC,cA1GlB,EA0GiC;AACtC;AACC,UAAImB,QAAQ,GAAG,CAAf;;AACD,UAAG,KAAKhB,gBAAL,CAAsBH,cAAtB,CAAH,EAAyC;AACrCmB,QAAAA,QAAQ,GAAGnB,cAAX;AACH;;AACD,aAAOD,WAAW,GAAGoB,QAArB;AACD,KAjHM;AAkHPP,IAAAA,IAlHO,gBAkHFb,WAlHE,EAkHWC,cAlHX,EAkH0B;AAC/B;AACC,UAAImB,QAAQ,GAAG,CAAf;;AACD,UAAG,KAAKhB,gBAAL,CAAsBH,cAAtB,CAAH,EAAyC;AACrCmB,QAAAA,QAAQ,GAAGnB,cAAX;AACH;;AACD,aAAQ,KAAKiB,UAAL,CAAgBlB,WAAhB,EAA6BoB,QAA7B,KAA2C,KAAK1B,OAAL,CAAayB,OAAb,GAAwB,GAAnE,CAAR;AACD,KAzHM;AA0HPX,IAAAA,iBA1HO,6BA0HWR,WA1HX,EA0HwBC,cA1HxB,EA0HuC;AAC3C,UAAImB,QAAQ,GAAG,CAAf;;AACD,UAAG,KAAKhB,gBAAL,CAAsBH,cAAtB,CAAH,EAAyC;AACrCmB,QAAAA,QAAQ,GAAGnB,cAAX;AACH;;AAED,aAAO,KAAKiB,UAAL,CAAgBlB,WAAhB,EAA6BoB,QAA7B,IAA0C,KAAKP,IAAL,CAAUb,WAAV,EAAuBoB,QAAvB,CAAjD;AACD,KAjIM;AAkIPhB,IAAAA,gBAlIO,4BAkIUH,cAlIV,EAkIyB;AAC3B,UACKA,cAAc,GAAG,CAAjB,IACIA,cAAc,IAAIoB,SADtB,IAEIpB,cAAc,IAAI,IAH3B,EAKA,OAAO,IAAP,CALA,KAMK,OAAO,KAAP;AACT,KA1IM;AA2IP;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAqB,IAAAA,gBArJO,4BAqJUC,QArJV,EAqJmB;AACxB,UAAIC,UAAU,GAAG,CAAjB;AACA,UAAIC,OAAJ;AACA,UAAIC,MAAM,GAAG,KAAb;AACA,UAAIC,MAAM,GAAG,CAAb;;AAEA,UAAGJ,QAAQ,CAACK,gBAAT,KAA8B,IAA9B,IAAsCL,QAAQ,CAACK,gBAAT,KAA8BP,SAApE,IAAiFE,QAAQ,CAACK,gBAAT,KAA8B,EAAlH,EACA;AACI,eAAO,CAAP;AACH,OAHD,MAGK;AACDH,QAAAA,OAAO,GAAGF,QAAQ,CAACK,gBAAT,CAA0BC,KAA1B,CAAgCH,MAAhC,CAAV;AACH;;AACDF,MAAAA,UAAU,GAAGC,OAAO,CAACK,MAAR,GAAiB,CAA9B;AAEA,aAAOC,IAAI,CAACC,IAAL,CAAUR,UAAU,GAACG,MAArB,CAAP;AAED,KArKM;AAuKDM,IAAAA,eAvKC,2BAuKeC,IAvKf,EAuKqB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACtBC,gBAAAA,GADsB,GAChB,IADgB;AAAA;AAAA;AAAA,uBAGZhD,KAAK,CAACiD,IAAN,CACVhD,KAAK,CAACiD,KAAN,CAAYC,MAAZ,GAAqB,yBADX,EAEVJ,IAFU,EAGV,KAAI,CAACK,MAAL,CAAYF,KAAZ,CAAkBG,IAAlB,CAAuBC,SAHb,CAHY;;AAAA;AAGxBN,gBAAAA,GAHwB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,kDAUjB,IAViB;;AAAA;AAAA;AAAA,uBAcbA,GAAG,CAAC5C,IAdS;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAe3B,KAtLM;AAwLPmD,IAAAA,cAxLO,0BAwLQZ,MAxLR,EAwLgB;AACrB,UAAIa,MAAM,GAAG,EAAb;AACA,UAAIC,UAAU,GAAG,gEAAjB;AACA,UAAIC,gBAAgB,GAAGD,UAAU,CAACd,MAAlC;;AACA,WAAK,IAAIgB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhB,MAApB,EAA4BgB,CAAC,EAA7B,EAAiC;AAC/BH,QAAAA,MAAM,IAAIC,UAAU,CAACG,MAAX,CAAkBhB,IAAI,CAACiB,KAAL,CAAWjB,IAAI,CAACkB,MAAL,KAAgBJ,gBAA3B,CAAlB,CAAV;AACD;;AACD,aAAOF,MAAP;AACD,KAhMM;AAiMPO,IAAAA,QAjMO,oBAiMEC,GAjMF,EAiMO;AACZ,UAAIC,GAAG,GAAG,EAAV,CADY,CACC;;AACb,WAAK,IAAIN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGK,GAApB,EAAyBL,CAAC,EAA1B,EAA8B;AAC5BM,QAAAA,GAAG,CAACC,IAAJ,CAASP,CAAT;AACD;;AACD,aAAOM,GAAP;AACD,KAvMM;AAwMPE,IAAAA,aAxMO,yBAyMLpB;AAAK;AAzMA,MA0MLqB;AAAU;AA1ML,MA2MLC,SA3MK,EA4ML;AACA;AACA;AAEA,UAAIC,QAAQ,GAAG,EAAf;;AACA,UAAIF,SAAS,CAACzB,MAAV,IAAoB,CAAxB,EAA2B;AACzB,aAAK,IAAIgB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGZ,IAAI,CAACJ,MAAzB,EAAiCgB,CAAC,EAAlC,EAAsC;AACpC,eAAK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,SAAS,CAACzB,MAA9B,EAAsC4B,CAAC,EAAvC,EAA2C;AACzC,gBAAIxB,IAAI,CAACY,CAAD,CAAJ,CAAQU,SAAR,MAAuBD,SAAS,CAACG,CAAD,CAApC,EAAyC;AACvC;AACA;AACAD,cAAAA,QAAQ,CAACJ,IAAT,CAAcnB,IAAI,CAACY,CAAD,CAAlB;AACD;AACF;AACF;AACF;;AACD,aAAOW,QAAP;AACD,KA7NM;AA8NPE,IAAAA,UA9NO,sBA8NIzB,IA9NJ,EA8NU0B,IA9NV,EA8NgB;AACrB,UAAIC,OAAO,GAAG,EAAd;;AACA,WAAK,IAAIf,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGZ,IAAI,CAACJ,MAAzB,EAAiCgB,CAAC,EAAlC,EAAsC;AACpC,YAAIgB,IAAI,GAAG,EAAX;;AACA,aAAK,IAAIJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGE,IAAI,CAAC9B,MAAzB,EAAiC4B,CAAC,EAAlC,EAAsC;AACpC,cAAIxB,IAAI,CAAC,CAAD,CAAJ,CAAQ6B,cAAR,CAAuBH,IAAI,CAACF,CAAD,CAA3B,CAAJ,EAAqC;AACnCI,YAAAA,IAAI,CAACF,IAAI,CAACF,CAAD,CAAL,CAAJ,GAAgBxB,IAAI,CAACY,CAAD,CAAJ,CAAQc,IAAI,CAACF,CAAD,CAAZ,CAAhB;AACD;AAEF;;AACD,YAAMM,EAAE,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBJ,IAAlB,CAAX;AACAD,QAAAA,OAAO,CAACR,IAAR,CAAaW,EAAb;AACD;;AAED,aAAOH,OAAP;AAED,KA9OM;AAgPPM,IAAAA,cAhPO,0BAgPQjC,IAhPR,EAgPckC,IAhPd,EAgPoB;AACzB,UAAIP,OAAO,GAAG,EAAd;;AAEA,WAAK,IAAIf,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGZ,IAAI,CAACJ,MAAzB,EAAiCgB,CAAC,EAAlC,EAAsC;AACpCe,QAAAA,OAAO,CAACR,IAAR,CAAanB,IAAI,CAACY,CAAD,CAAJ,CAAQsB,IAAR,CAAb;AACD;;AAED,aAAOP,OAAP;AACD,KAxPM;AA2PPQ,IAAAA,UA3PO,sBA2PIC,QA3PJ,EA2Pc;AACnB,UAAIT,OAAO,GAAG,EAAd;;AAEA,WAAK,IAAIf,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwB,QAAQ,CAACxC,MAA7B,EAAqCgB,CAAC,EAAtC,EAA0C;AACxCe,QAAAA,OAAO,CAACR,IAAR,CAAaiB,QAAQ,CAACxB,CAAD,CAArB;AACD;;AAED,aAAOe,OAAP;AACD,KAnQM;AAsQPU,IAAAA,YAtQO,wBAsQMrC,IAtQN,EAsQYsC,SAtQZ,EAsQuBC,OAtQvB,EAsQgCjB,SAtQhC,EAsQ2C;AAChDkB,MAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4C,KAAKC,UAAL,CAAgBJ,SAAhB,CAA5C;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0C,KAAKC,UAAL,CAAgBH,OAAhB,CAA1C;AAEA,UAAIhB,QAAQ,GAAG,EAAf;;AACA,WAAK,IAAIX,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGZ,IAAI,CAACJ,MAAzB,EAAiCgB,CAAC,EAAlC,EAAsC;AACpC,YAAI+B,QAAQ,GAAG,KAAKD,UAAL,CAAgB1C,IAAI,CAACY,CAAD,CAAJ,CAAQU,SAAR,CAAhB,CAAf;AACA,YAAIsB,IAAI,GAAG,KAAKF,UAAL,CAAgBJ,SAAhB,CAAX;AACA,YAAIO,KAAK,GAAG,KAAKH,UAAL,CAAgBH,OAAhB,CAAZ;;AAGA,YAAII,QAAQ,IAAIC,IAAZ,IAAoBD,QAAQ,IAAIE,KAApC,EAA2C;AACzCtB,UAAAA,QAAQ,CAACJ,IAAT,CAAcnB,IAAI,CAACY,CAAD,CAAlB;AACD;AACF,OAd+C,CAehD;;;AAEA,aAAOW,QAAP;AACD,KAxRM;AA2RPuB,IAAAA,mBA3RO,+BA2RaC,SA3Rb,EA2RwBC,YA3RxB,EA2RsC;AAC3C,UAAIhD,IAAI,GAAG,EAAX;;AACA,WAAK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmC,SAAS,CAACnD,MAA9B,EAAsCgB,CAAC,EAAvC,EAA2C;AACzCZ,QAAAA,IAAI,CAACmB,IAAL,CAAU4B,SAAS,CAACnC,CAAD,CAAnB;AACD;;AACDZ,MAAAA,IAAI,CAACiD,IAAL,CAAU,UAACC,CAAD,EAAIC,CAAJ;AAAA,eAAUA,CAAC,CAACH,YAAD,CAAD,GAAkBE,CAAC,CAACF,YAAD,CAA7B;AAAA,OAAV;AACA,aAAOhD,IAAP;AACD,KAlSM;AAmSPoD,IAAAA,uBAnSO,mCAmSiBL,SAnSjB,EAmS4BC,YAnS5B,EAmS0C;AAC/C,UAAIhD,IAAI,GAAG,EAAX;;AACA,WAAK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmC,SAAS,CAACnD,MAA9B,EAAsCgB,CAAC,EAAvC,EAA2C;AACzCZ,QAAAA,IAAI,CAACmB,IAAL,CAAU4B,SAAS,CAACnC,CAAD,CAAnB;AACD;;AACDZ,MAAAA,IAAI,CAACiD,IAAL,CAAU,UAACC,CAAD,EAAIC,CAAJ;AAAA,eAAU,IAAIE,IAAJ,CAASF,CAAC,CAACH,YAAD,CAAV,IAA4B,IAAIK,IAAJ,CAASH,CAAC,CAACF,YAAD,CAAV,CAAtC;AAAA,OAAV;AACA,aAAOhD,IAAP;AACD,KA1SM;AA4SPsD,IAAAA,kBA5SO,8BA4SYP,SA5SZ,EA4SuBC,YA5SvB,EA4SqC;AAC1C,UAAIhD,IAAI,GAAG,EAAX;;AACA,WAAK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmC,SAAS,CAACnD,MAA9B,EAAsCgB,CAAC,EAAvC,EAA2C;AACzCZ,QAAAA,IAAI,CAACmB,IAAL,CAAU4B,SAAS,CAACnC,CAAD,CAAnB;AACD;;AACDZ,MAAAA,IAAI,CAACiD,IAAL,CAAU,UAACC,CAAD,EAAIC,CAAJ;AAAA,eAAUD,CAAC,CAACF,YAAD,CAAD,GAAkBG,CAAC,CAACH,YAAD,CAA7B;AAAA,OAAV;AACA,aAAOhD,IAAP;AACD,KAnTM;AAqTPuD,IAAAA,sBArTO,kCAqTgBR,SArThB,EAqT2BC,YArT3B,EAqTyC;AAC9C,UAAIhD,IAAI,GAAG,EAAX;;AACA,WAAK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmC,SAAS,CAACnD,MAA9B,EAAsCgB,CAAC,EAAvC,EAA2C;AACzCZ,QAAAA,IAAI,CAACmB,IAAL,CAAU4B,SAAS,CAACnC,CAAD,CAAnB;AACD;;AACDZ,MAAAA,IAAI,CAACiD,IAAL,CAAU,UAACC,CAAD,EAAIC,CAAJ;AAAA,eAAU,IAAIE,IAAJ,CAASH,CAAC,CAACF,YAAD,CAAV,IAA4B,IAAIK,IAAJ,CAASF,CAAC,CAACH,YAAD,CAAV,CAAtC;AAAA,OAAV;AACA,aAAOhD,IAAP;AACD,KA5TM;AAgUPwD,IAAAA,gBAhUO,4BAgUUC,KAhUV,EAgUiBC,KAhUjB,EAgUwB;AAC7B,UAAIC,GAAG,GAAG,IAAIN,IAAJ,CAASI,KAAT,CAAV;AACA,UAAIG,GAAG,GAAG,IAAIP,IAAJ,CAASK,KAAT,CAAV;AACA,aAAO7D,IAAI,CAACiB,KAAL,CACL,CAACuC,IAAI,CAACQ,GAAL,CAASD,GAAG,CAACE,WAAJ,EAAT,EAA4BF,GAAG,CAACG,QAAJ,EAA5B,EAA4CH,GAAG,CAACI,OAAJ,EAA5C,IACCX,IAAI,CAACQ,GAAL,CAASF,GAAG,CAACG,WAAJ,EAAT,EAA4BH,GAAG,CAACI,QAAJ,EAA5B,EAA4CJ,GAAG,CAACK,OAAJ,EAA5C,CADF,KAEC,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAFlB,CADK,CAAP;AAKD,KAxUM;AA0UPC,IAAAA,OA1UO,mBA0UCC,GA1UD,EA0UMC,MA1UN,EA0Uc;AAGnB,UAAIC,OAAO,GAAG,IAAIf,IAAJ,CAASa,GAAT,CAAd;AAEAE,MAAAA,OAAO,CAACC,OAAR,CAAgBD,OAAO,CAACJ,OAAR,KAAoBG,MAApC;AAEA,UAAIG,EAAE,GAAGF,OAAO,CAACJ,OAAR,EAAT;AACA,UAAIO,EAAE,GAAGH,OAAO,CAACL,QAAR,KAAqB,CAA9B;AACA,UAAIS,CAAC,GAAGJ,OAAO,CAACN,WAAR,EAAR;AAEA,UAAIW,iBAAiB,GAAGD,CAAC,GAAG,GAAJ,GAAUD,EAAV,GAAe,GAAf,GAAqBD,EAA7C;AACA,aAAOG,iBAAP;AACD,KAvVM;AAyVPC,IAAAA,MAzVO,kBAyVAC,IAzVA,EAyVMC,IAzVN,EAyVY;AACjB,UAAMC,IAAI,GAAG,IAAIxB,IAAJ,CAASyB,MAAM,CAACH,IAAD,CAAf,CAAb;AACAE,MAAAA,IAAI,CAACR,OAAL,CAAaM,IAAI,CAACX,OAAL,KAAiBY,IAA9B;AACA,aAAOC,IAAP;AACD,KA7VM;AA8VPE,IAAAA,eA9VO,2BA8VSjH,WA9VT,EA8VsBC,cA9VtB,EA8VsCiH,iBA9VtC,EA8VyD;AAC9D,UAAIC,EAAE,GAAGC,KAAK,CAACJ,MAAM,CAAChH,WAAD,CAAP,CAAL,GAA6B,CAA7B,GAAiCgH,MAAM,CAAChH,WAAD,CAAhD;AAEA,UAAIqH,EAAE,GAAGD,KAAK,CAACJ,MAAM,CAAC/G,cAAD,CAAP,CAAL,GAAgC,CAAhC,GAAoC+G,MAAM,CAAC/G,cAAD,CAAnD;AAEA,UAAIqH,EAAE,GAAGF,KAAK,CAACJ,MAAM,CAACE,iBAAD,CAAP,CAAL,GAAmC,CAAnC,GAAuCF,MAAM,CAACE,iBAAD,CAAtD;AAEA,aAAO,KAAKK,WAAL,CAAiBJ,EAAE,GAAGE,EAAL,GAAUC,EAA3B,CAAP;AACD,KAtWM;AAuWPE,IAAAA,QAvWO,oBAuWEC,SAvWF,EAuWaC,YAvWb,EAuW2B;AAChC,UAAIC,EAAE,GAAGP,KAAK,CAACJ,MAAM,CAACS,SAAD,CAAP,CAAL,GAA2B,CAA3B,GAA+BT,MAAM,CAACS,SAAD,CAA9C;AACA,UAAIG,EAAE,GAAGR,KAAK,CAACJ,MAAM,CAACU,YAAD,CAAP,CAAL,GAA8B,CAA9B,GAAkCV,MAAM,CAACU,YAAD,CAAjD;AACA,aAAO,KAAKH,WAAL,CAAiBI,EAAE,GAAGC,EAAtB,CAAP;AACD,KA3WM;AA4WPC,IAAAA,UA5WO,sBA4WIJ,SA5WJ,EA4WeC,YA5Wf,EA4W6BI,SA5W7B,EA4WwC;AAC7C,UAAIH,EAAE,GAAGP,KAAK,CAACJ,MAAM,CAACS,SAAD,CAAP,CAAL,GAA2B,CAA3B,GAA+BT,MAAM,CAACS,SAAD,CAA9C;AACA,UAAIG,EAAE,GAAGR,KAAK,CAACJ,MAAM,CAACU,YAAD,CAAP,CAAL,GAA8B,CAA9B,GAAkCV,MAAM,CAACU,YAAD,CAAjD;AACA,UAAIlB,EAAE,GAAGY,KAAK,CAACJ,MAAM,CAACc,SAAD,CAAP,CAAL,GAA2B,CAA3B,GAA+Bd,MAAM,CAACc,SAAD,CAA9C;AACA,aAAO,KAAKP,WAAL,CAAiBI,EAAE,GAAGC,EAAL,GAAUpB,EAA3B,CAAP;AACD,KAjXM;AAkXPuB,IAAAA,aAlXO,2BAkXS;AACd,aAAO3I,KAAK,CAACiD,KAAN,CAAYG,IAAZ,CAAiBwF,UAAxB;AACD,KApXM;AAqXPC,IAAAA,oBArXO,gCAqXcC,KArXd,EAqXqB;AAC1B,UAAIC,EAAE,GAAGD,KAAK,CAACE,MAAN,CACP,UAAAC,CAAC;AAAA,eACDA,CAAC,CAACC,QAAF,KAAe,OAAf,IACAD,CAAC,CAACC,QAAF,KAAe,OADf,IAEAD,CAAC,CAACC,QAAF,KAAe,iBAFf,IAGAD,CAAC,CAACC,QAAF,KAAe,WAJd;AAAA,OADM,CAAT;;AAOA,UAAIH,EAAE,CAACrG,MAAH,IAAa,CAAjB,EAAoB;AAClB,eAAO,OAAP;AACD,OAFD,MAEO;AACL,eAAO,OAAP;AACD;AACF,KAlYM;AAoYDyG,IAAAA,OApYC,mBAoYOC,GApYP,EAoYY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACjB;AACA;AACA;AACIC,gBAAAA,QAJa,GAIF,IAJE;AAAA;AAAA;AAAA,uBAMEtJ,KAAK,CAACuJ,GAAN,CACftJ,KAAK,CAACiD,KAAN,CAAYC,MAAZ,GAAqBkG,GADN,EACWpJ,KAAK,CAACiD,KAAN,CAAYG,IAAZ,CAAiBC,SAD5B,CANF;;AAAA;AAMfgG,gBAAAA,QANe;AAAA;AAAA;;AAAA;AAAA;AAAA;AAUfE,gBAAAA,UAAU,CAAC,YAAM,CACf;AACD,iBAFS,EAEP,IAFO,CAAV,CAVe,CAaf;;AAbe,kDAcR,IAdQ;;AAAA;AAkBjBA,gBAAAA,UAAU,CAAC,YAAM,CACf;AACD,iBAFS,EAEP,IAFO,CAAV;AAlBiB;AAAA,uBAsBJF,QAAQ,CAAClJ,IAtBL;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBlB,KA3ZM;AA4ZDqJ,IAAAA,MA5ZC,kBA4ZMJ,GA5ZN,EA4ZW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAChB;AACA;AACA;AACIC,gBAAAA,QAJY,GAID,IAJC;AAAA;AAAA;AAAA,uBAMGtJ,KAAK,CAACuJ,GAAN,CACftJ,KAAK,CAACiD,KAAN,CAAYC,MAAZ,GAAqBkG,GADN,EACWpJ,KAAK,CAACiD,KAAN,CAAYG,IAAZ,CAAiBC,SAD5B,CANH;;AAAA;AAMdgG,gBAAAA,QANc;AAAA;AAAA;;AAAA;AAAA;AAAA;AAUdE,gBAAAA,UAAU,CAAC,YAAM,CACf;AACD,iBAFS,EAEP,IAFO,CAAV,CAVc,CAad;;AAbc,kDAcP,IAdO;;AAAA;AAkBhBA,gBAAAA,UAAU,CAAC,YAAM,CACf;AACD,iBAFS,EAEP,IAFO,CAAV;AAlBgB;AAAA,uBAqBHF,QAAQ,CAAClJ,IArBN;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBjB,KAlbM;AAmbDsJ,IAAAA,WAnbC,uBAmbWL,GAnbX,EAmbgB1E,IAnbhB,EAmbsBgF,EAnbtB,EAmb0B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAMZ,MAAI,CAACC,KAAL,CAAWC,GAAX,CACf,MAAI,CAACzG,MAAL,CAAYF,KAAZ,CAAkBC,MAAlB,GAA2BkG,GAA3B,GAAiC,GAAjC,GAAuCM,EADxB,EAEfhF,IAFe,EAGf1E,KAAK,CAACiD,KAAN,CAAYG,IAAZ,CAAiBC,SAHF,CANY;;AAAA;AAM7BgG,gBAAAA,QAN6B;AAAA;AAAA;;AAAA;AAAA;AAAA;AAa7BE,gBAAAA,UAAU,CAAC,YAAM,CACf;AACD,iBAFS,EAEP,GAFO,CAAV,CAb6B,CAgB7B;;AAhB6B,kDAiBtB,IAjBsB;;AAAA;AAmB/BA,gBAAAA,UAAU,CAAC,YAAM;AACf,kBAAA,MAAI,CAACM,aAAL,CAAmB,cAAnB;;AACA,kBAAA,MAAI,CAACC,GAAL,CAASC,OAAT,CAAiBC,KAAjB;AACD,iBAHS,EAGP,GAHO,CAAV;AAnB+B;AAAA,uBAwBlBX,QAAQ,CAAClJ,IAxBS;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyBhC,KA5cM;AA8cDyJ,IAAAA,GA9cC,eA8cGR,GA9cH,EA8cQ1E,IA9cR,EA8ccgF,EA9cd,EA8ckB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGJ3J,KAAK,CAAC6J,GAAN,CAAU5J,KAAK,CAACiD,KAAN,CAAYC,MAAZ,GAAqBkG,GAArB,GAA2B,GAA3B,GAAiCM,EAA3C,EAA+ChF,IAA/C,EAAqD,MAAI,CAACvB,MAAL,CAAYF,KAAZ,CAAkBG,IAAlB,CAAuBC,SAA5E,CAHI;;AAAA;AAGrBgG,gBAAAA,QAHqB;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA,qBAKjB,aAAMA,QALW;AAAA;AAAA;AAAA;;AAAA,kDAOZ,aAAMA,QAPM;;AAAA;AAAA,kDASZ,IATY;;AAAA;AAAA;AAAA,uBAaVA,QAAQ,CAAClJ,IAbC;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcxB,KA5dM;AAgeD8J,IAAAA,WAheC,uBAgeWb,GAheX,EAgegB1E,IAhehB,EAgesB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC3B,gBAAA,MAAI,CAACoF,GAAL,CAASC,OAAT,CAAiB;AACfG,kBAAAA,IAAI,EAAE;AADS,iBAAjB;;AAD2B;AAAA;AAAA,uBAMR,MAAI,CAACP,KAAL,CAAW3G,IAAX,CACf,MAAI,CAACG,MAAL,CAAYF,KAAZ,CAAkBC,MAAlB,GAA2BkG,GADZ,EAEf1E,IAFe,EAGf1E,KAAK,CAACiD,KAAN,CAAYG,IAAZ,CAAiBC,SAHF,CANQ;;AAAA;AAMzBgG,gBAAAA,QANyB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAazBE,gBAAAA,UAAU,CAAC,YAAM;AACf,kBAAA,MAAI,CAACO,GAAL,CAASC,OAAT,CAAiBC,KAAjB;AACD,iBAFS,EAEP,GAFO,CAAV,CAbyB,CAgBzB;;AAhByB,kDAiBlB,IAjBkB;;AAAA;AAmB3BT,gBAAAA,UAAU,CAAC,YAAM;AACf,kBAAA,MAAI,CAACM,aAAL,CAAmB,cAAnB;;AACA,kBAAA,MAAI,CAACC,GAAL,CAASC,OAAT,CAAiBC,KAAjB;AACD,iBAHS,EAGP,GAHO,CAAV;AAnB2B;AAAA,uBAwBdX,QAAQ,CAAClJ,IAxBK;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyB5B,KAzfM;AA2fPgK,IAAAA,SA3fO,qBA2fGC,OA3fH,EA2fYC,OA3fZ,EA2foB;AACzB,UAAGA,OAAO,KAAKpI,SAAZ,IAAyBoI,OAAO,KAAK,IAAxC,EAA8CA,OAAO,GAAG,EAAV;AAC9C,WAAKC,SAAL,GAAiBD,OAAjB;AACA,WAAKE,YAAL;AACA,UAAIC,CAAC,GAAGJ,OAAO,GAAGC,OAAO,CAAC3H,MAA1B;AACA,UAAG8H,CAAC,IAAI,CAAR,EAAW,OAAO,CAAP,CAAX,KAEE,OAAOA,CAAP;AACH,KAngBM;AAqgBDxH,IAAAA,IArgBC,gBAqgBIoG,GArgBJ,EAqgBS1E,IArgBT,EAqgBe;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAID3E,KAAK,CAACiD,IAAN,CAAWhD,KAAK,CAACiD,KAAN,CAAYC,MAAZ,GAAqBkG,GAAhC,EAAqC1E,IAArC,EAA2C,MAAI,CAACvB,MAAL,CAAYF,KAAZ,CAAkBG,IAAlB,CAAuBC,SAAlE,CAJC;;AAAA;AAIlBgG,gBAAAA,QAJkB;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA,qBAMd,aAAMA,QANQ;AAAA;AAAA;AAAA;;AAAA,kDAQT,aAAMA,QARG;;AAAA;AAAA,kDAUT,IAVS;;AAAA;AAAA;AAAA,uBAcPA,QAAQ,CAAClJ,IAdF;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAerB,KAphBM;AAuhBDsK,IAAAA,oBAvhBC,kCAuhBsB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACvBpB,gBAAAA,QADuB,GACZ,IADY;AAAA;AAAA;AAAA,uBAGRtJ,KAAK,CAACuJ,GAAN,CACftJ,KAAK,CAACiD,KAAN,CAAYC,MAAZ,GAAqB,8BADN,EACsC,MAAI,CAACC,MAAL,CAAYF,KAAZ,CAAkBG,IAAlB,CAAuBC,SAD7D,CAHQ;;AAAA;AAGzBgG,gBAAAA,QAHyB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,kDASlB,IATkB;;AAAA;AAAA;AAAA,uBAadA,QAAQ,CAAClJ,IAbK;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAc5B,KAriBM;AAuiBDuK,IAAAA,iBAviBC,+BAuiBmB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACpBrB,gBAAAA,QADoB,GACT,IADS;AAAA;AAAA;AAAA,uBAGLtJ,KAAK,CAACuJ,GAAN,CACftJ,KAAK,CAACiD,KAAN,CAAYC,MAAZ,GAAqB,kBADN,EAC0B,MAAI,CAACC,MAAL,CAAYF,KAAZ,CAAkBG,IAAlB,CAAuBC,SADjD,CAHK;;AAAA;AAGtBgG,gBAAAA,QAHsB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,mDAUf,IAVe;;AAAA;AAAA;AAAA,uBAcXA,QAAQ,CAAClJ,IAdE;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAezB,KAtjBM;AAujBDwK,IAAAA,kBAvjBC,gCAujBoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGN5K,KAAK,CAACuJ,GAAN,CACftJ,KAAK,CAACiD,KAAN,CAAYC,MAAZ,GAAqB,kBADN,EAEflD,KAAK,CAACiD,KAAN,CAAYG,IAAZ,CAAiBC,SAFF,CAHM;;AAAA;AAGvBgG,gBAAAA,QAHuB;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAWZA,QAAQ,CAAClJ,IAXG;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAY1B,KAnkBM;AAokBDyK,IAAAA,eApkBC,2BAokBeC,OApkBf,EAokBwB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGV9K,KAAK,CAACuJ,GAAN,CACftJ,KAAK,CAACiD,KAAN,CAAYC,MAAZ,GAAqB,mBAArB,GAA2C2H,OAD5B,EAEf,MAAI,CAAC1H,MAAL,CAAYF,KAAZ,CAAkBG,IAAlB,CAAuBC,SAFR,CAHU;;AAAA;AAG3BgG,gBAAAA,QAH2B;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAWhBA,QAAQ,CAAClJ,IAXO;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAY9B,KAhlBM;AAklBD2K,IAAAA,eAllBC,2BAklBepB,EAllBf,EAklBmB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACpBL,gBAAAA,QADoB,GACT,IADS;AAAA;AAAA;AAAA,uBAGLtJ,KAAK,CAACuJ,GAAN,CACftJ,KAAK,CAACiD,KAAN,CAAYC,MAAZ,GAAqB,cAArB,GAAsCwG,EADvB,EAEf,MAAI,CAACvG,MAAL,CAAYF,KAAZ,CAAkBG,IAAlB,CAAuBC,SAFR,CAHK;;AAAA;AAGtBgG,gBAAAA,QAHsB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,mDASf,IATe;;AAAA;AAAA;AAAA,uBAYXA,QAAQ,CAAClJ,IAZE;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAazB,KA/lBM;AAimBD4K,IAAAA,oBAjmBC,gCAimBoBC,QAjmBpB,EAimB8B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGhBjL,KAAK,CAACuJ,GAAN,CACftJ,KAAK,CAACiD,KAAN,CAAYC,MAAZ,GAAqB,0BAArB,GAAkD8H,QADnC,EAEf,OAAI,CAAC7H,MAAL,CAAYF,KAAZ,CAAkBG,IAAlB,CAAuBC,SAFR,CAHgB;;AAAA;AAGjCgG,gBAAAA,QAHiC;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAWtBA,QAAQ,CAAClJ,IAXa;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYpC,KA7mBM;AA8mBD8K,IAAAA,uBA9mBC,mCA8mBuBC,UA9mBvB,EA8mBmC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGrBnL,KAAK,CAACiD,IAAN,CACfhD,KAAK,CAACiD,KAAN,CAAYC,MAAZ,GAAqB,6BADN,EAEfgI,UAFe,EAGf,OAAI,CAAC/H,MAAL,CAAYF,KAAZ,CAAkBG,IAAlB,CAAuBC,SAHR,CAHqB;;AAAA;AAGtCgG,gBAAAA,QAHsC;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAa3BA,QAAQ,CAAClJ,IAbkB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAczC,KA5nBM;AA6nBDgL,IAAAA,6BA7nBC,yCA6nB6BC,OA7nB7B,EA6nBsC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEvCpH,gBAAAA,GAFuC,GAEjC,EAFiC,EAG3C;;AACAA,gBAAAA,GAAG,CAACC,IAAJ,CAASmH,OAAT;AAJ2C;AAAA;AAAA,uBAMxBrL,KAAK,CAACiD,IAAN,CACfhD,KAAK,CAACiD,KAAN,CAAYC,MAAZ,GAAqB,6BADN,EAEfc,GAFe,EAGf,OAAI,CAACb,MAAL,CAAYF,KAAZ,CAAkBG,IAAlB,CAAuBC,SAHR,CANwB;;AAAA;AAMzCgG,gBAAAA,QANyC;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAgB9BA,QAAQ,CAAClJ,IAhBqB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiB5C,KA9oBM;AA+oBT;AACA;AACA;AACA;AACQkL,IAAAA,kCAnpBC,8CAmpBkCL,QAnpBlC,EAmpB4C;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAG9BjL,KAAK,CAACuJ,GAAN,CACftJ,KAAK,CAACiD,KAAN,CAAYC,MAAZ,GAAqB,0CAArB,GAAkE8H,QADnD,EAEf,OAAI,CAAC7H,MAAL,CAAYF,KAAZ,CAAkBG,IAAlB,CAAuBC,SAFR,CAH8B;;AAAA;AAG/CgG,gBAAAA,QAH+C;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAWpCA,QAAQ,CAAClJ,IAX2B;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYlD,KA/pBM;AAgqBDmL,IAAAA,eAhqBC,2BAgqBeC,IAhqBf,EAgqBqB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEX,OAAI,CAACC,kBAAL,EAFW;;AAAA;AAEtBC,gBAAAA,EAFsB;AAGtBL,gBAAAA,OAHsB,GAGZ,IAHY;;AAAA,sBAKtBK,EAAE,KAAK,IAAP,IAAeA,EAAE,KAAKxJ,SAAtB,IAAmCwJ,EAAE,CAAC/I,MAAH,KAAc,CAL3B;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAMR+I,EAAE,CAACC,IAAH,CAAQ,UAAAzC,CAAC;AAAA,yBAAIA,CAAC,CAACsC,IAAF,KAAW,GAAf;AAAA,iBAAT,CANQ;;AAAA;AAMxBH,gBAAAA,OANwB;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAQRK,EAAE,CAACC,IAAH,CAAQ,UAAAzC,CAAC;AAAA,yBAAIA,CAAC,CAACsC,IAAF,KAAWA,IAAf;AAAA,iBAAT,CARQ;;AAAA;AAQxBH,gBAAAA,OARwB;;AAAA;AAAA,mDAYnBA,OAZmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAc3B,KA9qBM;AAgrBDO,IAAAA,cAhrBC,0BAgrBcjC,EAhrBd,EAgrBkB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAIJ3J,KAAK,CAACuJ,GAAN,CACftJ,KAAK,CAACiD,KAAN,CAAYC,MAAZ,GAAqB,cAArB,GAAsCwG,EADvB,EAEf,OAAI,CAACvG,MAAL,CAAYF,KAAZ,CAAkBG,IAAlB,CAAuBC,SAFR,CAJI;;AAAA;AAIrBgG,gBAAAA,QAJqB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,mDAUd,IAVc;;AAAA;AAAA;AAAA,uBAaVA,QAAQ,CAAClJ,IAbC;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBxB,KAhsBM;AAksBDyL,IAAAA,YAlsBC,0BAksBc;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAIA7L,KAAK,CAACuJ,GAAN,CACftJ,KAAK,CAACiD,KAAN,CAAYC,MAAZ,GAAqB,aADN,EAEf,OAAI,CAACC,MAAL,CAAYF,KAAZ,CAAkBG,IAAlB,CAAuBC,SAFR,CAJA;;AAAA;AAIjBgG,gBAAAA,QAJiB;AAAA;AAAA;;AAAA;AAAA;AAAA;AASjB;AACApJ,gBAAAA,IAAI,CAAC4L,IAAL,CAAU;AACRC,kBAAAA,IAAI,EAAE,OADE;AAERC,kBAAAA,KAAK,EAAE,mBAFC,CAGR;;AAHQ,iBAAV;AAViB,mDAeV,IAfU;;AAAA;AAAA;AAAA,uBAkBN1C,QAAQ,CAAClJ,IAlBH;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBpB,KAvtBM;AAytBP6L,IAAAA,YAztBO,wBAytBMC,SAztBN,EAytBiB;AACtB,UACEA,SAAS,KAAKhK,SAAd,IACAgK,SAAS,KAAK,IADd,IAEAA,SAAS,KAAK,EAFd,IAGAA,SAAS,KAAK,KAAK9I,MAAL,CAAYF,KAAZ,CAAkBiJ,UAJlC,EAKE;AACA,eAAO,KAAK/I,MAAL,CAAYF,KAAZ,CAAkBkJ,YAAzB;AACD,OAPD,MAOO;AACL,YAAIF,SAAS,CAACG,UAAV,CAAqB,UAArB,CAAJ,EACE,OAAOH,SAAP,CADF,KAGE,OAAO,KAAK9I,MAAL,CAAYF,KAAZ,CAAkBiJ,UAAlB,GAA+BD,SAAtC;AACH;AACF,KAvuBM;AAyuBPI,IAAAA,WAzuBO,uBAyuBKJ,SAzuBL,EAyuBgB;AACrB,UAAIA,SAAS,KAAKhK,SAAd,IAA2BgK,SAAS,KAAK,IAAzC,IAAiDA,SAAS,KAAK,EAAnE,EAAuE;AAErE,eAAOjM,KAAK,CAACiD,KAAN,CAAYiJ,UAAZ,GAAyB,kBAAhC;AACD,OAHD,MAGO;AACL,eAAOlM,KAAK,CAACiD,KAAN,CAAYiJ,UAAZ,GAAyBD,SAAhC;AACD;AACF,KAhvBM;AAivBPK,IAAAA,aAjvBO,yBAivBOL,SAjvBP,EAivBkB;AACvB,UAAIA,SAAS,KAAKhK,SAAd,IAA2BgK,SAAS,KAAK,IAAzC,IAAiDA,SAAS,KAAK,EAAnE,EAAuE;AAErE,eAAOjM,KAAK,CAACiD,KAAN,CAAYiJ,UAAZ,GAAyB,kBAAhC;AACD,OAHD,MAGO;AACL,eAAOlM,KAAK,CAACiD,KAAN,CAAYsJ,cAAZ,GAA6BN,SAApC;AACD;AACF,KAxvBM;AAyvBPO,IAAAA,UAzvBO,sBAyvBIP,SAzvBJ,EAyvBe;AACpB,UAAIA,SAAS,KAAKhK,SAAd,IAA2BgK,SAAS,KAAK,IAAzC,IAAiDA,SAAS,KAAK,EAAnE,EAAuE;AAErE,eAAOjM,KAAK,CAACiD,KAAN,CAAYiJ,UAAZ,GAAyB,kBAAhC;AACD,OAHD,MAGO;AACL,eAAOlM,KAAK,CAACiD,KAAN,CAAYwJ,QAAZ,GAAuBR,SAA9B;AACD;AACF,KAhwBM;AAkwBDT,IAAAA,kBAlwBC,gCAkwBoB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGNzL,KAAK,CAACuJ,GAAN,CACftJ,KAAK,CAACiD,KAAN,CAAYC,MAAZ,GAAqB,aADN,EAEf,OAAI,CAACC,MAAL,CAAYF,KAAZ,CAAkBG,IAAlB,CAAuBC,SAFR,CAHM;;AAAA;AAGvBgG,gBAAAA,QAHuB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,mDAShB,IATgB;;AAAA;AAAA;AAAA,uBAYZA,QAAQ,CAAClJ,IAZG;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAa1B,KA/wBM;AAixBP;AAEAuM,IAAAA,2BAnxBO,uCAmxBqBC,aAnxBrB,EAmxBoCC,WAnxBpC,EAmxBiD;AAC1D;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAII,UAAIC,KAAK,GAAGF,aAAa,GAAGC,WAA5B;AAEAtH,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCsH,KAAhC;;AAEA,UAAIA,KAAK,IAAI,CAAb,EAAgB;AACd,eAAO,CAAP;AACD,OAFD,MAEO,IAAIA,KAAK,IAAI,CAAT,IAAcA,KAAK,IAAI,CAA3B,EAA8B;AACnC,eAAO,CAAP;AACD,OAFM,MAEA,IAAIA,KAAK,IAAI,CAAT,IAAcA,KAAK,IAAI,CAA3B,EAA8B;AACnC,eAAO,CAAP;AACD,OAFM,MAEA,IAAIA,KAAK,IAAI,CAAT,IAAcA,KAAK,IAAI,EAA3B,EAA+B;AACpC,eAAO,CAAP;AACD,OAFM,MAEA,IAAIA,KAAK,IAAI,EAAT,IAAeA,KAAK,IAAI,EAA5B,EAAgC;AACrC,eAAO,CAAP;AACD,OAFM,MAEA,IAAIA,KAAK,IAAI,EAAT,IAAeA,KAAK,IAAI,EAA5B,EAAgC;AACrC,eAAO,CAAP;AACD,OAFM,MAEA,IAAIA,KAAK,IAAI,EAAT,IAAeA,KAAK,IAAI,EAA5B,EAAgC;AACrC,eAAO,CAAP;AACD,OAtCqD,CAyCtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACD,KA30BM;AA60BP;AAEMC,IAAAA,WA/0BC,yBA+0Ba;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGC/M,KAAK,CAACuJ,GAAN,CACftJ,KAAK,CAACiD,KAAN,CAAYC,MAAZ,GAAqB,eADN,EAEf,OAAI,CAACC,MAAL,CAAYF,KAAZ,CAAkBG,IAAlB,CAAuBC,SAFR,CAHD;;AAAA;AAGhBgG,gBAAAA,QAHgB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAQhB;AACApJ,gBAAAA,IAAI,CAAC4L,IAAL,CAAU;AACRC,kBAAAA,IAAI,EAAE,OADE;AAERC,kBAAAA,KAAK,EAAE,mBAFC,CAGR;;AAHQ,iBAAV;AATgB,mDAcT,IAdS;;AAAA;AAAA;AAAA,uBAiBL1C,QAAQ,CAAClJ,IAjBJ;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBnB,KAj2BM;AAk2BP4M,IAAAA,MAl2BO,oBAk2BE;AACD,WAAKjD,GAAL,CAASkD,MAAT,CAAgB;AACZjB,QAAAA,KAAK,EAAE,SADK;AAEZkB,QAAAA,IAAI,EAAE,0BAFM;AAGZC,QAAAA,KAAK,EAAE,SAHK;AAIZC,QAAAA,QAAQ,EAAE,SAJE;AAKZC,QAAAA,QAAQ,EAAE,YALE;AAMZtB,QAAAA,IAAI,EAAE;AANM,OAAhB;AAQH,KA32BE;AA42BHuB,IAAAA,OA52BG,qBA42BO;AACN,WAAKvD,GAAL,CAASkD,MAAT,CAAgB;AACZjB,QAAAA,KAAK,EAAE,QADK;AAEZkB,QAAAA,IAAI,EAAE,uBAFM;AAGZC,QAAAA,KAAK,EAAE,QAHK;AAIZC,QAAAA,QAAQ,EAAE,SAJE;AAKZC,QAAAA,QAAQ,EAAE,YALE;AAMZtB,QAAAA,IAAI,EAAE;AANM,OAAhB;AAQH,KAr3BE;AAu3BPjC,IAAAA,aAv3BO,yBAu3BOoD,IAv3BP,EAu3Ba;AAClB,WAAKnD,GAAL,CAASkD,MAAT,CAAgB;AACdjB,QAAAA,KAAK,EAAE,iBADO;AAEdqB,QAAAA,QAAQ,EAAE,YAFI;AAGdH,QAAAA,IAAI,EAAEA,IAHQ;AAIdE,QAAAA,QAAQ,EAAE,SAJI;AAKdrB,QAAAA,IAAI,EAAE,mBALQ;AAMdoB,QAAAA,KAAK,EAAE;AANO,OAAhB;AAQD,KAh4BM;AAi4BPI,IAAAA,WAj4BO,uBAi4BKL,IAj4BL,EAi4BW;AAChB,WAAKnD,GAAL,CAASkD,MAAT,CAAgB;AACdjB,QAAAA,KAAK,EAAE,gBADO;AAEdqB,QAAAA,QAAQ,EAAE,YAFI;AAGdH,QAAAA,IAAI,EAAEA,IAHQ;AAIdE,QAAAA,QAAQ,EAAE,SAJI;AAKdrB,QAAAA,IAAI,EAAE,mBALQ;AAMdoB,QAAAA,KAAK,EAAE;AANO,OAAhB;AAQD,KA14BM;AA24BPK,IAAAA,aA34BO,yBA24BOxB,KA34BP,EA24BckB,IA34Bd,EA24BoB;AACzB,WAAKnD,GAAL,CAASkD,MAAT,CAAgB;AACdjB,QAAAA,KAAK,EAAEA,KADO;AAEdqB,QAAAA,QAAQ,EAAE,YAFI;AAGdH,QAAAA,IAAI,EAAEA,IAHQ;AAIdE,QAAAA,QAAQ,EAAE,SAJI;AAKdrB,QAAAA,IAAI,EAAE,mBALQ;AAMdoB,QAAAA,KAAK,EAAE;AANO,OAAhB;AAQD,KAp5BM;AAq5BPM,IAAAA,UAr5BO,sBAq5BIP,IAr5BJ,EAq5BU;AACf,WAAKnD,GAAL,CAASkD,MAAT,CAAgB;AACdjB,QAAAA,KAAK,EAAE,gBADO;AAEdqB,QAAAA,QAAQ,EAAE,YAFI;AAGdH,QAAAA,IAAI,EAAEA,IAHQ;AAIdE,QAAAA,QAAQ,EAAE,SAJI;AAKdrB,QAAAA,IAAI,EAAE,mBALQ;AAMdoB,QAAAA,KAAK,EAAE;AANO,OAAhB;AAQD,KA95BM;AAg6BP1H,IAAAA,UAh6BO,sBAg6BIiC,IAh6BJ,EAg6BU;AACf,UAAIgG,CAAC,GAAG,IAAItH,IAAJ,CAASsB,IAAT,CAAR;AAAA,UACEiG,KAAK,GAAG,MAAMD,CAAC,CAAC5G,QAAF,KAAe,CAArB,CADV;AAAA,UAEE8G,GAAG,GAAG,KAAKF,CAAC,CAAC3G,OAAF,EAFb;AAAA,UAGE8G,IAAI,GAAGH,CAAC,CAAC7G,WAAF,EAHT;AAKA,UAAI8G,KAAK,CAAChL,MAAN,GAAe,CAAnB,EAAsBgL,KAAK,GAAG,MAAMA,KAAd;AACtB,UAAIC,GAAG,CAACjL,MAAJ,GAAa,CAAjB,EAAoBiL,GAAG,GAAG,MAAMA,GAAZ;AAEpB,aAAO,CAACC,IAAD,EAAOF,KAAP,EAAcC,GAAd,EAAmBE,IAAnB,CAAwB,GAAxB,CAAP;AACD,KA16BM;AA46BPC,IAAAA,cA56BO,0BA46BQrG,IA56BR,EA46Bc;AACnB,UAAIgG,CAAC,GAAG,IAAItH,IAAJ,CAASsB,IAAT,CAAR;AAAA,UACEiG,KAAK,GAAG,MAAMD,CAAC,CAAC5G,QAAF,KAAe,CAArB,CADV;AAAA,UAEE8G,GAAG,GAAG,KAAKF,CAAC,CAAC3G,OAAF,EAFb;AAAA,UAGE8G,IAAI,GAAGH,CAAC,CAAC7G,WAAF,EAHT;AAKA,UAAI8G,KAAK,CAAChL,MAAN,GAAe,CAAnB,EAAsBgL,KAAK,GAAG,MAAMA,KAAd;AACtB,UAAIC,GAAG,CAACjL,MAAJ,GAAa,CAAjB,EAAoBiL,GAAG,GAAG,MAAMA,GAAZ;AAEpB,aAAO,CAAEA,GAAF,EAAOD,KAAP,EAAgBE,IAAhB,EAAsBC,IAAtB,CAA2B,GAA3B,CAAP;AACD,KAt7BM;AAw7BPE,IAAAA,cAx7BO,0BAw7BQtG,IAx7BR,EAw7Bc;AACnB,UAAIgG,CAAC,GAAG,IAAItH,IAAJ,CAASsB,IAAT,CAAR;AAAA,UACEuG,SAAS,GAAGP,CAAC,CAAC5G,QAAF,EADd;AAAA,UAEE8G,GAAG,GAAIF,CAAC,CAAC3G,OAAF,EAFT;AAAA,UAGE8G,IAAI,GAAGH,CAAC,CAAC7G,WAAF,EAHT;AAKA,UAAIqH,SAAS,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,EAAkD,KAAlD,EAAyD,MAAzD,EAAiE,KAAjE,EAAwE,KAAxE,EAA+E,KAA/E,CAAhB;AAEA,UAAIC,SAAS,GAAGD,SAAS,CAACD,SAAD,CAAzB,CARmB,CAUnB;AACA;;AAEA,aAAO,CAAEL,GAAF,EAAOO,SAAP,EAAoBN,IAApB,EAA0BC,IAA1B,CAA+B,GAA/B,CAAP;AACD,KAt8BM;AAw8BPM,IAAAA,UAx8BO,sBAw8BI1G,IAx8BJ,EAw8BU;AACf,UAAIgG,CAAC,GAAG,IAAItH,IAAJ,CAASsB,IAAT,CAAR;AAAA,UACEuG,SAAS,GAAGP,CAAC,CAAC5G,QAAF,EADd;AAAA,UAEE8G,GAAG,GAAIF,CAAC,CAAC3G,OAAF,EAFT;AAAA,UAGE8G,IAAI,GAAGH,CAAC,CAAC7G,WAAF,EAHT;AAKA,UAAIqH,SAAS,GAAG,CAAC,QAAD,EAAW,YAAX,EAAyB,QAAzB,EAAmC,QAAnC,EAA6C,SAA7C,EAAwD,UAAxD,EAAoE,SAApE,EAA+E,SAA/E,EAA0F,SAA1F,EAAqG,QAArG,EAA+G,WAA/G,EAA4H,SAA5H,CAAhB;AAEA,UAAIC,SAAS,GAAGD,SAAS,CAACD,SAAD,CAAzB,CARe,CAUf;AACA;;AAEA,aAAO,CAAEL,GAAF,EAAOO,SAAP,EAAoBN,IAApB,EAA0BC,IAA1B,CAA+B,GAA/B,CAAP;AACD,KAt9BM;AAw9BPO,IAAAA,UAx9BO,sBAw9BIC,QAx9BJ,EAw9Bc;AAGnB,UAAI,OAAQA,QAAR,KAAsB,QAA1B,EACA;AACE,YAAIC,GAAG,GAAGD,QAAQ,CAAC5L,KAAT,CAAe,GAAf,CAAV;;AACA,YAAI6L,GAAG,CAAC5L,MAAJ,GAAa,CAAjB,EAAoB;AAClB,iBAAO,EAAP;AACD;AACF;;AAED,UAAI+E,IAAI,GAAG,IAAItB,IAAJ,CAASkI,QAAT,CAAX;AACA,UAAIE,KAAK,GAAG9G,IAAI,CAAC+G,QAAL,EAAZ;AAIAlJ,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,UAAyCkC,IAAzC;AAEA,UAAIgH,OAAO,GAAGhH,IAAI,CAACiH,UAAL,EAAd;AACA,UAAIC,IAAI,GAAGJ,KAAK,IAAI,EAAT,GAAc,IAAd,GAAqB,IAAhC;AACAA,MAAAA,KAAK,GAAGA,KAAK,GAAG,EAAhB;AACAA,MAAAA,KAAK,GAAGA,KAAK,GAAGA,KAAH,GAAW,EAAxB,CArBmB,CAqBS;;AAC5BE,MAAAA,OAAO,GAAGA,OAAO,GAAG,EAAV,GAAe,MAAIA,OAAnB,GAA6BA,OAAvC;AACA,UAAIG,OAAO,GAAGL,KAAK,GAAG,GAAR,GAAcE,OAAd,GAAwB,GAAxB,GAA8BE,IAA5C;AACA,aAAOC,OAAP;AACD,KAj/BM;AAo/BPC,IAAAA,eAp/BO,2BAo/BSpH,IAp/BT,EAo/Be;AACpB,aAAO,KAAKjC,UAAL,CAAgBiC,IAAhB,IAAwB,gBAA/B;AACD,KAt/BM;AAu/BPU,IAAAA,WAv/BO,uBAu/BK2G,KAv/BL,EAu/BY;AACjB;AACAA,MAAAA,KAAK,GAAG,KAAKC,YAAL,CAAkBD,KAAlB,CAAR;AACA,UAAI7H,MAAM,GAAGe,KAAK,CAAC8G,KAAD,CAAL,GAAe,CAAf,GAAmBA,KAAhC;AAEA,aAAO7H,MAAM,CAAC+H,QAAP,GAAkBC,OAAlB,CAA0B,yBAA1B,EAAqD,KAArD,CAAP;AACD,KA7/BM;AA+/BPC,IAAAA,iBA//BO,6BA+/BWJ,KA//BX,EA+/BkB;AACvB,UAAIK,GAAG,GAAG,CAACL,KAAK,GAAG,CAAT,EAAYM,OAAZ,CAAoB,CAApB,EAAuBH,OAAvB,CAA+B,GAA/B,EAAoC,GAApC,CAAV;AACA,aAAOE,GAAG,CAACH,QAAJ,GAAeC,OAAf,CAAuB,uBAAvB,EAAgD,GAAhD,CAAP;AACD,KAlgCM;AAmgCPF,IAAAA,YAngCO,wBAmgCMD,KAngCN,EAmgCa;AAClB,UAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAE7BA,QAAAA,KAAK,GAAGlH,MAAM,CAACkH,KAAK,CAACG,OAAN,CAAc,GAAd,EAAmB,EAAnB,CAAD,CAAd;AACD;;AACD,UAAIjH,KAAK,CAAC8G,KAAD,CAAT,EAAkB;AAChBA,QAAAA,KAAK,GAAG,CAAR;AACD;;AACD,aAAOA,KAAP;AACD,KA5gCM;AA6gCPO,IAAAA,YA7gCO,wBA6gCMP,KA7gCN,EA6gCa;AAClB,UAAI9G,KAAK,CAACJ,MAAM,CAACkH,KAAD,CAAP,CAAT,EAA0B,OAAO,CAAP;AAC1B,aAAOlH,MAAM,CAACkH,KAAD,CAAb;AACD,KAhhCM;AAihCPQ,IAAAA,YAjhCO,wBAihCMR,KAjhCN,EAihCa;AAClB,UAAI9G,KAAK,CAACJ,MAAM,CAACkH,KAAD,CAAP,CAAT,EAA0B,OAAO,CAAP;AAC1B,aAAOlH,MAAM,CAACkH,KAAD,CAAb;AACD,KAphCM;AAqhCP;AACAS,IAAAA,MAthCO,kBAshCAT,KAthCA,EAshCO;AACZ,aAAOA,KAAK,YAAY3I,IAAxB;AACD;AAxhCM;AAzBI,CAAf","sourcesContent":["import axios from 'axios';\nimport store from \"@/core/services/store\"\nimport Swal from 'sweetalert2'\n\nexport default {\n  watch: {\n\n  },\n  data() {\n    return {\n      theHeader: {}\n    }\n  },\n  computed: {\n//  *** BEGIN : 2020-04-06 : TAX INFO\n    taxInfo(){\n      return store.getters[\"shop/tax\"];\n    }\n  },\n  async created() {\n     await store.dispatch('shop/fetch');\n    // var tk = localStorage.getItem(\"token\");\n    // var theToken = JSON.parse(tk);\n    // this.$store.state.auth.apiHeader = {\n    //   headers: {\n    //     Authorization: \"bearer \" + theToken\n    //   }\n    // };\n  },\n  methods: {\n    // *** 2021-04-013 ระบภาษี\n    // *** rentalPriceTotal1 = this.rentalPriceTotal\n\n    // ยอดเช่าสุทธิ\n\n    rentalPriceTotal_final(rentalPrice, rentalDiscount){\n      //  CASE1 กรณี อยู่ในระบบ VAT | ไม่มีส่วนลด | ราคารวม VAT\n      if(this.taxInfo.vatSystem===true && this.taxInfo.inVat===true && this.isRentalDiscount(rentalDiscount) === false)\n        return this.rentalPriceTotal1(rentalPrice);\n      //  CASE2 กรณี อยู่ในระบบ VAT | ไม่มีส่วนลด | ราคาไม่รวม\n      if(this.taxInfo.vatSystem===true && this.taxInfo.inVat===false && this.isRentalDiscount(rentalDiscount) === false)\n        return this.rentalPriceTotal2(rentalPrice);\n      //  CASE3 กรณี อยู่ในระบบ VAT | มีส่วนลด | ราคารวม VAT\n      if(this.taxInfo.vatSystem===true && this.taxInfo.inVat===true && this.isRentalDiscount(rentalDiscount) === true)\n        return this.rentalPriceTotal3(rentalPrice, rentalDiscount);\n      //  CASE4 กรณี อยู่ในระบบ VAT | มีส่วนลด | ราคาไม่รวม VAT\n      if(this.taxInfo.vatSystem===true && this.taxInfo.inVat===false && this.isRentalDiscount(rentalDiscount) === true)\n        return this.rentalPriceTotal4(rentalPrice, rentalDiscount);\n    },\n    vat_final(rentalPrice, rentalDiscount){\n      //  CASE1 กรณี อยู่ในระบบ VAT | ไม่มีส่วนลด | ราคารวม VAT\n      if(this.taxInfo.vatSystem===true && this.taxInfo.inVat===true && this.isRentalDiscount(rentalDiscount) === false)\n        return this.vat1(rentalPrice);\n      //  CASE2 กรณี อยู่ในระบบ VAT | ไม่มีส่วนลด | ราคาไม่รวม\n      if(this.taxInfo.vatSystem===true && this.taxInfo.inVat===false && this.isRentalDiscount(rentalDiscount) === false)\n        return this.vat2(rentalPrice);\n      //  CASE3 กรณี อยู่ในระบบ VAT | มีส่วนลด | ราคารวม VAT\n      if(this.taxInfo.vatSystem===true && this.taxInfo.inVat===true && this.isRentalDiscount(rentalDiscount) === true)\n        return this.vat3(rentalPrice, rentalDiscount);\n      //  CASE4 กรณี อยู่ในระบบ VAT | มีส่วนลด | ราคาไม่รวม VAT\n      if(this.taxInfo.vatSystem===true && this.taxInfo.inVat===false && this.isRentalDiscount(rentalDiscount) === true)\n        return this.vat4(rentalPrice, rentalDiscount);\n    },\n    beforeVat_final(rentalPrice, rentalDiscount){\n      //  CASE1 กรณี อยู่ในระบบ VAT | ไม่มีส่วนลด | ราคารวม VAT\n      if(this.taxInfo.vatSystem===true && this.taxInfo.inVat===true && this.isRentalDiscount(rentalDiscount) === false)\n        return this.beforeVat1(rentalPrice);\n      //  CASE2 กรณี อยู่ในระบบ VAT | ไม่มีส่วนลด | ราคาไม่รวม\n      if(this.taxInfo.vatSystem===true && this.taxInfo.inVat===false && this.isRentalDiscount(rentalDiscount) === false)\n        return this.beforeVat2(rentalPrice);\n      //  CASE3 กรณี อยู่ในระบบ VAT | มีส่วนลด | ราคารวม VAT\n      if(this.taxInfo.vatSystem===true && this.taxInfo.inVat===true && this.isRentalDiscount(rentalDiscount) === true)\n        return this.beforeVat3(rentalPrice, rentalDiscount);\n      //  CASE4 กรณี อยู่ในระบบ VAT | มีส่วนลด | ราคาไม่รวม VAT\n      if(this.taxInfo.vatSystem===true && this.taxInfo.inVat===false && this.isRentalDiscount(rentalDiscount) === true)\n        return this.beforeVat4(rentalPrice, rentalDiscount);\n    },\n    beforeVat1(rentalPrice){\n      // ไม่มีส่วนลด ราคาในสต็อครวมภาษี (VAT1)\n      return rentalPrice - this.vat1(rentalPrice);\n    },\n    vat1(rentalPrice){\n      // ไม่มีส่วนลด ราคาในสต็อครวมภาษี (VAT1)\n      return rentalPrice * (this.taxInfo.taxRate / (100 + this.taxInfo.taxRate) );\n    },\n    rentalPriceTotal1(rentalPrice){\n      // ไม่มีส่วนลด ราคาในสต็อครวมภาษี (VAT1)\n      return rentalPrice ;\n\n    },\n    // ================================\n\n    beforeVat2(rentalPrice){\n      // ไม่มีส่วนลด ราคาในสต็อคไม่รวมภาษี (VAT2)\n      return rentalPrice;\n    },\n    vat2(rentalPrice){\n      // ไม่มีส่วนลด ราคาในสต็อคไม่รวมภาษี (VAT2)\n      return rentalPrice * (this.taxInfo.taxRate / 100);\n    },\n    rentalPriceTotal2(rentalPrice){\n      // ไม่มีส่วนลด ราคาในสต็อคไม่รวมภาษี (VAT2)\n      return rentalPrice + this.vat2(rentalPrice);\n\n    },\n\n    // ================================\n\n    beforeVat3(rentalPrice, rentalDiscount){\n      // มีส่วนลด ราคาในสต็อครวมภาษี (VAT3)\n      var discount = 0;\n      if(this.isRentalDiscount(rentalDiscount)){\n          discount = rentalDiscount;\n      }\n      return this.rentalPriceTotal3(rentalPrice, discount) - this.vat3(rentalPrice, discount);\n    },\n    vat3(rentalPrice, rentalDiscount ){\n      // มีส่วนลด ราคาในสต็อครวมภาษี (VAT3)\n      var discount = 0;\n      if(this.isRentalDiscount(rentalDiscount)){\n          discount = rentalDiscount;\n      }\n\n      return this.rentalPriceTotal3(rentalPrice, discount) * (this.taxInfo.taxRate  / (100 + this.taxInfo.taxRate ) );\n    },\n    rentalPriceTotal3(rentalPrice, rentalDiscount){\n      var discount = 0;\n      if(this.isRentalDiscount(rentalDiscount)){\n          discount = rentalDiscount;\n      }\n      // มีส่วนลด ราคาในสต็อครวมภาษี (VAT3)\n      return rentalPrice - discount;\n\n    },\n    // ================================\n     beforeVat4(rentalPrice, rentalDiscount){\n      // มีส่วนลด ราคาในสต็อคไม่รวมภาษี (VAT4)\n       var discount = 0;\n      if(this.isRentalDiscount(rentalDiscount)){\n          discount = rentalDiscount;\n      }\n      return rentalPrice - discount;\n    },\n    vat4(rentalPrice, rentalDiscount){\n      // มีส่วนลด ราคาในสต็อคไม่รวมภาษี (VAT4)\n       var discount = 0;\n      if(this.isRentalDiscount(rentalDiscount)){\n          discount = rentalDiscount;\n      }\n      return  this.beforeVat4(rentalPrice, discount)  * (this.taxInfo.taxRate  / 100);\n    },\n    rentalPriceTotal4(rentalPrice, rentalDiscount){\n       var discount = 0;\n      if(this.isRentalDiscount(rentalDiscount)){\n          discount = rentalDiscount;\n      }\n\n      return this.beforeVat4(rentalPrice, discount)  + this.vat4(rentalPrice, discount);\n    },\n    isRentalDiscount(rentalDiscount){\n         if(\n              rentalDiscount > 0 &&\n                  rentalDiscount != undefined &&\n                  rentalDiscount != null\n         )\n         return true;\n         else return false;\n    },\n    // *** 2021-04-013 ระบภาษี\n\n    // blueLight(event) {\n    //   if (event.target.className == \"choose\") {\n    //     event.target.className = \"notChoose\";\n    //   } else {\n    //     event.target.className = \"choose\";\n    //   }\n    // },\n\n    getShopLineScore(shopInfo){\n      var lineNumber = 0;\n      var spCount;\n      var sptStr = \"<p>\";\n      var weight = 4;\n\n      if(shopInfo.termAndCondition === null || shopInfo.termAndCondition === undefined || shopInfo.termAndCondition === \"\")\n      {\n          return 0;\n      }else{\n          spCount = shopInfo.termAndCondition.split(sptStr);\n      }\n      lineNumber = spCount.length - 1;\n\n      return Math.ceil(lineNumber/weight);\n\n    },\n\n    async checkQueueShare(list) {\n      var res = null;\n      try {\n        res = await axios.post(\n          store.state.apiURL + \"/api/orderdetail/checkq\",\n          list,\n          this.$store.state.auth.apiHeader\n        );\n      } catch (error) {\n        // this.noticeError(error);\n        return null;\n\n      }\n\n      return await res.data;\n    },\n\n    generateRandom(length) {\n      var result = '';\n      var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n      var charactersLength = characters.length;\n      for (var i = 0; i < length; i++) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n      }\n      return result;\n    },\n    numRange(num) {\n      var arr = [] // create an empty array with length #num\n      for (var i = 0; i < num; i++) {\n        arr.push(i);\n      }\n      return arr;\n    },\n    filteringMore(\n      list /* Array of object list */ ,\n      filtering /* Array single list */ ,\n      filedName\n    ) {\n      // console.log('@filteringMore / orginalList', list);\n      // console.log('@filteringMore / filtering', filtering);\n\n      var templist = [];\n      if (filtering.length >= 1) {\n        for (var i = 0; i < list.length; i++) {\n          for (var j = 0; j < filtering.length; j++) {\n            if (list[i][filedName] === filtering[j]) {\n              // console.log('@filteringMore / list[i][filedName]', list[i][filedName]);\n              // console.log('@filteringMore / filtering[j]', filtering[j]);\n              templist.push(list[i]);\n            }\n          }\n        }\n      }\n      return templist;\n    },\n    automapper(list, keys) {\n      var newlist = [];\n      for (let i = 0; i < list.length; i++) {\n        var item = {};\n        for (let j = 0; j < keys.length; j++) {\n          if (list[0].hasOwnProperty(keys[j])) {\n            item[keys[j]] = list[i][keys[j]];\n          }\n\n        }\n        const it = Object.assign({}, item);\n        newlist.push(it);\n      }\n\n      return newlist;\n\n    },\n\n    convertToArray(list, prop) {\n      var newlist = [];\n\n      for (var i = 0; i < list.length; i++) {\n        newlist.push(list[i][prop]);\n      }\n\n      return newlist;\n    },\n\n\n    cloneArray(original) {\n      var newlist = [];\n\n      for (var i = 0; i < original.length; i++) {\n        newlist.push(original[i]);\n      }\n\n      return newlist;\n    },\n\n\n    searchByDate(list, startDate, endDate, filedName) {\n      console.log('@searchByDate startDate >>> ', this.formatDate(startDate));\n      console.log('@searchByDate endDate >>> ', this.formatDate(endDate));\n\n      var templist = [];\n      for (var i = 0; i < list.length; i++) {\n        var listdate = this.formatDate(list[i][filedName]);\n        var ckin = this.formatDate(startDate);\n        var ckout = this.formatDate(endDate);\n\n\n        if (listdate >= ckin && listdate <= ckout) {\n          templist.push(list[i]);\n        }\n      }\n      // console.log(\"searchByDate\", templist);\n\n      return templist;\n    },\n\n\n    descendingSortShare(inputList, sortingField) {\n      var list = [];\n      for (var i = 0; i < inputList.length; i++) {\n        list.push(inputList[i]);\n      }\n      list.sort((a, b) => b[sortingField] - a[sortingField]);\n      return list;\n    },\n    descendingDateSortShare(inputList, sortingField) {\n      var list = [];\n      for (var i = 0; i < inputList.length; i++) {\n        list.push(inputList[i]);\n      }\n      list.sort((a, b) => new Date(b[sortingField]) - new Date(a[sortingField]));\n      return list;\n    },\n\n    ascendingSortShare(inputList, sortingField) {\n      var list = [];\n      for (var i = 0; i < inputList.length; i++) {\n        list.push(inputList[i]);\n      }\n      list.sort((a, b) => a[sortingField] - b[sortingField]);\n      return list;\n    },\n\n    ascendingDateSortShare(inputList, sortingField) {\n      var list = [];\n      for (var i = 0; i < inputList.length; i++) {\n        list.push(inputList[i]);\n      }\n      list.sort((a, b) => new Date(a[sortingField]) - new Date(b[sortingField]));\n      return list;\n    },\n\n\n\n    date_diff_indays(date1, date2) {\n      var dt1 = new Date(date1);\n      var dt2 = new Date(date2);\n      return Math.floor(\n        (Date.UTC(dt2.getFullYear(), dt2.getMonth(), dt2.getDate()) -\n          Date.UTC(dt1.getFullYear(), dt1.getMonth(), dt1.getDate())) /\n        (1000 * 60 * 60 * 24)\n      );\n    },\n\n    getdate(dad, amount) {\n\n\n      var newdate = new Date(dad);\n\n      newdate.setDate(newdate.getDate() + amount);\n\n      var dd = newdate.getDate();\n      var mm = newdate.getMonth() + 1;\n      var y = newdate.getFullYear();\n\n      var someFormattedDate = y + '-' + mm + '-' + dd;\n      return someFormattedDate;\n    },\n\n    addDay(date, days) {\n      const copy = new Date(Number(date));\n      copy.setDate(date.getDate() + days);\n      return copy;\n    },\n    realRentalPrice(rentalPrice, rentalDiscount, promotionDiscount) {\n      var rp = isNaN(Number(rentalPrice)) ? 0 : Number(rentalPrice);\n\n      var rd = isNaN(Number(rentalDiscount)) ? 0 : Number(rentalDiscount);\n\n      var pd = isNaN(Number(promotionDiscount)) ? 0 : Number(promotionDiscount);\n\n      return this.formatPrice(rp - rd - pd);\n    },\n    realBail(bailTotal, bailDiscount) {\n      var bt = isNaN(Number(bailTotal)) ? 0 : Number(bailTotal);\n      var bd = isNaN(Number(bailDiscount)) ? 0 : Number(bailDiscount);\n      return this.formatPrice(bt - bd);\n    },\n    realReturn(bailTotal, bailDiscount, deduction) {\n      var bt = isNaN(Number(bailTotal)) ? 0 : Number(bailTotal);\n      var bd = isNaN(Number(bailDiscount)) ? 0 : Number(bailDiscount);\n      var dd = isNaN(Number(deduction)) ? 0 : Number(deduction);\n      return this.formatPrice(bt - bd - dd);\n    },\n    getPermission() {\n      return store.state.auth.permission;\n    },\n    checkPermissionShare(roles) {\n      var pm = roles.filter(\n        x =>\n        x.roleName === \"owner\" ||\n        x.roleName === \"admin\" ||\n        x.roleName === \"accountingadmin\" ||\n        x.roleName === \"useradmin\"\n      );\n      if (pm.length >= 1) {\n        return \"admin\";\n      } else {\n        return \"staff\";\n      }\n    },\n\n    async getList(url) {\n      // this.$vs.loading({\n      //   type: \"radius\"\n      // });\n      var response = null;\n      try {\n        response = await axios.get(\n          store.state.apiURL + url, store.state.auth.apiHeader\n        );\n      } catch (error) {\n        setTimeout(() => {\n          // this.$vs.loading.close();\n        }, 1000);\n        // // this.noticeError(error);\n        return null;\n\n      }\n\n      setTimeout(() => {\n        // this.$vs.loading.close();\n      }, 1000);\n\n      return await response.data;\n    },\n    async getOne(url) {\n      // this.$vs.loading({\n      //   type: \"radius\"\n      // });\n      var response = null;\n      try {\n        response = await axios.get(\n          store.state.apiURL + url, store.state.auth.apiHeader\n        );\n      } catch (error) {\n        setTimeout(() => {\n          // this.$vs.loading.close();\n        }, 1000);\n        // this.noticeError(error);\n        return null;\n\n      }\n\n      setTimeout(() => {\n        // this.$vs.loading.close();\n      }, 1000);\n      return await response.data;\n    },\n    async updateShare(url, item, id) {\n      // this.$vs.loading({\n      //   type: \"radius\"\n      // });\n      var response;\n      try {\n        response = await this.$http.put(\n          this.$store.state.apiURL + url + \"/\" + id,\n          item,\n          store.state.auth.apiHeader\n        );\n\n      } catch (error) {\n        setTimeout(() => {\n          // this.$vs.loading.close();\n        }, 300);\n        // this.noticeError(error);\n        return null;\n      }\n      setTimeout(() => {\n        this.noticeSuccess(\"บันทึกสำเร็จ\");\n        this.$vs.loading.close();\n      }, 300);\n\n      return await response.data;\n    },\n\n    async put(url, item, id) {\n      var response;\n      try {\n        response = await axios.put(store.state.apiURL + url + \"/\" + id, item, this.$store.state.auth.apiHeader);\n      } catch (error) {\n        if (error.response) {\n          //   console.log(\"error.response >>> \", error.response);\n          return error.response;\n        } else {\n          return null;\n        }\n      }\n\n      return await response.data;\n    },\n\n\n\n    async createShare(url, item) {\n      this.$vs.loading({\n        type: \"radius\"\n      });\n      var response;\n      try {\n        response = await this.$http.post(\n          this.$store.state.apiURL + url,\n          item,\n          store.state.auth.apiHeader\n        );\n\n      } catch (error) {\n        setTimeout(() => {\n          this.$vs.loading.close();\n        }, 300);\n        // this.noticeError(error);\n        return null;\n      }\n      setTimeout(() => {\n        this.noticeSuccess(\"บันทึกสำเร็จ\");\n        this.$vs.loading.close();\n      }, 300);\n\n      return await response.data;\n    },\n\n    remaining(maxText, theText){\n      if(theText === undefined || theText === null) theText = \"\";\n      this.blockText = theText;\n      this.previousText\n      var t = maxText - theText.length;\n      if(t <= 0) return 0;\n      else\n        return t;\n    },\n\n    async post(url, item) {\n      var response;\n\n      try {\n        response = await axios.post(store.state.apiURL + url, item, this.$store.state.auth.apiHeader);\n      } catch (error) {\n        if (error.response) {\n          //   console.log(\"error.response >>> \", error.response);\n          return error.response;\n        } else {\n          return null;\n        }\n      }\n\n      return await response.data;\n    },\n\n\n    async loadAllWebOrderShare() {\n      var response = null;\n      try {\n        response = await axios.get(\n          store.state.apiURL + \"/api/Nbs4u0m9pehXse/weborder\", this.$store.state.auth.apiHeader\n\n        );\n      } catch (error) {\n        // // this.noticeError(error);\n        return null;\n\n      }\n\n      return await response.data;\n    },\n\n    async loadAllOrderShare() {\n      var response = null;\n      try {\n        response = await axios.get(\n          store.state.apiURL + \"/api/orderheader\", this.$store.state.auth.apiHeader\n\n\n        );\n      } catch (error) {\n        // this.noticeError(error);\n        return null;\n\n      }\n\n      return await response.data;\n    },\n    async loadAllDetailShare() {\n      var response;\n      try {\n        response = await axios.get(\n          store.state.apiURL + \"/api/orderdetail\",\n          store.state.auth.apiHeader\n        );\n      } catch (error) {\n        // this.noticeError(error);\n      }\n\n      return await response.data;\n    },\n    async loadDetailShare(orderId) {\n      var response;\n      try {\n        response = await axios.get(\n          store.state.apiURL + \"/api/orderdetail/\" + orderId,\n          this.$store.state.auth.apiHeader\n        );\n      } catch (error) {\n        // this.noticeError(error);\n      }\n\n      return await response.data;\n    },\n\n    async loadBranchShare(id) {\n      var response = null;\n      try {\n        response = await axios.get(\n          store.state.apiURL + \"/api/branch/\" + id,\n          this.$store.state.auth.apiHeader\n        );\n      } catch (error) {\n        // this.noticeError(error);\n        return null;\n      }\n\n      return await response.data;\n    },\n\n    async loadBranchOrderShare(branchId) {\n      var response;\n      try {\n        response = await axios.get(\n          store.state.apiURL + \"/api/orderheader/branch/\" + branchId,\n          this.$store.state.auth.apiHeader\n        );\n      } catch (error) {\n        // this.noticeError(error);\n      }\n\n      return await response.data;\n    },\n    async loadOrderByBranchShared(branchlist) {\n      var response;\n      try {\n        response = await axios.post(\n          store.state.apiURL + \"/api/orderheader/bybranches\" ,\n          branchlist,\n          this.$store.state.auth.apiHeader\n        );\n      } catch (error) {\n        // this.\n        // this.noticeError(error);\n      }\n\n      return await response.data;\n    },\n    async loadOrderByBranchObjectShared(aBranch) {\n      var response;\n      var arr = [];\n      // แปลงเป็น array ก่อน\n      arr.push(aBranch);\n      try {\n        response = await axios.post(\n          store.state.apiURL + \"/api/orderheader/bybranches\" ,\n          arr,\n          this.$store.state.auth.apiHeader\n        );\n      } catch (error) {\n        // this.\n        // this.noticeError(error);\n      }\n\n      return await response.data;\n    },\n  //   validateEmail(email) {\n  //     const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  //     return re.test(String(email).toLowerCase());\n  //  },\n    async loadBranchOrderPickupdateSortShare(branchId) {\n      var response;\n      try {\n        response = await axios.get(\n          store.state.apiURL + \"/api/orderheader/branch/pickupdate-sort/\" + branchId,\n          this.$store.state.auth.apiHeader\n        );\n      } catch (error) {\n        // this.noticeError(error);\n      }\n\n      return await response.data;\n    },\n    async getBranchByCode(code) {\n\n      var br = await this.loadAllBranchShare();\n      var aBranch = null;\n\n      if (br === null || br === undefined || br.length === 0) {\n        aBranch = await br.find(x => x.code === \"0\");\n      } else {\n        aBranch = await br.find(x => x.code === code);\n\n      }\n\n      return aBranch;\n\n    },\n\n    async getBranchShare(id) {\n\n      var response;\n      try {\n        response = await axios.get(\n          store.state.apiURL + \"/api/branch/\" + id,\n          this.$store.state.auth.apiHeader\n        );\n      } catch (error) {\n        // this.noticeError(error);\n        return null;\n      }\n\n      return await response.data;\n\n\n    },\n\n    async getAllBranch() {\n\n      var response;\n      try {\n        response = await axios.get(\n          store.state.apiURL + \"/api/branch\",\n          this.$store.state.auth.apiHeader\n        );\n      } catch (error) {\n        // this.noticeError(error);\n        Swal.fire({\n          icon: 'error',\n          title: 'มียางอย่างผิดพลาด',\n          // text: 'Something went wrong!',\n        });\n        return null;\n      }\n\n      return await response.data;\n\n\n    },\n\n    getImagepath(mainImage) {\n      if (\n        mainImage === undefined ||\n        mainImage === null ||\n        mainImage === \"\" ||\n        mainImage === this.$store.state.imageStore\n      ) {\n        return this.$store.state.defaultImage;\n      } else {\n        if (mainImage.startsWith(\"https://\"))\n          return mainImage;\n        else\n          return this.$store.state.imageStore + mainImage;\n      }\n    },\n\n    getFullPath(mainImage) {\n      if (mainImage === undefined || mainImage === null || mainImage === \"\") {\n\n        return store.state.imageStore + \"defaultimage.png\";\n      } else {\n        return store.state.imageStore + mainImage;\n      }\n    },\n    baseImagePath(mainImage) {\n      if (mainImage === undefined || mainImage === null || mainImage === \"\") {\n\n        return store.state.imageStore + \"defaultimage.png\";\n      } else {\n        return store.state.baseImageStore + mainImage;\n      }\n    },\n    getWebPath(mainImage) {\n      if (mainImage === undefined || mainImage === null || mainImage === \"\") {\n\n        return store.state.imageStore + \"defaultimage.png\";\n      } else {\n        return store.state.webImage + mainImage;\n      }\n    },\n\n    async loadAllBranchShare() {\n      var response;\n      try {\n        response = await axios.get(\n          store.state.apiURL + \"/api/branch\",\n          this.$store.state.auth.apiHeader\n        );\n      } catch (error) {\n        // this.noticeError(error);\n        return null;\n      }\n\n      return await response.data;\n    },\n\n    //*** 2021-03-09 : BEGIN For ABB RECEIPT\n\n    calculateScoreForAbbReceipt(shopLineScore, recordScore) {\n  //   คำอธิบาย 3 บรรทัด ตีเป็น 1 record\n  //   เฉลิี่ยจะมี 6 บรรทัด หรือ 2 record สำหรับ ข้อตกลงการเช่าชุด\n\n  //   ----------------------------------------------------------------------------------------\n  // 1 Record ความสูง 64px หรือประมาณ 16.93333\n  // 1 px ~ 0.2645833333 mm\n  // 1 Records ประมาณ 16.9333333312 mm\n  // 5 Records ประมาณ 85 mm\n\n  //  1. up to 3 records (1 record + 6 lines) 300mm / 310mm (html / pagesize)\n  //  2. up to 4 - 5 records (2 records + 3 records)  320mm / 330mm (html / pagesize)\n  //  3. up to 6 - 7 records (2 records + 5 records)  350mm / 360mm  (html / pagesize)\n  //  4. up to 8 - 12 records  450mm / 460mm (html / pagesize)\n  //  5. up to 13 - 17 records  550mm / 560mm (html / pagesize)\n  //  6. up to 18 - 22 records  650mm / 660mm (html / pagesize)\n  //  7. up to 23 - 27 records  750mm / 760mm (html / pagesize)\n\n\n\n      var total = shopLineScore + recordScore;\n\n      console.log('total score >>> ', total);\n\n      if (total <= 3) {\n        return 1;\n      } else if (total >= 4 && total <= 5) {\n        return 2\n      } else if (total >= 6 && total <= 8) {\n        return 3\n      } else if (total >= 9 && total <= 12) {\n        return 4\n      } else if (total >= 13 && total <= 17) {\n        return 5\n      } else if (total >= 14 && total <= 22) {\n        return 6\n      } else if (total >= 23 && total <= 27) {\n        return 7\n      }\n\n\n      // if (total <= 3) {\n      //   return 1;\n      // } else if (total >= 4 && total <= 5) {\n      //   return 2\n      // } else if (total >= 6 && total <= 7) {\n      //   return 3\n      // } else if (total >= 8 && total <= 12) {\n      //   return 4\n      // } else if (total >= 13 && total <= 17) {\n      //   return 5\n      // } else if (total >= 18 && total <= 22) {\n      //   return 6\n      // } else if (total >= 23 && total <= 27) {\n      //   return 7\n      // }\n    },\n\n    //*** 2021-03-09 : END For ABB RECEIPT\n\n    async getShopInfo() {\n      var response;\n      try {\n        response = await axios.get(\n          store.state.apiURL + \"/api/shopinfo\",\n          this.$store.state.auth.apiHeader\n        );\n      } catch (err) {\n        // this.noticeError(error);\n        Swal.fire({\n          icon: 'error',\n          title: 'มียางอย่างผิดพลาด',\n          // text: 'Something went wrong!',\n        });\n        return null;\n      }\n\n      return await response.data;\n    },\n    onCopy() {\n            this.$vs.notify({\n                title: 'Success',\n                text: 'Text copied successfully',\n                color: 'success',\n                iconPack: 'feather',\n                position: 'top-center',\n                icon: 'icon-check-circle'\n            })\n        },\n        onError() {\n            this.$vs.notify({\n                title: 'Failed',\n                text: 'Error in copying text',\n                color: 'danger',\n                iconPack: 'feather',\n                position: 'top-center',\n                icon: 'icon-alert-circle'\n            })\n        },\n\n    noticeSuccess(text) {\n      this.$vs.notify({\n        title: \"ดำเนินการสำเร็จ\",\n        position: \"top-center\",\n        text: text,\n        iconPack: \"feather\",\n        icon: \"icon-alert-circle\",\n        color: \"success\"\n      });\n    },\n    noticeError(text) {\n      this.$vs.notify({\n        title: \"เกิดข้อผิดพลาด\",\n        position: \"top-center\",\n        text: text,\n        iconPack: \"feather\",\n        icon: \"icon-alert-circle\",\n        color: \"danger\"\n      });\n    },\n    noticeWarning(title, text) {\n      this.$vs.notify({\n        title: title,\n        position: \"top-center\",\n        text: text,\n        iconPack: \"feather\",\n        icon: \"icon-alert-circle\",\n        color: \"warning\"\n      });\n    },\n    noticeInfo(text) {\n      this.$vs.notify({\n        title: \"เกิดข้อผิดพลาด\",\n        position: \"top-center\",\n        text: text,\n        iconPack: \"feather\",\n        icon: \"icon-alert-circle\",\n        color: \"info\"\n      });\n    },\n\n    formatDate(date) {\n      var d = new Date(date),\n        month = '' + (d.getMonth() + 1),\n        day = '' + d.getDate(),\n        year = d.getFullYear();\n\n      if (month.length < 2) month = '0' + month;\n      if (day.length < 2) day = '0' + day;\n\n      return [year, month, day].join('-');\n    },\n\n    format_ddmmyyy(date) {\n      var d = new Date(date),\n        month = '' + (d.getMonth() + 1),\n        day = '' + d.getDate(),\n        year = d.getFullYear();\n\n      if (month.length < 2) month = '0' + month;\n      if (day.length < 2) day = '0' + day;\n\n      return [ day, month ,  year].join('/');\n    },\n\n    formatAlphabet(date) {\n      var d = new Date(date),\n        month_ind = d.getMonth() ,\n        day =  d.getDate(),\n        year = d.getFullYear();\n\n      var month_arr = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"];\n\n      var month_str = month_arr[month_ind];\n\n      // if (month.length < 2) month = '0' + month;\n      // if (day.length < 2) day = '0' + day;\n\n      return [ day, month_str ,  year].join(' ');\n    },\n\n    formatThai(date) {\n      var d = new Date(date),\n        month_ind = d.getMonth() ,\n        day =  d.getDate(),\n        year = d.getFullYear();\n\n      var month_arr = [\"มกราคม\", \"กุมภาพันธ์\", \"มีนาคม\", \"เมษายน\", \"พฤษภาคม\", \"มิถุนายน\", \"กรกฎาคม\", \"สิงหาคม\", \"กันยายน\", \"ตุลาคม\", \"พฤศจิกายน\", \"ธันวาคม\"];\n\n      var month_str = month_arr[month_ind];\n\n      // if (month.length < 2) month = '0' + month;\n      // if (day.length < 2) day = '0' + day;\n\n      return [ day, month_str ,  year].join(' ');\n    },\n\n    formatAMPM(date_str) {\n\n      \n      if (typeof (date_str) === \"string\")\n      {\n        var spl = date_str.split(' ');\n        if (spl.length < 2) {\n          return \"\";\n        }\n      }\n\n      var date = new Date(date_str);\n      var hours = date.getHours();\n\n      \n\n      console.log(\"AMPM in hours >>>> \",typeof(date));\n\n      var minutes = date.getMinutes();\n      var ampm = hours >= 12 ? 'pm' : 'am';\n      hours = hours % 12;\n      hours = hours ? hours : 12; // the hour '0' should be '12'\n      minutes = minutes < 10 ? '0'+minutes : minutes;\n      var strTime = hours + ':' + minutes + ' ' + ampm;\n      return strTime;\n    },\n\n\n    formatDateLocal(date) {\n      return this.formatDate(date) + \"T00:00:00.000Z\";\n    },\n    formatPrice(value) {\n      // var number = +value.replace(/[^\\d.]/g, \"\");\n      value = this.convertToNum(value);\n      var amount = isNaN(value) ? 0 : value;\n\n      return amount.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\");\n    },\n\n    formatPrice2Point(value) {\n      let val = (value / 1).toFixed(2).replace(\",\", \".\");\n      return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    },\n    convertToNum(value) {\n      if (typeof value === 'string') {\n\n        value = Number(value.replace(\",\", \"\"));\n      }\n      if (isNaN(value)) {\n        value = 0;\n      }\n      return value;\n    },\n    numberFormat(value) {\n      if (isNaN(Number(value))) return 0;\n      return Number(value);\n    },\n    formatNumber(value) {\n      if (isNaN(Number(value))) return 0;\n      return Number(value);\n    },\n    // Returns if value is a date object\n    isDate(value) {\n      return value instanceof Date;\n    },\n    \n  }\n}\n"]}]}